package com.jingdong.aura.core.runing;

import com.jingdong.aura.core.util.FakeProvider;
import com.jingdong.aura.core.util.FakeReceiver;
import com.jingdong.aura.core.util.FakeService;
import com.jingdong.aura.core.util.a.b;
import com.jingdong.aura.core.util.a.c;
import com.jingdong.aura.core.util.i;
import dalvik.system.PathClassLoader;
import java.util.List;
import org.osgi.framework.a;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public class e extends PathClassLoader {
    private static final b a = c.a(e.class);

    public e(ClassLoader classLoader) {
        super(".", classLoader);
    }

    @Override // java.lang.ClassLoader
    public Class<?> loadClass(String str) {
        b bVar = a;
        bVar.a("will loadClass class name = " + str);
        return super.loadClass(str);
    }

    @Override // dalvik.system.BaseDexClassLoader, java.lang.ClassLoader
    protected Class<?> findClass(String str) {
        b bVar = a;
        bVar.c("will find class name = " + str);
        c.b(str);
        Class<?> d = c.d(str);
        if (d != null) {
            return d;
        }
        ClassNotFoundException classNotFoundException = new ClassNotFoundException("Can't find class " + str + ". " + a() + " " + c.a(str));
        if (i.b(str)) {
            com.jingdong.aura.core.b.e.a("ClassNotFound", "findClass receiver failed " + str, "DelegateClassLoader.findClass", classNotFoundException);
            return new FakeReceiver().getClass();
        } else if (i.d(str)) {
            com.jingdong.aura.core.b.e.a("ClassNotFound", "findClass service failed " + str, "DelegateClassLoader.findClass", classNotFoundException);
            return new FakeService().getClass();
        } else if (i.c(str)) {
            com.jingdong.aura.core.b.e.a("ClassNotFound", "findClass provider failed " + str, "DelegateClassLoader.findClass", classNotFoundException);
            return new FakeProvider().getClass();
        } else {
            b bVar2 = a;
            bVar2.c("Can't find class " + str);
            throw classNotFoundException;
        }
    }

    private String a() {
        StringBuilder sb = new StringBuilder("installed bundles: ");
        List<a> g = com.jingdong.aura.core.b.b.b.g();
        if (g != null && !g.isEmpty()) {
            for (a aVar : com.jingdong.aura.core.b.b.b.g()) {
                sb.append(aVar.n());
                sb.append(":");
            }
        }
        return sb.toString();
    }
}
