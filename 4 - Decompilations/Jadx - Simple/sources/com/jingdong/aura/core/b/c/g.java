package com.jingdong.aura.core.b.c;

import com.jingdong.aura.core.b.e;
import com.jingdong.aura.core.nativelib.AuraNative;
import com.jingdong.aura.core.util.a;
import com.jingdong.aura.core.util.a.b;
import java.io.File;
import java.io.IOException;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public class g extends d {
    /* JADX INFO: Access modifiers changed from: package-private */
    public g(String str, int i, File file, File file2) {
        super(str, i, file, file2);
    }

    @Override // com.jingdong.aura.core.b.c.d
    public synchronized void b() {
        if (!a()) {
            File file = new File(this.e, "bundle.dex");
            file.delete();
            if (!a.a().a(file)) {
                b bVar = a;
                bVar.e("Failed to get file lock for " + this.f.getAbsolutePath());
            }
            AuraNative.a(this.f.getAbsolutePath(), file.getAbsolutePath());
            a(file);
            a.a().b(file);
            try {
                f();
            } catch (IOException e) {
                e.printStackTrace();
                e.a(this.c, this.d, "updateMetadata failed.", "optDexFile", e);
            }
        }
    }
}
