package com.jingdong.jdpush_new.datahandle;

import android.content.Context;
import android.content.pm.PackageInfo;
import android.text.TextUtils;
import com.jd.push.common.constant.Command;
import com.jd.push.common.constant.Constants;
import com.jd.push.common.util.CommonUtil;
import com.jd.push.common.util.DateUtils;
import com.jd.push.common.util.LogUtils;
import com.jd.push.common.util.PushMessageUtil;
import com.jd.push.common.util.PushSPUtil;
import com.jingdong.jdpush_new.db.AppInfoDbUtil;
import com.jingdong.jdpush_new.db.NecessaryPageDbUtil;
import com.jingdong.jdpush_new.db.RecordOpenPushInfoUtil;
import com.jingdong.jdpush_new.entity.dbEntity.AppInfo;
import com.jingdong.jdpush_new.entity.dbEntity.NecessaryMessage;
import com.jingdong.jdpush_new.entity.dbEntity.RecordPushInfo;
import com.jingdong.jdpush_new.util.PushUtil;
import com.jingdong.jdpush_new.util.RetryUtil;
import java.util.List;
import org.json.JSONException;
import org.json.JSONObject;

/* loaded from: classes.dex */
public class JDPushMsgParse {
    private static final String TAG = "JDPushMsgParse";
    private static JDPushMsgParse msgParse;
    private LogUtils mLog = LogUtils.getInstance();

    private void doAfterAPPLogin(Context context, String str) {
        if (!TextUtils.isEmpty(str)) {
            try {
                JSONObject jSONObject = new JSONObject(str);
                if (jSONObject.optInt("code") == 0) {
                    HeartbeatManager.getInstance().setHeartStep(jSONObject.optInt("idleTime"));
                    doAfterLoginSuccess(context);
                    return;
                }
                this.mLog.e(TAG, "app login fail");
            } catch (JSONException e) {
                while (true) {
                    e.printStackTrace();
                    return;
                }
            }
        }
    }

    private void doAfterCreatClientId(Context context, String str) {
    }

    private void doAfterHeartBeat(Context context, String str) {
        this.mLog.d(TAG, "收到心跳回执 %s ", new Object[]{DateUtils.currentTime()});
        Constants.JD_PUSH_HEART_TIME--;
    }

    private void doAfterLoginSuccess(Context context) {
        HeartbeatManager.getInstance().openOrCloseHeartBeat(context, true);
        sendRegistrationPage(context);
        sendNecessaryPage(context);
        sendRecordPushPage(context);
    }

    public static JDPushMsgParse getInstance() {
        if (msgParse == null) {
            msgParse = new JDPushMsgParse();
        }
        return msgParse;
    }

    private boolean isAvailable(Context context, String str) {
        List<PackageInfo> installedPackages = context.getPackageManager().getInstalledPackages(0);
        for (int i = 0; i < installedPackages.size(); i++) {
            if (installedPackages.get(i).packageName.equalsIgnoreCase(str)) {
                return true;
            }
        }
        return false;
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r0v0, types: [boolean] */
    /* JADX WARN: Type inference failed for: r0v1 */
    /* JADX WARN: Type inference failed for: r0v2 */
    /* JADX WARN: Type inference failed for: r0v4 */
    /* JADX WARN: Type inference failed for: r0v5 */
    /* JADX WARN: Type inference failed for: r3v0, types: [com.jingdong.jdpush_new.entity.dbEntity.PushMsg] */
    /* JADX WARN: Type inference failed for: r3v1 */
    /* JADX WARN: Type inference failed for: r7v3, types: [com.jingdong.jdpush_new.datahandle.JDPushEventHandler] */
    /* JADX WARN: Type inference failed for: r8v0, types: [short] */
    /* JADX WARN: Type inference failed for: r8v35 */
    /* JADX WARN: Type inference failed for: r8v36 */
    /* JADX WARN: Type inference failed for: r8v6, types: [java.lang.String] */
    /* JADX WARN: Unknown variable types count: 1 */
    /* Code decompiled incorrectly, please refer to instructions dump */
    private void parseExtStation(android.content.Context r6, java.lang.String r7, short r8) {
        /*
            r5 = this;
            boolean r0 = android.text.TextUtils.isEmpty(r7)
            if (r0 == 0) goto L_0x0013
            com.jd.push.common.util.LogUtils r6 = com.jd.push.common.util.LogUtils.getInstance()
            java.lang.String r7 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG
            java.lang.String r8 = "解析消息体数据，msg为空"
            r6.e(r7, r8)
            return
        L_0x0013:
            com.jd.push.common.util.LogUtils r0 = com.jd.push.common.util.LogUtils.getInstance()
            java.lang.String r1 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG
            java.lang.String r2 = "command:%s, msg:%s"
            r3 = 2
            java.lang.Object[] r3 = new java.lang.Object[r3]
            r4 = 0
            java.lang.Short r8 = java.lang.Short.valueOf(r8)
            r3[r4] = r8
            r8 = 1
            r3[r8] = r7
            r0.d(r1, r2, r3)
            r8 = 0
            r0 = 2010(0x7da, float:2.817E-42)
            r1 = 4
            org.json.JSONObject r2 = new org.json.JSONObject     // Catch: JSONException -> 0x00c4, all -> 0x00c1
            r2.<init>(r7)     // Catch: JSONException -> 0x00c4, all -> 0x00c1
            com.jingdong.jdpush_new.entity.dbEntity.PushMsg r3 = new com.jingdong.jdpush_new.entity.dbEntity.PushMsg     // Catch: JSONException -> 0x00c4, all -> 0x00c1
            r3.<init>()     // Catch: JSONException -> 0x00c4, all -> 0x00c1
            java.lang.String r8 = "appid"
            int r8 = r2.optInt(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = java.lang.String.valueOf(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setAppId(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "title"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setTitle(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "payload"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setPayload(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "packageName"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setPackageName(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "echo"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setEcho(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "flowId"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setFlowId(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "extras"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setExtras(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "msgId"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setMsgId(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "msgType"
            int r8 = r2.optInt(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setMsgType(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "deviceTokenSrc"
            int r8 = r2.optInt(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setDeviceTokenSrc(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = com.jd.push.common.util.CommonUtil.getPackageName(r6)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            boolean r8 = r7.contains(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            if (r8 == 0) goto L_0x00b3
            com.jd.push.common.util.LogUtils r8 = com.jd.push.common.util.LogUtils.getInstance()     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r2 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r4 = "收到消息，开始发送广播 ----------- "
            r8.e(r2, r4)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r8 = 11
            r2 = 7
            com.jd.push.common.util.PushMessageUtil.sendMsgToAppBroadcast(r6, r8, r2, r7)     // Catch: JSONException -> 0x00be, all -> 0x00bc
        L_0x00b3:
            com.jingdong.jdpush_new.datahandle.JDPushEventHandler r7 = com.jingdong.jdpush_new.datahandle.JDPushEventHandler.getInstance()
            java.lang.String r8 = com.jingdong.jdpush_new.entity.dbEntity.PushMsg.toJson(r3)
            goto L_0x00da
        L_0x00bc:
            r7 = move-exception
            goto L_0x00de
        L_0x00be:
            r7 = move-exception
            r8 = r3
            goto L_0x00c5
        L_0x00c1:
            r7 = move-exception
            r3 = r8
            goto L_0x00de
        L_0x00c4:
            r7 = move-exception
        L_0x00c5:
            com.jd.push.common.util.LogUtils r2 = com.jd.push.common.util.LogUtils.getInstance()     // Catch: all -> 0x00c1
            java.lang.String r3 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG     // Catch: all -> 0x00c1
            java.lang.String r7 = r7.toString()     // Catch: all -> 0x00c1
            r2.e(r3, r7)     // Catch: all -> 0x00c1
            com.jingdong.jdpush_new.datahandle.JDPushEventHandler r7 = com.jingdong.jdpush_new.datahandle.JDPushEventHandler.getInstance()
            java.lang.String r8 = com.jingdong.jdpush_new.entity.dbEntity.PushMsg.toJson(r8)
        L_0x00da:
            r7.sendJDMessage(r1, r0, r8, r6)
            return
        L_0x00de:
            com.jingdong.jdpush_new.datahandle.JDPushEventHandler r8 = com.jingdong.jdpush_new.datahandle.JDPushEventHandler.getInstance()
            java.lang.String r2 = com.jingdong.jdpush_new.entity.dbEntity.PushMsg.toJson(r3)
            r8.sendJDMessage(r1, r0, r2, r6)
            throw r7
        */
        throw new UnsupportedOperationException("Method not decompiled: com.jingdong.jdpush_new.datahandle.JDPushMsgParse.parseExtStation(android.content.Context, java.lang.String, short):void");
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r0v0, types: [boolean] */
    /* JADX WARN: Type inference failed for: r0v1 */
    /* JADX WARN: Type inference failed for: r0v2 */
    /* JADX WARN: Type inference failed for: r0v4 */
    /* JADX WARN: Type inference failed for: r0v5 */
    /* JADX WARN: Type inference failed for: r3v0, types: [com.jingdong.jdpush_new.entity.dbEntity.PushMsg] */
    /* JADX WARN: Type inference failed for: r3v1 */
    /* JADX WARN: Type inference failed for: r7v3, types: [com.jingdong.jdpush_new.datahandle.JDPushEventHandler] */
    /* JADX WARN: Type inference failed for: r8v0, types: [short] */
    /* JADX WARN: Type inference failed for: r8v32 */
    /* JADX WARN: Type inference failed for: r8v33 */
    /* JADX WARN: Type inference failed for: r8v6, types: [java.lang.String] */
    /* JADX WARN: Unknown variable types count: 1 */
    /* Code decompiled incorrectly, please refer to instructions dump */
    private void parseJDPushMsg(android.content.Context r6, java.lang.String r7, short r8) {
        /*
            r5 = this;
            boolean r0 = android.text.TextUtils.isEmpty(r7)
            if (r0 == 0) goto L_0x0013
            com.jd.push.common.util.LogUtils r6 = com.jd.push.common.util.LogUtils.getInstance()
            java.lang.String r7 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG
            java.lang.String r8 = "解析消息体数据，msg为空"
            r6.e(r7, r8)
            return
        L_0x0013:
            com.jd.push.common.util.LogUtils r0 = com.jd.push.common.util.LogUtils.getInstance()
            java.lang.String r1 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG
            java.lang.String r2 = "command:%s, msg:%s"
            r3 = 2
            java.lang.Object[] r3 = new java.lang.Object[r3]
            r4 = 0
            java.lang.Short r8 = java.lang.Short.valueOf(r8)
            r3[r4] = r8
            r8 = 1
            r3[r8] = r7
            r0.d(r1, r2, r3)
            r8 = 0
            r0 = 2006(0x7d6, float:2.811E-42)
            r1 = 4
            org.json.JSONObject r2 = new org.json.JSONObject     // Catch: JSONException -> 0x00ab, all -> 0x00a8
            r2.<init>(r7)     // Catch: JSONException -> 0x00ab, all -> 0x00a8
            com.jingdong.jdpush_new.entity.dbEntity.PushMsg r3 = new com.jingdong.jdpush_new.entity.dbEntity.PushMsg     // Catch: JSONException -> 0x00ab, all -> 0x00a8
            r3.<init>()     // Catch: JSONException -> 0x00ab, all -> 0x00a8
            java.lang.String r8 = "appid"
            int r8 = r2.optInt(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = java.lang.String.valueOf(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setAppId(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = "title"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setTitle(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = "payload"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setPayload(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = "packageName"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setPackageName(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = "echo"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setEcho(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = "flowId"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setFlowId(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = "extras"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setExtras(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = "msgId"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setMsgId(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = "msgType"
            int r8 = r2.optInt(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setMsgType(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            java.lang.String r8 = "deviceTokenSrc"
            int r8 = r2.optInt(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r3.setDeviceTokenSrc(r8)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            r5.sendMsg(r6, r7)     // Catch: JSONException -> 0x00a5, all -> 0x00a3
            com.jingdong.jdpush_new.datahandle.JDPushEventHandler r7 = com.jingdong.jdpush_new.datahandle.JDPushEventHandler.getInstance()
            java.lang.String r8 = com.jingdong.jdpush_new.entity.dbEntity.PushMsg.toJson(r3)
            goto L_0x00c1
        L_0x00a3:
            r7 = move-exception
            goto L_0x00c5
        L_0x00a5:
            r7 = move-exception
            r8 = r3
            goto L_0x00ac
        L_0x00a8:
            r7 = move-exception
            r3 = r8
            goto L_0x00c5
        L_0x00ab:
            r7 = move-exception
        L_0x00ac:
            com.jd.push.common.util.LogUtils r2 = com.jd.push.common.util.LogUtils.getInstance()     // Catch: all -> 0x00a8
            java.lang.String r3 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG     // Catch: all -> 0x00a8
            java.lang.String r7 = r7.toString()     // Catch: all -> 0x00a8
            r2.e(r3, r7)     // Catch: all -> 0x00a8
            com.jingdong.jdpush_new.datahandle.JDPushEventHandler r7 = com.jingdong.jdpush_new.datahandle.JDPushEventHandler.getInstance()
            java.lang.String r8 = com.jingdong.jdpush_new.entity.dbEntity.PushMsg.toJson(r8)
        L_0x00c1:
            r7.sendJDMessage(r1, r0, r8, r6)
            return
        L_0x00c5:
            com.jingdong.jdpush_new.datahandle.JDPushEventHandler r8 = com.jingdong.jdpush_new.datahandle.JDPushEventHandler.getInstance()
            java.lang.String r2 = com.jingdong.jdpush_new.entity.dbEntity.PushMsg.toJson(r3)
            r8.sendJDMessage(r1, r0, r2, r6)
            throw r7
        */
        throw new UnsupportedOperationException("Method not decompiled: com.jingdong.jdpush_new.datahandle.JDPushMsgParse.parseJDPushMsg(android.content.Context, java.lang.String, short):void");
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r0v0, types: [boolean] */
    /* JADX WARN: Type inference failed for: r0v1 */
    /* JADX WARN: Type inference failed for: r0v2 */
    /* JADX WARN: Type inference failed for: r0v4 */
    /* JADX WARN: Type inference failed for: r0v5 */
    /* JADX WARN: Type inference failed for: r3v0, types: [com.jingdong.jdpush_new.entity.dbEntity.PushMsg] */
    /* JADX WARN: Type inference failed for: r3v1 */
    /* JADX WARN: Type inference failed for: r7v3, types: [com.jingdong.jdpush_new.datahandle.JDPushEventHandler] */
    /* JADX WARN: Type inference failed for: r8v0, types: [short] */
    /* JADX WARN: Type inference failed for: r8v35 */
    /* JADX WARN: Type inference failed for: r8v36 */
    /* JADX WARN: Type inference failed for: r8v6, types: [java.lang.String] */
    /* JADX WARN: Unknown variable types count: 1 */
    /* Code decompiled incorrectly, please refer to instructions dump */
    private void parseJDStation(android.content.Context r6, java.lang.String r7, short r8) {
        /*
            r5 = this;
            boolean r0 = android.text.TextUtils.isEmpty(r7)
            if (r0 == 0) goto L_0x0013
            com.jd.push.common.util.LogUtils r6 = com.jd.push.common.util.LogUtils.getInstance()
            java.lang.String r7 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG
            java.lang.String r8 = "解析消息体数据，msg为空"
            r6.e(r7, r8)
            return
        L_0x0013:
            com.jd.push.common.util.LogUtils r0 = com.jd.push.common.util.LogUtils.getInstance()
            java.lang.String r1 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG
            java.lang.String r2 = "command:%s, msg:%s"
            r3 = 2
            java.lang.Object[] r3 = new java.lang.Object[r3]
            r4 = 0
            java.lang.Short r8 = java.lang.Short.valueOf(r8)
            r3[r4] = r8
            r8 = 1
            r3[r8] = r7
            r0.d(r1, r2, r3)
            r8 = 0
            r0 = 2008(0x7d8, float:2.814E-42)
            r1 = 4
            org.json.JSONObject r2 = new org.json.JSONObject     // Catch: JSONException -> 0x00c4, all -> 0x00c1
            r2.<init>(r7)     // Catch: JSONException -> 0x00c4, all -> 0x00c1
            com.jingdong.jdpush_new.entity.dbEntity.PushMsg r3 = new com.jingdong.jdpush_new.entity.dbEntity.PushMsg     // Catch: JSONException -> 0x00c4, all -> 0x00c1
            r3.<init>()     // Catch: JSONException -> 0x00c4, all -> 0x00c1
            java.lang.String r8 = "appid"
            int r8 = r2.optInt(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = java.lang.String.valueOf(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setAppId(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "title"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setTitle(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "payload"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setPayload(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "packageName"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setPackageName(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "echo"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setEcho(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "flowId"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setFlowId(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "extras"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setExtras(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "msgId"
            java.lang.String r8 = r2.optString(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setMsgId(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "msgType"
            int r8 = r2.optInt(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setMsgType(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = "deviceTokenSrc"
            int r8 = r2.optInt(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r3.setDeviceTokenSrc(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r8 = com.jd.push.common.util.CommonUtil.getPackageName(r6)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            boolean r8 = r7.contains(r8)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            if (r8 == 0) goto L_0x00b3
            com.jd.push.common.util.LogUtils r8 = com.jd.push.common.util.LogUtils.getInstance()     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r2 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG     // Catch: JSONException -> 0x00be, all -> 0x00bc
            java.lang.String r4 = "收到消息，开始发送广播 ----------- "
            r8.e(r2, r4)     // Catch: JSONException -> 0x00be, all -> 0x00bc
            r8 = 9
            r2 = 7
            com.jd.push.common.util.PushMessageUtil.sendMsgToAppBroadcast(r6, r8, r2, r7)     // Catch: JSONException -> 0x00be, all -> 0x00bc
        L_0x00b3:
            com.jingdong.jdpush_new.datahandle.JDPushEventHandler r7 = com.jingdong.jdpush_new.datahandle.JDPushEventHandler.getInstance()
            java.lang.String r8 = com.jingdong.jdpush_new.entity.dbEntity.PushMsg.toJson(r3)
            goto L_0x00da
        L_0x00bc:
            r7 = move-exception
            goto L_0x00de
        L_0x00be:
            r7 = move-exception
            r8 = r3
            goto L_0x00c5
        L_0x00c1:
            r7 = move-exception
            r3 = r8
            goto L_0x00de
        L_0x00c4:
            r7 = move-exception
        L_0x00c5:
            com.jd.push.common.util.LogUtils r2 = com.jd.push.common.util.LogUtils.getInstance()     // Catch: all -> 0x00c1
            java.lang.String r3 = com.jingdong.jdpush_new.datahandle.JDPushMsgParse.TAG     // Catch: all -> 0x00c1
            java.lang.String r7 = r7.toString()     // Catch: all -> 0x00c1
            r2.e(r3, r7)     // Catch: all -> 0x00c1
            com.jingdong.jdpush_new.datahandle.JDPushEventHandler r7 = com.jingdong.jdpush_new.datahandle.JDPushEventHandler.getInstance()
            java.lang.String r8 = com.jingdong.jdpush_new.entity.dbEntity.PushMsg.toJson(r8)
        L_0x00da:
            r7.sendJDMessage(r1, r0, r8, r6)
            return
        L_0x00de:
            com.jingdong.jdpush_new.datahandle.JDPushEventHandler r8 = com.jingdong.jdpush_new.datahandle.JDPushEventHandler.getInstance()
            java.lang.String r2 = com.jingdong.jdpush_new.entity.dbEntity.PushMsg.toJson(r3)
            r8.sendJDMessage(r1, r0, r2, r6)
            throw r7
        */
        throw new UnsupportedOperationException("Method not decompiled: com.jingdong.jdpush_new.datahandle.JDPushMsgParse.parseJDStation(android.content.Context, java.lang.String, short):void");
    }

    private void sendMsg(Context context, String str) {
        LogUtils instance = LogUtils.getInstance();
        instance.e("pushDEBUg", "sendmsg --- " + str);
        if (str.contains(CommonUtil.getPackageName(context))) {
            LogUtils.getInstance().e(TAG, "收到消息，开始发送广播 ----------- ");
            PushMessageUtil.sendMsgToAppBroadcast(context, 2, 7, str);
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r1v0 */
    /* JADX WARN: Type inference failed for: r1v2, types: [java.lang.Object[]] */
    public void doAfterBindClient(Context context, int i, String str, String str2) {
        int i2 = 1;
        try {
            int optInt = new JSONObject(str).optInt(Constants.JdPushMsg.JSON_KEY_STATUS);
            if (optInt == 0) {
                this.mLog.d(TAG, "绑定ClientId成功");
                NecessaryPageDbUtil instance = NecessaryPageDbUtil.getInstance(context);
                NecessaryMessage findPageByID = instance.findPageByID(str2 + i);
                if (findPageByID != null && TextUtils.equals(findPageByID.getStatus(), "1")) {
                    findPageByID.setStatus("0");
                    NecessaryPageDbUtil.getInstance(context).updateItem(findPageByID);
                    return;
                }
                return;
            }
            this.mLog.e(TAG, "ERROR:绑定失败，status:%s", new Object[]{Integer.valueOf(optInt)});
        } catch (JSONException e) {
            while (true) {
                LogUtils logUtils = this.mLog;
                String str3 = TAG;
                i2 = new Object[i2];
                i2[0] = e.toString();
                logUtils.e(str3, "ERROR:绑定失败,%s", (Object[]) i2);
                return;
            }
        }
    }

    public void doAfterOpenMessage(Context context, int i, String str, String str2) {
        try {
            JSONObject jSONObject = new JSONObject(str);
            if (jSONObject.optInt(Constants.JdPushMsg.JSON_KEY_STATUS) == 0) {
                RecordPushInfo findRecordPushMsg = RecordOpenPushInfoUtil.getInstance(context).findRecordPushMsg(jSONObject.optString("msgId"));
                if (findRecordPushMsg != null && TextUtils.equals(findRecordPushMsg.getStatus(), "1")) {
                    findRecordPushMsg.setStatus("0");
                    RecordOpenPushInfoUtil.getInstance(context).updateItem(findRecordPushMsg);
                    return;
                }
                return;
            }
            this.mLog.e(TAG, "doAfterOpenMessage没有成功");
        } catch (JSONException e) {
            while (true) {
                LogUtils logUtils = this.mLog;
                String str3 = TAG;
                logUtils.e(str3, "doAfterOpenMessage.ecp=" + e.getMessage());
                return;
            }
        }
    }

    public void doAfterRegistDT(Context context, int i, String str, String str2) {
        try {
            JSONObject jSONObject = new JSONObject(str);
            if (jSONObject.optInt(Constants.JdPushMsg.JSON_KEY_STATUS) == 0) {
                try {
                    if (jSONObject.has("deviceToken")) {
                        String str3 = PushSPUtil.getInstance().get(context, "usedToken", "") + "";
                        if (TextUtils.equals(str3, jSONObject.getString("deviceToken"))) {
                            PushMessageUtil.sendMsgToAppBroadcast(context, 8, 7, str3);
                        }
                    }
                } catch (Exception unused) {
                }
                AppInfo findAppByAppid = AppInfoDbUtil.getInstance(context).findAppByAppid(str2);
                if (findAppByAppid != null && i == 7) {
                    findAppByAppid.setUpdateStatus("0");
                    AppInfoDbUtil.getInstance(context).updateItem(findAppByAppid);
                }
                NecessaryMessage findPageByID = NecessaryPageDbUtil.getInstance(context).findPageByID(str2 + i + 1001);
                if (findPageByID != null && TextUtils.equals(findPageByID.getStatus(), "1")) {
                    findPageByID.setStatus("0");
                    NecessaryPageDbUtil.getInstance(context).updateItem(findPageByID);
                    return;
                }
                return;
            }
            this.mLog.e(TAG, "doAfterRegistDT没有成功");
        } catch (JSONException e) {
            this.mLog.e(TAG, "doAfterRegistDT.ecp=" + e.getMessage());
        }
    }

    public void doAfterUnBindClientId(Context context, int i, String str, String str2) {
        try {
            if (new JSONObject(str).optInt(Constants.JdPushMsg.JSON_KEY_STATUS) == 0) {
                NecessaryPageDbUtil instance = NecessaryPageDbUtil.getInstance(context);
                NecessaryMessage findPageByID = instance.findPageByID(str2 + i);
                if (findPageByID != null && TextUtils.equals(findPageByID.getStatus(), "1")) {
                    findPageByID.setStatus("0");
                    NecessaryPageDbUtil.getInstance(context).updateItem(findPageByID);
                    return;
                }
                return;
            }
            this.mLog.e(TAG, "doAfterUnBindClientId没有成功");
        } catch (JSONException e) {
            while (true) {
                LogUtils logUtils = this.mLog;
                String str3 = TAG;
                logUtils.e(str3, "doAfterUnBindClientId.ecp=" + e.getMessage());
                return;
            }
        }
    }

    public void doAfterUnBindDT(String str) {
    }

    public void parseMessage(Context context, short s, String str) {
        if (Command.isValidRecCommand(s)) {
            this.mLog.e(TAG, "parseMessage command: %s,msg: %s, %s ", new Object[]{Short.valueOf(s), str, DateUtils.currentTime()});
            switch (s) {
                case 2002:
                    doAfterAPPLogin(context, str);
                    return;
                case 2003:
                case 2006:
                case 2008:
                default:
                    return;
                case 2004:
                    doAfterHeartBeat(context, str);
                    return;
                case 2005:
                    parseJDPushMsg(context, str, s);
                    return;
                case 2007:
                    parseJDStation(context, str, s);
                    return;
                case 2009:
                    parseExtStation(context, str, s);
                    return;
            }
        } else {
            this.mLog.e(TAG, "ERROR:无效指令,command:%s,msg:%s", new Object[]{Short.valueOf(s), str});
        }
    }

    public void sendNecessaryPage(Context context) {
        this.mLog.e(TAG, "注册、绑定、解绑失败数据重试");
        try {
            List<NecessaryMessage> findAllNecessaryPage = NecessaryPageDbUtil.getInstance(context).findAllNecessaryPage();
            if (findAllNecessaryPage != null && findAllNecessaryPage.size() > 0) {
                for (NecessaryMessage necessaryMessage : findAllNecessaryPage) {
                    if (TextUtils.equals(necessaryMessage.getStatus(), "1")) {
                        int optInt = new JSONObject(necessaryMessage.getMsgBody()).optInt(Constants.JdPushMsg.JSON_KEY_MODLE);
                        String command = necessaryMessage.getCommand();
                        LogUtils logUtils = this.mLog;
                        logUtils.e("sendNecessaryPage", "sendNecessaryPage=" + NecessaryMessage.toJson(necessaryMessage));
                        RetryUtil.retryLogic(context, Short.valueOf(command).shortValue(), NecessaryMessage.toJson(necessaryMessage), optInt);
                    }
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public void sendRecordPushPage(Context context) {
        this.mLog.e(TAG, "消息打开数据重试");
        try {
            List<RecordPushInfo> findAllAppInfo = RecordOpenPushInfoUtil.getInstance(context).findAllAppInfo();
            if (findAllAppInfo != null && findAllAppInfo.size() > 0) {
                for (RecordPushInfo recordPushInfo : findAllAppInfo) {
                    if (TextUtils.equals(recordPushInfo.getStatus(), "1")) {
                        int optInt = new JSONObject(recordPushInfo.getMsgBody()).optInt(Constants.JdPushMsg.JSON_KEY_MODLE);
                        String commad = recordPushInfo.getCommad();
                        LogUtils logUtils = this.mLog;
                        logUtils.e("sendRecordPushPage", "sendRecordPushPage=" + RecordPushInfo.toJson(recordPushInfo));
                        RetryUtil.retryLogic(context, Short.valueOf(commad).shortValue(), RecordPushInfo.toJson(recordPushInfo), optInt);
                    }
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public void sendRegistrationPage(Context context) {
        PushUtil.registerDevTokenAssembledData(context, 7, CommonUtil.makeDeviceToken(context), (short) Command.PRO_REG_DT_REQ);
    }
}
