package com.alibaba.fastjson.serializer;

import com.alibaba.fastjson.parser.deserializer.ObjectDeserializer;
import com.alibaba.fastjson.util.IOUtils;
import com.jd.lib.un.utils.UnTimeUtils;
import java.io.IOException;
import java.lang.reflect.Type;
import java.util.Calendar;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public class CalendarCodec implements ObjectDeserializer, ObjectSerializer {
    public static final CalendarCodec instance = new CalendarCodec();

    @Override // com.alibaba.fastjson.parser.deserializer.ObjectDeserializer
    public int getFastMatchToken() {
        return 2;
    }

    @Override // com.alibaba.fastjson.serializer.ObjectSerializer
    public void write(JSONSerializer jSONSerializer, Object obj, Object obj2, Type type, int i) throws IOException {
        char[] cArr;
        SerializeWriter writer = jSONSerializer.getWriter();
        if (obj == null) {
            writer.writeNull();
            return;
        }
        Calendar calendar = (Calendar) obj;
        if (jSONSerializer.isEnabled(SerializerFeature.UseISO8601DateFormat)) {
            if (jSONSerializer.isEnabled(SerializerFeature.UseSingleQuotes)) {
                writer.append('\'');
            } else {
                writer.append('\"');
            }
            int i2 = calendar.get(1);
            int i3 = calendar.get(2) + 1;
            int i4 = calendar.get(5);
            int i5 = calendar.get(11);
            int i6 = calendar.get(12);
            int i7 = calendar.get(13);
            int i8 = calendar.get(14);
            if (i8 != 0) {
                cArr = "0000-00-00T00:00:00.000".toCharArray();
                IOUtils.getChars(i8, 23, cArr);
                IOUtils.getChars(i7, 19, cArr);
                IOUtils.getChars(i6, 16, cArr);
                IOUtils.getChars(i5, 13, cArr);
                IOUtils.getChars(i4, 10, cArr);
                IOUtils.getChars(i3, 7, cArr);
                IOUtils.getChars(i2, 4, cArr);
            } else if (i7 == 0 && i6 == 0 && i5 == 0) {
                cArr = "0000-00-00".toCharArray();
                IOUtils.getChars(i4, 10, cArr);
                IOUtils.getChars(i3, 7, cArr);
                IOUtils.getChars(i2, 4, cArr);
            } else {
                cArr = "0000-00-00T00:00:00".toCharArray();
                IOUtils.getChars(i7, 19, cArr);
                IOUtils.getChars(i6, 16, cArr);
                IOUtils.getChars(i5, 13, cArr);
                IOUtils.getChars(i4, 10, cArr);
                IOUtils.getChars(i3, 7, cArr);
                IOUtils.getChars(i2, 4, cArr);
            }
            writer.write(cArr);
            int rawOffset = calendar.getTimeZone().getRawOffset() / UnTimeUtils.HOUR;
            if (rawOffset == 0) {
                writer.append("Z");
            } else if (rawOffset > 0) {
                writer.append("+").append((CharSequence) String.format("%02d", Integer.valueOf(rawOffset))).append(":00");
            } else {
                writer.append("-").append((CharSequence) String.format("%02d", Integer.valueOf(-rawOffset))).append(":00");
            }
            if (jSONSerializer.isEnabled(SerializerFeature.UseSingleQuotes)) {
                writer.append('\'');
            } else {
                writer.append('\"');
            }
        } else {
            jSONSerializer.write(calendar.getTime());
        }
    }

    /* JADX WARN: Type inference failed for: r3v2, types: [java.util.Calendar, T] */
    /* JADX WARN: Unknown variable types count: 1 */
    @Override // com.alibaba.fastjson.parser.deserializer.ObjectDeserializer
    /* Code decompiled incorrectly, please refer to instructions dump */
    public <T> T deserialze(com.alibaba.fastjson.parser.DefaultJSONParser r2, java.lang.reflect.Type r3, java.lang.Object r4) {
        /*
            r1 = this;
            com.alibaba.fastjson.parser.deserializer.DateDeserializer r0 = com.alibaba.fastjson.parser.deserializer.DateDeserializer.instance
            java.lang.Object r2 = r0.deserialze(r2, r3, r4)
            boolean r3 = r2 instanceof java.util.Calendar
            if (r3 == 0) goto L_0x000b
            return r2
        L_0x000b:
            java.util.Date r2 = (java.util.Date) r2
            if (r2 != 0) goto L_0x0011
            r2 = 0
            return r2
        L_0x0011:
            java.util.Calendar r3 = java.util.Calendar.getInstance()
            r3.setTime(r2)
            return r3
        */
        throw new UnsupportedOperationException("Method not decompiled: com.alibaba.fastjson.serializer.CalendarCodec.deserialze(com.alibaba.fastjson.parser.DefaultJSONParser, java.lang.reflect.Type, java.lang.Object):java.lang.Object");
    }
}
