package com.jd.feedback.album.app.album.a;

import android.content.Context;
import android.database.Cursor;
import android.provider.MediaStore;
import androidx.annotation.WorkerThread;
import com.jd.feedback.R;
import com.jd.feedback.album.d;
import com.jd.feedback.album.e;
import com.jd.feedback.album.g;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.Map;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public final class b {
    private static final String[] f = {"_id", "_data", "bucket_display_name", "mime_type", "date_added", "latitude", "longitude", "_size"};
    private static final String[] g = {"_id", "_data", "bucket_display_name", "mime_type", "date_added", "latitude", "longitude", "_size", "duration"};
    Context a;
    private g<Long> b;
    private g<String> c;
    private g<Long> d;
    private boolean e;

    public b(Context context, g<Long> gVar, g<String> gVar2, g<Long> gVar3, boolean z) {
        this.a = context;
        this.b = gVar;
        this.c = gVar2;
        this.d = gVar3;
        this.e = z;
    }

    /* JADX INFO: Access modifiers changed from: package-private */
    @WorkerThread
    public final void a(Map<String, e> map, e eVar) {
        e eVar2;
        Cursor query = this.a.getContentResolver().query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, f, null, null, null);
        if (query != null) {
            while (query.moveToNext()) {
                long j = query.getLong(0);
                String string = query.getString(1);
                String string2 = query.getString(2);
                String string3 = query.getString(3);
                long j2 = query.getLong(4);
                float f2 = query.getFloat(5);
                float f3 = query.getFloat(6);
                long j3 = query.getLong(7);
                d dVar = new d();
                dVar.k = 1;
                dVar.a = j;
                dVar.b = string;
                dVar.c = string2;
                dVar.d = string3;
                dVar.e = j2;
                dVar.f = f2;
                dVar.g = f3;
                dVar.h = j3;
                g<Long> gVar = this.b;
                if (gVar != null) {
                    Long.valueOf(j3);
                    if (gVar.a()) {
                        if (this.e) {
                            dVar.m = true;
                        }
                    }
                }
                g<String> gVar2 = this.c;
                if (gVar2 == null || !gVar2.a()) {
                    eVar2 = eVar;
                } else if (this.e) {
                    dVar.m = true;
                    eVar2 = eVar;
                }
                eVar2.a(dVar);
                e eVar3 = map.get(string2);
                if (eVar3 != null) {
                    eVar3.a(dVar);
                } else {
                    e eVar4 = new e();
                    eVar4.a = string2;
                    eVar4.a(dVar);
                    map.put(string2, eVar4);
                }
            }
            query.close();
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:25:0x009d  */
    /* JADX WARN: Removed duplicated region for block: B:44:0x0092 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:46:0x0095 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:47:0x00b4 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:51:0x00c8 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:52:0x00c1 A[SYNTHETIC] */
    @androidx.annotation.WorkerThread
    /* Code decompiled incorrectly, please refer to instructions dump */
    private void b(java.util.Map<java.lang.String, com.jd.feedback.album.e> r19, com.jd.feedback.album.e r20) {
        /*
        // Method dump skipped, instructions count: 223
        */
        throw new UnsupportedOperationException("Method not decompiled: com.jd.feedback.album.app.album.a.b.b(java.util.Map, com.jd.feedback.album.e):void");
    }

    @WorkerThread
    public final ArrayList<e> a() {
        HashMap hashMap = new HashMap();
        e eVar = new e();
        eVar.c = true;
        eVar.a = this.a.getString(R.string.album_all_videos);
        b(hashMap, eVar);
        ArrayList<e> arrayList = new ArrayList<>();
        Collections.sort(eVar.b);
        arrayList.add(eVar);
        for (Map.Entry<String, e> entry : hashMap.entrySet()) {
            e value = entry.getValue();
            Collections.sort(value.b);
            arrayList.add(value);
        }
        return arrayList;
    }

    @WorkerThread
    public final ArrayList<e> b() {
        HashMap hashMap = new HashMap();
        e eVar = new e();
        eVar.c = true;
        eVar.a = this.a.getString(R.string.album_all_images_videos);
        a(hashMap, eVar);
        b(hashMap, eVar);
        ArrayList<e> arrayList = new ArrayList<>();
        Collections.sort(eVar.b);
        arrayList.add(eVar);
        for (Map.Entry<String, e> entry : hashMap.entrySet()) {
            e value = entry.getValue();
            Collections.sort(value.b);
            arrayList.add(value);
        }
        return arrayList;
    }
}
