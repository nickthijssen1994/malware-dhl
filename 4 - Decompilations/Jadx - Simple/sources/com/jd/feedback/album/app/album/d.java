package com.jd.feedback.album.app.album;

import android.content.Context;
import android.os.Build;
import android.os.Bundle;
import android.util.DisplayMetrics;
import android.view.Display;
import android.view.View;
import android.view.Window;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.google.android.material.bottomsheet.BottomSheetDialog;
import com.jd.feedback.R;
import com.jd.feedback.album.a.c.a;
import com.jd.feedback.album.b.c;
import com.jd.feedback.album.e;
import java.util.List;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public class d extends BottomSheetDialog {
    static final /* synthetic */ boolean a = !d.class.desiredAssertionStatus();
    private a b;
    private c c;
    private List<e> d;
    private int e = 0;
    private c f;

    public d(Context context, a aVar, List<e> list, c cVar) {
        super(context, R.style.Album_Dialog_Folder);
        setContentView(R.layout.album_dialog_floder);
        this.b = aVar;
        this.d = list;
        this.f = cVar;
        RecyclerView findViewById = getDelegate().findViewById(R.id.rv_content_list);
        if (a || findViewById != null) {
            findViewById.setLayoutManager(new LinearLayoutManager(getContext()));
            this.c = new c(context, this.d, aVar.g);
            this.c.a = new c() { // from class: com.jd.feedback.album.app.album.d.1
                @Override // com.jd.feedback.album.b.c
                public final void a(View view, int i) {
                    if (d.this.e != i) {
                        ((e) d.this.d.get(d.this.e)).c = false;
                        d.this.c.notifyItemChanged(d.this.e);
                        d.this.e = i;
                        ((e) d.this.d.get(d.this.e)).c = true;
                        d.this.c.notifyItemChanged(d.this.e);
                        if (d.this.f != null) {
                            d.this.f.a(view, i);
                        }
                    }
                    d.this.dismiss();
                }
            };
            findViewById.setAdapter(this.c);
            return;
        }
        throw new AssertionError();
    }

    protected void onCreate(Bundle bundle) {
        d.super.onCreate(bundle);
        Window window = getWindow();
        if (window != null) {
            Display defaultDisplay = window.getWindowManager().getDefaultDisplay();
            DisplayMetrics displayMetrics = new DisplayMetrics();
            if (Build.VERSION.SDK_INT >= 17) {
                defaultDisplay.getRealMetrics(displayMetrics);
            } else {
                defaultDisplay.getMetrics(displayMetrics);
            }
            window.setLayout(Math.min(displayMetrics.widthPixels, displayMetrics.heightPixels), -1);
            if (Build.VERSION.SDK_INT >= 21) {
                window.setStatusBarColor(0);
                window.setNavigationBarColor(this.b.d);
            }
        }
    }
}
