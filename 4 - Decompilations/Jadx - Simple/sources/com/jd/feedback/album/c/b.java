package com.jd.feedback.album.c;

import android.app.Activity;
import android.os.Build;
import android.view.View;
import android.view.Window;
import android.view.WindowManager;
import androidx.annotation.RequiresApi;
import com.facebook.react.fabric.mounting.LayoutMetricsConversions;
import java.lang.reflect.Field;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public final class b {
    public static void a(Activity activity, int i) {
        if (Build.VERSION.SDK_INT >= 21) {
            a(activity.getWindow(), i);
        }
    }

    @RequiresApi(api = 21)
    private static void a(Window window, int i) {
        window.addFlags(LayoutMetricsConversions.REACT_CONSTRAINT_UNDEFINED);
        window.setStatusBarColor(i);
    }

    public static void b(Activity activity, int i) {
        if (Build.VERSION.SDK_INT >= 21) {
            b(activity.getWindow(), i);
        }
    }

    @RequiresApi(api = 21)
    private static void b(Window window, int i) {
        window.addFlags(LayoutMetricsConversions.REACT_CONSTRAINT_UNDEFINED);
        window.setNavigationBarColor(i);
    }

    public static void a(Activity activity) {
        if (Build.VERSION.SDK_INT >= 21) {
            b(activity.getWindow());
        }
    }

    @RequiresApi(api = 21)
    private static void b(Window window) {
        View decorView = window.getDecorView();
        decorView.setSystemUiVisibility(decorView.getSystemUiVisibility() | 512 | 256);
        window.setNavigationBarColor(0);
    }

    public static boolean a(Window window) {
        if (d(window)) {
            e(window);
            return true;
        } else if (!c(window)) {
            return e(window);
        } else {
            e(window);
            return true;
        }
    }

    private static boolean c(Window window) {
        try {
            WindowManager.LayoutParams attributes = window.getAttributes();
            Field declaredField = WindowManager.LayoutParams.class.getDeclaredField("MEIZU_FLAG_DARK_STATUS_BAR_ICON");
            Field declaredField2 = WindowManager.LayoutParams.class.getDeclaredField("meizuFlags");
            declaredField.setAccessible(true);
            declaredField2.setAccessible(true);
            declaredField2.setInt(attributes, declaredField.getInt(null) | declaredField2.getInt(attributes));
            window.setAttributes(attributes);
            return true;
        } catch (Exception unused) {
            return false;
        }
    }

    private static boolean d(Window window) {
        Class<?> cls = window.getClass();
        try {
            Class<?> cls2 = Class.forName("android.view.MiuiWindowManager$LayoutParams");
            int i = cls2.getField("EXTRA_FLAG_STATUS_BAR_DARK_MODE").getInt(cls2);
            cls.getMethod("setExtraFlags", Integer.TYPE, Integer.TYPE).invoke(window, Integer.valueOf(i), Integer.valueOf(i));
            return true;
        } catch (Exception unused) {
            return false;
        }
    }

    private static boolean e(Window window) {
        if (Build.VERSION.SDK_INT < 23) {
            return false;
        }
        View decorView = window.getDecorView();
        decorView.setSystemUiVisibility(decorView.getSystemUiVisibility() | 8192);
        return true;
    }
}
