package com.jd.feedback.a;

import android.content.Intent;
import android.content.res.Resources;
import android.graphics.Color;
import android.graphics.drawable.Drawable;
import android.os.Build;
import android.text.TextUtils;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.jd.feedback.FeedbackReplyActivity;
import com.jd.feedback.R;
import com.jd.feedback.b.d;
import com.jd.feedback.b.e;
import com.jd.feedback.network.beans.MessageBean;
import java.util.List;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public final class a extends RecyclerView.Adapter<C0016a> {
    public List<MessageBean> a;

    public final /* synthetic */ void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int i) {
        Drawable drawable;
        final C0016a aVar = (C0016a) viewHolder;
        final MessageBean messageBean = this.a.get(i);
        if (i == 0) {
            aVar.g.setVisibility(0);
        } else {
            aVar.g.setVisibility(8);
        }
        Resources resources = aVar.a.getContext().getResources();
        aVar.b.setText(messageBean.getCreateTime());
        if (TextUtils.isEmpty(messageBean.getContent())) {
            aVar.a.setVisibility(8);
        } else {
            aVar.a.setText(messageBean.getContent());
            aVar.a.setVisibility(0);
        }
        if (messageBean.hasReplied()) {
            aVar.c.setText(resources.getString(R.string.has_reply));
            aVar.c.setTextColor(Color.parseColor(com.jd.feedback.a.l()));
            drawable = e.a(com.jd.feedback.a.l(), (float) d.a(2.0f));
        } else {
            aVar.c.setText(resources.getString(R.string.no_reply));
            aVar.c.setTextColor(resources.getColor(R.color.text_secondary_gray));
            drawable = resources.getDrawable(R.drawable.text_border_bg_gray);
        }
        if (Build.VERSION.SDK_INT >= 16) {
            aVar.c.setBackground(drawable);
        } else {
            aVar.c.setBackgroundDrawable(drawable);
        }
        aVar.f.setOnClickListener(new View.OnClickListener() { // from class: com.jd.feedback.a.a.1
            @Override // android.view.View.OnClickListener
            public final void onClick(View view) {
                Intent intent = new Intent(aVar.f.getContext(), FeedbackReplyActivity.class);
                intent.putExtra(FeedbackReplyActivity.a, messageBean.getId());
                aVar.f.getContext().startActivity(intent);
            }
        });
        if (Integer.parseInt(messageBean.getUnreadReplyCount()) > 0) {
            aVar.e.setVisibility(0);
            TextView textView = aVar.e;
            textView.setText(messageBean.getUnreadReplyCount());
        } else {
            aVar.e.setVisibility(8);
        }
        b adapter = aVar.d.getAdapter();
        if (adapter == null) {
            adapter = new b(messageBean.getImageUrls());
            aVar.d.setAdapter(adapter);
        } else {
            adapter.a(messageBean.getImageUrls());
        }
        adapter.a = true;
        aVar.d.setLayoutManager(new LinearLayoutManager(aVar.d.getContext(), 0, false));
        adapter.notifyDataSetChanged();
    }

    public a(List<MessageBean> list) {
        this.a = list;
    }

    public final int getItemCount() {
        return this.a.size();
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.jd.feedback.a.a$a  reason: collision with other inner class name */
    /* loaded from: classes.dex */
    class C0016a extends RecyclerView.ViewHolder {
        TextView a;
        TextView b;
        TextView c;
        RecyclerView d;
        TextView e;
        View f;
        View g;

        public C0016a(View view) {
            super(view);
            this.a = (TextView) view.findViewById(R.id.content);
            this.b = (TextView) view.findViewById(R.id.create_time);
            this.c = (TextView) view.findViewById(R.id.has_replied);
            this.d = view.findViewById(R.id.recycler_view);
            this.e = (TextView) view.findViewById(R.id.has_unread_msg);
            this.f = view.findViewById(R.id.item);
            this.g = view.findViewById(R.id.top_divider);
        }
    }

    @NonNull
    public final /* synthetic */ RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {
        return new C0016a(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.history_feedback_item, viewGroup, false));
    }
}
