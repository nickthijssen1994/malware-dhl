package com.jd.feedback.ui.a;

import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;
import com.jd.feedback.R;
import java.util.ArrayList;
import java.util.List;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public final class a<T> extends RecyclerView.Adapter {
    public List<T> a;
    public c b;
    private d<T> c;

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    public interface c<T> {
        void a();

        void a(ImageView imageView, T t);

        void a(List<T> list, int i);
    }

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    public interface d<T> {
    }

    public a() {
        this.c = new d<T>() { // from class: com.jd.feedback.ui.a.a.1
        };
        this.a = new ArrayList();
    }

    public a(List<T> list) {
        this.c = new d<T>() { // from class: com.jd.feedback.ui.a.a.1
        };
        this.a = list;
    }

    public final int getItemViewType(int i) {
        if (i == this.a.size()) {
            return 1;
        }
        this.a.get(i);
        return 0;
    }

    @NonNull
    public final RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {
        if (i == 0) {
            return new b(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.pics_item_edit_pic, viewGroup, false));
        }
        return new C0023a(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.pics_item_edit_pic_add, viewGroup, false));
    }

    public final void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, final int i) {
        if (viewHolder instanceof b) {
            b bVar = (b) viewHolder;
            this.b.a(bVar.a, (ImageView) this.a.get(i));
            bVar.b.setOnClickListener(new View.OnClickListener() { // from class: com.jd.feedback.ui.a.a.2
                @Override // android.view.View.OnClickListener
                public final void onClick(View view) {
                    a.this.b.a(a.this.a(), i);
                    a.this.a.remove(i);
                    a.this.notifyDataSetChanged();
                }
            });
            return;
        }
        ((C0023a) viewHolder).itemView.setOnClickListener(new View.OnClickListener() { // from class: com.jd.feedback.ui.a.a.3
            @Override // android.view.View.OnClickListener
            public final void onClick(View view) {
                c cVar = a.this.b;
                d unused = a.this.c;
                cVar.a();
            }
        });
    }

    public final List<T> a() {
        return new ArrayList(this.a);
    }

    public final int getItemCount() {
        if (this.a.size() == 3) {
            return this.a.size();
        }
        return this.a.size() + 1;
    }

    public final int b() {
        return this.a.size();
    }

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    static class b extends RecyclerView.ViewHolder {
        ImageView a;
        ImageView b;

        public b(@NonNull View view) {
            super(view);
            this.a = (ImageView) view.findViewById(R.id.pics_itemImage);
            this.b = (ImageView) view.findViewById(R.id.button_itemImage_delete);
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.jd.feedback.ui.a.a$a  reason: collision with other inner class name */
    /* loaded from: classes.dex */
    class C0023a extends RecyclerView.ViewHolder {
        public C0023a(View view) {
            super(view);
        }
    }
}
