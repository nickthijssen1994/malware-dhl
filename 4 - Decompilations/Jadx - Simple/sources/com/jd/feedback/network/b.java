package com.jd.feedback.network;

import com.jd.feedback.FeedbackSDK;
import java.util.HashMap;
import java.util.concurrent.TimeUnit;
import okhttp3.OkHttpClient;
import retrofit2.Retrofit;
import retrofit2.adapter.rxjava2.RxJava2CallAdapterFactory;
import retrofit2.converter.gson.GsonConverterFactory;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public final class b {
    private static HashMap<String, Object> a = new HashMap<>();

    public static <S> S a(Class<S> cls) {
        if (a.containsKey(cls.getName())) {
            return (S) a.get(cls.getName());
        }
        S s = (S) new Retrofit.Builder().baseUrl(FeedbackSDK.isTest() ? "https://beta-api.m.jd.com" : "https://api.m.jd.com").addConverterFactory(GsonConverterFactory.create()).addCallAdapterFactory(RxJava2CallAdapterFactory.create()).client(new OkHttpClient.Builder().connectTimeout(8, TimeUnit.SECONDS).writeTimeout(8, TimeUnit.SECONDS).readTimeout(8, TimeUnit.SECONDS).build()).build().create(cls);
        a.put(cls.getName(), s);
        return s;
    }
}
