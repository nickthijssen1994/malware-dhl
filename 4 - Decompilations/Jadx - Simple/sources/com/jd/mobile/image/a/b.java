package com.jd.mobile.image.a;

import android.graphics.Bitmap;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.PictureDrawable;
import com.facebook.drawee.backends.pipeline.Fresco;
import com.facebook.fresco.animation.drawable.AnimatedDrawable2;
import com.jingdong.sdk.oklog.OKLog;

/* loaded from: classes.dex */
public class b {
    public static Bitmap a(Drawable drawable, int i, int i2) {
        try {
            if (drawable instanceof PictureDrawable) {
                return null;
            }
            if (drawable instanceof BitmapDrawable) {
                return ((BitmapDrawable) drawable).getBitmap();
            }
            if (drawable instanceof AnimatedDrawable2) {
                return Bitmap.createBitmap(i, i2, drawable.getOpacity() != -1 ? Bitmap.Config.ARGB_8888 : Bitmap.Config.RGB_565);
            } else if (drawable == null) {
                return null;
            } else {
                return Bitmap.createBitmap(i, i2, drawable.getOpacity() != -1 ? Bitmap.Config.ARGB_8888 : Bitmap.Config.RGB_565);
            }
        } catch (OutOfMemoryError e) {
            e.printStackTrace();
            return null;
        }
    }

    public static Drawable a(Drawable drawable) {
        if (drawable != null) {
            int intrinsicWidth = drawable.getIntrinsicWidth();
            int intrinsicHeight = drawable.getIntrinsicHeight();
            if (intrinsicWidth > Fresco.getDisplayMetrics().widthPixels || intrinsicHeight > Fresco.getDisplayMetrics().heightPixels) {
                drawable = null;
                if (OKLog.D) {
                    OKLog.d("fresco", "to big drawableï¼š" + intrinsicWidth + "x" + intrinsicHeight);
                }
            }
        }
        return drawable;
    }
}
