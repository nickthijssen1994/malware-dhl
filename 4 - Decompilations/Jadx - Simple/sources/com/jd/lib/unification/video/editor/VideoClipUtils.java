package com.jd.lib.unification.video.editor;

import android.os.Build;
import com.jd.lib.unification.video.editor.VideoClip;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public class VideoClipUtils {
    public static void videoClip(String str, String str2, String str3, double d, double d2, VideoClip.ClipFinishListener clipFinishListener) {
        if (useNewCLip()) {
            try {
                UnVideoClip unVideoClip = new UnVideoClip();
                try {
                    if (unVideoClip.genVideoUsingMuxer(str, str2 + str3, ((long) d) * 1000, ((long) d2) * 1000, true, true)) {
                        if (clipFinishListener != null) {
                            clipFinishListener.onClipSuccess(str2 + str3);
                            return;
                        }
                        return;
                    } else if (clipFinishListener != null) {
                        clipFinishListener.onClipFailed(str2 + str3);
                        return;
                    } else {
                        return;
                    }
                } catch (Exception unused) {
                }
            } catch (Exception unused2) {
            }
        } else {
            new VideoClip().clip(str, str2, str3, d, d2, clipFinishListener);
            return;
        }
        new VideoClip().clip(str, str2, str3, d, d2, clipFinishListener);
    }

    private static boolean useNewCLip() {
        return Build.VERSION.SDK_INT >= 21;
    }
}
