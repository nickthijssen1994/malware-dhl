package com.huawei.hms.hatool;

import android.text.TextUtils;
import com.huawei.secure.android.common.encrypt.utils.EncryptUtil;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public class x {
    public static x b = new x();
    public a a = new a();

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    public class a {
        public String a;
        public String b;
        public String c;
        public long d = 0;

        public a() {
        }

        public void a(long j) {
            x.this.a.d = j;
        }

        public void a(String str) {
            x.this.a.c = str;
        }

        public void b(String str) {
            x.this.a.a = str;
        }

        public void c(String str) {
            x.this.a.b = str;
        }
    }

    public static x f() {
        return b;
    }

    public String a() {
        return this.a.c;
    }

    public long b() {
        return this.a.d;
    }

    public String c() {
        return this.a.b;
    }

    public void d() {
        long b2 = b();
        if (b2 == 0) {
            long currentTimeMillis = System.currentTimeMillis();
            String e = e();
            if (TextUtils.isEmpty(e)) {
                y.f("hmsSdk", "get rsa pubkey config error");
                return;
            }
            String generateSecureRandomStr = EncryptUtil.generateSecureRandomStr(16);
            String a2 = e.a(e, generateSecureRandomStr);
            this.a.b(e);
            this.a.a(currentTimeMillis);
            this.a.c(generateSecureRandomStr);
            this.a.a(a2);
            return;
        }
        long currentTimeMillis2 = System.currentTimeMillis();
        if (currentTimeMillis2 - b2 > 43200000) {
            String str = this.a.a;
            String generateSecureRandomStr2 = EncryptUtil.generateSecureRandomStr(16);
            String a3 = e.a(str, generateSecureRandomStr2);
            this.a.a(currentTimeMillis2);
            this.a.c(generateSecureRandomStr2);
            this.a.a(a3);
        }
    }

    /*  JADX ERROR: JadxRuntimeException in pass: SSATransform
        jadx.core.utils.exceptions.JadxRuntimeException: Not initialized variable reg: 1, insn: 0x002a: MOVE  (r4 I:??[OBJECT, ARRAY]) = (r1 I:??[OBJECT, ARRAY]), block:B:13:0x002a
        	at jadx.core.dex.visitors.ssa.SSATransform.renameVarsInBlock(SSATransform.java:171)
        	at jadx.core.dex.visitors.ssa.SSATransform.renameVariables(SSATransform.java:143)
        	at jadx.core.dex.visitors.ssa.SSATransform.process(SSATransform.java:60)
        	at jadx.core.dex.visitors.ssa.SSATransform.visit(SSATransform.java:41)
        */
    public final java.lang.String e() {
        /*
            r5 = this;
            r0 = 0
            android.content.Context r1 = com.huawei.hms.hatool.b.f()     // Catch: IOException -> 0x001d, all -> 0x001b
            android.content.res.Resources r1 = r1.getResources()     // Catch: IOException -> 0x001d, all -> 0x001b
            android.content.res.AssetManager r1 = r1.getAssets()     // Catch: IOException -> 0x001d, all -> 0x001b
            java.lang.String r2 = "hianalytics_njjn"
            java.io.InputStream r1 = r1.open(r2)     // Catch: IOException -> 0x001d, all -> 0x001b
            java.lang.String r0 = com.huawei.hms.hatool.r0.a(r1)     // Catch: IOException -> 0x001e, all -> 0x0029
            com.huawei.hms.hatool.r0.a(r1)
            return r0
        L_0x001b:
            r1 = move-exception
            goto L_0x002d
        L_0x001d:
            r1 = r0
        L_0x001e:
            java.lang.String r2 = "hmsSdk"
            java.lang.String r3 = "read pubKey error,the file is corrupted"
            com.huawei.hms.hatool.y.f(r2, r3)     // Catch: all -> 0x0029
            com.huawei.hms.hatool.r0.a(r1)
            return r0
        L_0x0029:
            r0 = move-exception
            r4 = r1
            r1 = r0
            r0 = r4
        L_0x002d:
            com.huawei.hms.hatool.r0.a(r0)
            throw r1
        */
        throw new UnsupportedOperationException("Method not decompiled: com.huawei.hms.hatool.x.e():java.lang.String");
    }
}
