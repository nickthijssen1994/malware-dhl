package com.huawei.updatesdk.service.otaupdate;

import android.content.Context;
import android.os.AsyncTask;
import android.util.Log;
import java.util.Locale;
import java.util.concurrent.Executors;
import java.util.concurrent.TimeUnit;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
public class c {
    private static String a;

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    public interface a {
        void a(Boolean bool);
    }

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    private static class b extends AsyncTask<Void, Void, Boolean> {
        a a;

        public b(a aVar) {
            this.a = aVar;
        }

        /* JADX INFO: Access modifiers changed from: protected */
        /* JADX WARN: Code restructure failed: missing block: B:13:0x006b, code lost:
            if (r10 != null) goto L_0x006d;
         */
        /* JADX WARN: Code restructure failed: missing block: B:14:0x006d, code lost:
            r10.close();
         */
        /* JADX WARN: Code restructure failed: missing block: B:19:0x008e, code lost:
            if (0 == 0) goto L_0x0098;
         */
        /* JADX WARN: Code restructure failed: missing block: B:20:0x0091, code lost:
            com.huawei.updatesdk.a.a.b.a.a.a.b("AutoUpdateUtil", "cursor Execption");
         */
        /* JADX WARN: Multi-variable type inference failed */
        /* JADX WARN: Type inference failed for: r10v0, types: [java.lang.Void[]] */
        /* JADX WARN: Type inference failed for: r10v1, types: [android.database.Cursor] */
        /* JADX WARN: Type inference failed for: r10v3 */
        /* renamed from: a */
        /* Code decompiled incorrectly, please refer to instructions dump */
        public java.lang.Boolean doInBackground(java.lang.Void... r10) {
            /*
                r9 = this;
                r10 = 0
                r0 = 0
                com.huawei.updatesdk.a.b.a.a r1 = com.huawei.updatesdk.a.b.a.a.c()     // Catch: Exception -> 0x0073, all -> 0x0071
                android.content.Context r1 = r1.a()     // Catch: Exception -> 0x0073, all -> 0x0071
                java.lang.String r2 = com.huawei.updatesdk.service.otaupdate.c.a()     // Catch: Exception -> 0x0073, all -> 0x0071
                android.net.Uri r4 = android.net.Uri.parse(r2)     // Catch: Exception -> 0x0073, all -> 0x0071
                android.content.ContentResolver r3 = r1.getContentResolver()     // Catch: Exception -> 0x0073, all -> 0x0071
                r5 = 0
                r6 = 0
                r7 = 0
                r8 = 0
                android.database.Cursor r10 = r3.query(r4, r5, r6, r7, r8)     // Catch: Exception -> 0x0073, all -> 0x0071
                if (r10 == 0) goto L_0x0064
                boolean r1 = r10.moveToFirst()     // Catch: Exception -> 0x0073, all -> 0x0071
                if (r1 == 0) goto L_0x0064
                java.lang.String r1 = "isagree"
                int r1 = r10.getColumnIndex(r1)     // Catch: Exception -> 0x0073, all -> 0x0071
                java.lang.String r1 = r10.getString(r1)     // Catch: Exception -> 0x0073, all -> 0x0071
                java.lang.Boolean r1 = java.lang.Boolean.valueOf(r1)     // Catch: Exception -> 0x0073, all -> 0x0071
                boolean r1 = r1.booleanValue()     // Catch: Exception -> 0x0073, all -> 0x0071
                java.lang.String r2 = "isopenautoupdate"
                int r2 = r10.getColumnIndex(r2)     // Catch: Exception -> 0x0073, all -> 0x0071
                java.lang.String r2 = r10.getString(r2)     // Catch: Exception -> 0x0073, all -> 0x0071
                java.lang.Boolean r2 = java.lang.Boolean.valueOf(r2)     // Catch: Exception -> 0x0073, all -> 0x0071
                boolean r2 = r2.booleanValue()     // Catch: Exception -> 0x0073, all -> 0x0071
                java.lang.String r3 = "isneverreminder"
                int r3 = r10.getColumnIndex(r3)     // Catch: Exception -> 0x0073, all -> 0x0071
                java.lang.String r3 = r10.getString(r3)     // Catch: Exception -> 0x0073, all -> 0x0071
                java.lang.Boolean r3 = java.lang.Boolean.valueOf(r3)     // Catch: Exception -> 0x0073, all -> 0x0071
                boolean r3 = r3.booleanValue()     // Catch: Exception -> 0x0073, all -> 0x0071
                if (r1 == 0) goto L_0x006b
                if (r2 != 0) goto L_0x006b
                if (r3 != 0) goto L_0x006b
                r0 = 1
                goto L_0x006b
            L_0x0064:
                java.lang.String r1 = "AutoUpdateUtil"
                java.lang.String r2 = "cursor == null"
                android.util.Log.e(r1, r2)     // Catch: Exception -> 0x0073, all -> 0x0071
            L_0x006b:
                if (r10 == 0) goto L_0x0098
            L_0x006d:
                r10.close()     // Catch: Exception -> 0x0091
                goto L_0x0098
            L_0x0071:
                r0 = move-exception
                goto L_0x009d
            L_0x0073:
                r1 = move-exception
                java.lang.String r2 = "AutoUpdateUtil"
                java.lang.StringBuilder r3 = new java.lang.StringBuilder     // Catch: all -> 0x0071
                r3.<init>()     // Catch: all -> 0x0071
                java.lang.String r4 = "close cursor error: "
                r3.append(r4)     // Catch: all -> 0x0071
                java.lang.String r1 = r1.toString()     // Catch: all -> 0x0071
                r3.append(r1)     // Catch: all -> 0x0071
                java.lang.String r1 = r3.toString()     // Catch: all -> 0x0071
                android.util.Log.e(r2, r1)     // Catch: all -> 0x0071
                if (r10 == 0) goto L_0x0098
                goto L_0x006d
            L_0x0091:
                java.lang.String r10 = "AutoUpdateUtil"
                java.lang.String r1 = "cursor Execption"
                com.huawei.updatesdk.a.a.b.a.a.a.b(r10, r1)
            L_0x0098:
                java.lang.Boolean r10 = java.lang.Boolean.valueOf(r0)
                return r10
            L_0x009d:
                if (r10 == 0) goto L_0x00aa
                r10.close()     // Catch: Exception -> 0x00a3
                goto L_0x00aa
            L_0x00a3:
                java.lang.String r10 = "AutoUpdateUtil"
                java.lang.String r1 = "cursor Execption"
                com.huawei.updatesdk.a.a.b.a.a.a.b(r10, r1)
            L_0x00aa:
                throw r0
                return
            */
            throw new UnsupportedOperationException("Method not decompiled: com.huawei.updatesdk.service.otaupdate.c.b.doInBackground(java.lang.Void[]):java.lang.Boolean");
        }

        /* JADX INFO: Access modifiers changed from: protected */
        /* renamed from: a */
        public void onPostExecute(Boolean bool) {
            a aVar = this.a;
            if (aVar != null) {
                aVar.a(bool);
            }
        }
    }

    public void a(Context context, String str, a aVar) {
        if (!com.huawei.updatesdk.b.f.b.e(context, str) || !h.g().d()) {
            aVar.a(false);
            return;
        }
        b bVar = new b(aVar);
        bVar.executeOnExecutor(Executors.newSingleThreadExecutor(), new Void[0]);
        try {
            a = String.format(Locale.ROOT, "content://%s.commondata/item/4", str);
            bVar.get(500, TimeUnit.MILLISECONDS);
        } catch (Exception e) {
            bVar.cancel(true);
            Log.e("AutoUpdateUtil", "init AutoUpdateInfo error: " + e.toString());
            aVar.a(false);
        }
    }
}
