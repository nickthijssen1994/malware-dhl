package com.p051jd.android.sdk.coreinfo.p060a;

import android.content.Context;
import android.content.pm.PackageManager;
import android.os.Build;
import android.os.IBinder;
import android.telephony.TelephonyManager;
import android.text.TextUtils;
import com.p051jd.android.sdk.coreinfo.p062c.C1212b;
import com.p051jd.android.sdk.coreinfo.p062c.C1213c;
import java.lang.reflect.Field;
import java.lang.reflect.Method;

/* compiled from: TbsSdkJava */
/* renamed from: com.jd.android.sdk.coreinfo.a.b */
/* loaded from: classes.dex */
public final class C1205b {
    /* renamed from: a */
    public static String m2357a(Context context) {
        TelephonyManager telephonyManager;
        String str = "";
        if (context == null) {
            return str;
        }
        try {
            PackageManager packageManager = context.getPackageManager();
            if (packageManager == null || packageManager.checkPermission("android.permission.READ_PHONE_STATE", context.getPackageName()) != 0) {
                return str;
            }
            if (Build.VERSION.SDK_INT < 28) {
                str = m2355b(context);
                if (!m2356a(str)) {
                    str = m2349f(context);
                    if (!m2356a(str)) {
                        str = m2353c(context);
                        if (!m2356a(str)) {
                            str = m2348g(context);
                            if (!m2356a(str)) {
                                str = m2351d(context);
                                if (!m2356a(str)) {
                                    str = m2347h(context);
                                    if (!m2356a(str)) {
                                        str = m2350e(context);
                                        if (!m2356a(str)) {
                                            str = m2346i(context);
                                            if (!m2356a(str)) {
                                                str = "";
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            if (!TextUtils.isEmpty(str) || (telephonyManager = (TelephonyManager) context.getSystemService("phone")) == null) {
                return str;
            }
            str = telephonyManager.getDeviceId();
            return str == null ? "" : str;
        } catch (Throwable unused) {
            return str;
        }
    }

    /* renamed from: b */
    private static String m2355b(Context context) {
        String str;
        try {
            Field declaredField = Class.forName("com.android.internal.telephony.ITelephony$Stub").getDeclaredField("TRANSACTION_getDeviceId");
            if (declaredField == null) {
                return "";
            }
            declaredField.setAccessible(true);
            int i = declaredField.getInt(null);
            try {
                str = C1213c.m2284a(C1212b.m2287a("service call phone " + i + " s16 " + context.getPackageName()));
            } catch (Throwable unused) {
                str = "";
            }
            return !m2356a(str) ? C1213c.m2284a(C1212b.m2287a("service call phone ".concat(String.valueOf(i)))) : str;
        } catch (Throwable unused2) {
            return "";
        }
    }

    /* renamed from: c */
    private static String m2353c(Context context) {
        String str = "";
        try {
            Method declaredMethod = Class.forName("android.os.ServiceManager").getDeclaredMethod("getService", String.class);
            declaredMethod.setAccessible(true);
            IBinder iBinder = (IBinder) declaredMethod.invoke(null, "phone");
            Class<?> cls = Class.forName("com.android.internal.telephony.ITelephony$Stub");
            Method declaredMethod2 = cls.getDeclaredMethod("asInterface", IBinder.class);
            declaredMethod2.setAccessible(true);
            Object invoke = declaredMethod2.invoke(null, iBinder);
            try {
                if (invoke.getClass().getDeclaredMethod("getDeviceId", String.class) != null) {
                    str = C1213c.m2283a(context.getPackageName(), iBinder, C1213c.m2286a(cls), C1213c.m2285a(invoke, "TRANSACTION_getDeviceId"));
                }
            } catch (Throwable unused) {
                str = "";
            }
            return (m2356a(str) || invoke.getClass().getDeclaredMethod("getDeviceId", new Class[0]) == null) ? str : C1213c.m2283a("", iBinder, C1213c.m2286a(cls), C1213c.m2285a(invoke, "TRANSACTION_getDeviceId"));
        } catch (Throwable unused2) {
            return "";
        }
    }

    /* renamed from: d */
    private static String m2351d(Context context) {
        Method declaredMethod;
        String str = "";
        try {
            Method declaredMethod2 = Class.forName("android.os.ServiceManager").getDeclaredMethod("getService", String.class);
            declaredMethod2.setAccessible(true);
            Method declaredMethod3 = Class.forName("com.android.internal.telephony.ITelephony$Stub").getDeclaredMethod("asInterface", IBinder.class);
            declaredMethod3.setAccessible(true);
            Object invoke = declaredMethod3.invoke(null, (IBinder) declaredMethod2.invoke(null, "phone"));
            try {
                Method declaredMethod4 = invoke.getClass().getDeclaredMethod("getDeviceId", String.class);
                if (declaredMethod4 != null) {
                    str = (String) declaredMethod4.invoke(invoke, context.getPackageName());
                }
            } catch (Throwable unused) {
                str = "";
            }
            return (m2356a(str) || (declaredMethod = invoke.getClass().getDeclaredMethod("getDeviceId", new Class[0])) == null) ? str : (String) declaredMethod.invoke(invoke, new Object[0]);
        } catch (Throwable unused2) {
            return "";
        }
    }

    /* renamed from: e */
    private static String m2350e(Context context) {
        Method declaredMethod;
        String str = "";
        try {
            Method declaredMethod2 = TelephonyManager.class.getDeclaredMethod("getITelephony", new Class[0]);
            declaredMethod2.setAccessible(true);
            Object invoke = declaredMethod2.invoke((TelephonyManager) context.getSystemService("phone"), new Object[0]);
            invoke.getClass().getDeclaredMethod("asBinder", new Class[0]).setAccessible(true);
            try {
                Method declaredMethod3 = invoke.getClass().getDeclaredMethod("getDeviceId", String.class);
                if (declaredMethod3 != null) {
                    str = (String) declaredMethod3.invoke(invoke, context.getPackageName());
                }
            } catch (Throwable unused) {
                str = "";
            }
            return (m2356a(str) || (declaredMethod = invoke.getClass().getDeclaredMethod("getDeviceId", new Class[0])) == null) ? str : (String) declaredMethod.invoke(invoke, new Object[0]);
        } catch (Throwable unused2) {
            return "";
        }
    }

    /* renamed from: f */
    private static String m2349f(Context context) {
        String str;
        try {
            Class<?> cls = Class.forName("com.android.internal.telephony.IPhoneSubInfo$Stub");
            Field declaredField = cls.getDeclaredField("TRANSACTION_getDeviceId");
            if (declaredField == null) {
                return "";
            }
            declaredField.setAccessible(true);
            int i = (int) declaredField.getLong(cls);
            try {
                str = C1213c.m2284a(C1212b.m2287a("service call iphonesubinfo " + i + " s16 " + context.getPackageName()));
            } catch (Throwable unused) {
                str = "";
            }
            return !m2356a(str) ? C1213c.m2284a(C1212b.m2287a("service call iphonesubinfo ".concat(String.valueOf(i)))) : str;
        } catch (Throwable unused2) {
            return "";
        }
    }

    /* renamed from: g */
    private static String m2348g(Context context) {
        String str = "";
        try {
            Method declaredMethod = Class.forName("android.os.ServiceManager").getDeclaredMethod("getService", String.class);
            declaredMethod.setAccessible(true);
            IBinder iBinder = (IBinder) declaredMethod.invoke(null, "iphonesubinfo");
            Class<?> cls = Class.forName("com.android.internal.telephony.IPhoneSubInfo$Stub");
            Method declaredMethod2 = cls.getDeclaredMethod("asInterface", IBinder.class);
            declaredMethod2.setAccessible(true);
            Object invoke = declaredMethod2.invoke(null, iBinder);
            try {
                if (invoke.getClass().getDeclaredMethod("getDeviceId", String.class) != null) {
                    str = C1213c.m2283a(context.getPackageName(), iBinder, C1213c.m2286a(cls), C1213c.m2285a(invoke, "TRANSACTION_getDeviceId"));
                }
            } catch (Throwable unused) {
                str = "";
            }
            return (m2356a(str) || invoke.getClass().getDeclaredMethod("getDeviceId", new Class[0]) == null) ? str : C1213c.m2283a("", iBinder, C1213c.m2286a(cls), C1213c.m2285a(invoke, "TRANSACTION_getDeviceId"));
        } catch (Throwable unused2) {
            return "";
        }
    }

    /* renamed from: h */
    private static String m2347h(Context context) {
        Method declaredMethod;
        String str = "";
        try {
            Method declaredMethod2 = Class.forName("android.os.ServiceManager").getDeclaredMethod("getService", String.class);
            declaredMethod2.setAccessible(true);
            Method declaredMethod3 = Class.forName("com.android.internal.telephony.IPhoneSubInfo$Stub").getDeclaredMethod("asInterface", IBinder.class);
            declaredMethod3.setAccessible(true);
            Object invoke = declaredMethod3.invoke(null, (IBinder) declaredMethod2.invoke(null, "iphonesubinfo"));
            try {
                Method declaredMethod4 = invoke.getClass().getDeclaredMethod("getDeviceId", String.class);
                if (declaredMethod4 != null) {
                    str = (String) declaredMethod4.invoke(invoke, context.getPackageName());
                }
            } catch (Throwable unused) {
                str = "";
            }
            return (m2356a(str) || (declaredMethod = invoke.getClass().getDeclaredMethod("getDeviceId", new Class[0])) == null) ? str : (String) declaredMethod.invoke(invoke, new Object[0]);
        } catch (Throwable unused2) {
            return "";
        }
    }

    /* renamed from: i */
    private static String m2346i(Context context) {
        Method declaredMethod;
        String str = "";
        try {
            Method declaredMethod2 = TelephonyManager.class.getDeclaredMethod("getSubscriberInfo", new Class[0]);
            declaredMethod2.setAccessible(true);
            Object invoke = declaredMethod2.invoke((TelephonyManager) context.getSystemService("phone"), new Object[0]);
            try {
                Method declaredMethod3 = invoke.getClass().getDeclaredMethod("getDeviceId", String.class);
                if (declaredMethod3 != null) {
                    str = (String) declaredMethod3.invoke(invoke, context.getPackageName());
                }
            } catch (Throwable unused) {
                str = "";
            }
            return (m2356a(str) || (declaredMethod = invoke.getClass().getDeclaredMethod("getDeviceId", new Class[0])) == null) ? str : (String) declaredMethod.invoke(invoke, new Object[0]);
        } catch (Throwable unused2) {
            return "";
        }
    }

    /* renamed from: a */
    private static boolean m2356a(String str) {
        boolean b = m2354b(str);
        return !b ? m2352c(str) : b;
    }

    /* renamed from: b */
    private static boolean m2354b(String str) {
        try {
            if (str.length() == 17) {
                str = str.substring(0, 15);
            }
            if (str.length() != 15) {
                return false;
            }
            String substring = str.substring(14, 15);
            char[] charArray = str.substring(0, 14).toCharArray();
            int i = 0;
            int i2 = 0;
            while (i < charArray.length) {
                int parseInt = Integer.parseInt(String.valueOf(charArray[i]));
                int i3 = i + 1;
                int parseInt2 = Integer.parseInt(String.valueOf(charArray[i3])) * 2;
                if (parseInt2 >= 10) {
                    parseInt2 -= 9;
                }
                i2 += parseInt + parseInt2;
                i = i3 + 1;
            }
            int i4 = i2 % 10;
            if (String.valueOf(i4 == 0 ? 0 : 10 - i4).equals(substring)) {
                return true;
            }
            return false;
        } catch (Throwable unused) {
            return false;
        }
    }

    /* renamed from: c */
    private static boolean m2352c(String str) {
        int i;
        boolean z = false;
        try {
            String upperCase = str.toUpperCase();
            if (upperCase.length() == 16 || upperCase.length() == 17) {
                upperCase = upperCase.substring(2, upperCase.length());
            }
            if (upperCase.length() == 15) {
                String substring = upperCase.substring(14, 15);
                upperCase = upperCase.substring(0, 14);
                int i2 = 0;
                int i3 = 0;
                while (i2 < upperCase.length()) {
                    int i4 = i2 + 1;
                    int parseInt = Integer.parseInt(upperCase.substring(i2, i4), 16);
                    if (i2 % 2 == 0) {
                        i3 += parseInt;
                    } else {
                        int i5 = parseInt * 2;
                        i3 = i3 + (i5 % 16) + (i5 / 16);
                    }
                    i2 = i4;
                }
                if (i3 % 16 == 0) {
                    i = 0;
                } else {
                    i = 16 - (i3 % 16);
                }
                if (Integer.parseInt(substring, 16) == i) {
                    z = true;
                }
            }
            if (upperCase.length() != 14) {
                return z;
            }
            if (!upperCase.startsWith("A") && !upperCase.startsWith("F")) {
                if (!upperCase.startsWith("9")) {
                    return z;
                }
            }
            return true;
        } catch (Throwable unused) {
            return z;
        }
    }
}
