package com.p051jd.feedback;

import android.content.Context;
import android.os.Bundle;
import android.text.TextUtils;
import android.view.View;
import android.widget.Toast;
import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.widget.AppCompatImageView;
import androidx.recyclerview.widget.DividerItemDecoration;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.p051jd.feedback.C1415b;
import com.p051jd.feedback.network.beans.MessageBean;
import com.p051jd.feedback.network.result.MessageRequestResult;
import com.p051jd.feedback.p063a.C1295a;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

/* compiled from: TbsSdkJava */
/* renamed from: com.jd.feedback.FeedbackHistoryActivity */
/* loaded from: classes.dex */
public class FeedbackHistoryActivity extends AppCompatActivity {

    /* renamed from: a */
    private static String f2120a = "FeedbackHistoryActivity";

    /* renamed from: b */
    private AppCompatImageView f2121b;

    /* renamed from: c */
    private RecyclerView f2122c;

    /* renamed from: d */
    private View f2123d;

    /* renamed from: e */
    private C1295a f2124e;

    /* renamed from: f */
    private List<MessageBean> f2125f = new ArrayList();

    /* renamed from: g */
    private int f2126g = 0;

    /* JADX WARN: Multi-variable type inference failed */
    public void onCreate(Bundle bundle) {
        FeedbackHistoryActivity.super.onCreate(bundle);
        setContentView(C1287R.layout.activity_feedback_history);
        this.f2121b = findViewById(C1287R.C1290id.btn_back);
        this.f2121b.setOnClickListener(new View.OnClickListener() { // from class: com.jd.feedback.FeedbackHistoryActivity.1
            @Override // android.view.View.OnClickListener
            public final void onClick(View view) {
                FeedbackHistoryActivity.this.finish();
            }
        });
        this.f2123d = findViewById(C1287R.C1290id.no_data);
        this.f2124e = new C1295a(this.f2125f);
        this.f2122c = findViewById(C1287R.C1290id.recycler_view);
        this.f2122c.setAdapter(this.f2124e);
        this.f2122c.setLayoutManager(new LinearLayoutManager(this, 1, false));
        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(this, 1);
        dividerItemDecoration.setDrawable(getResources().getDrawable(C1287R.C1289drawable.item_divider_horizontal_transparent));
        this.f2122c.addItemDecoration(dividerItemDecoration);
        C1415b.m1997a((Context) this);
        m2244a();
    }

    public void onStart() {
        FeedbackHistoryActivity.super.onStart();
        if (!TextUtils.isEmpty(FeedbackSDK.getUserId())) {
            C1415b.m1996a(new C1415b.AbstractC1418a() { // from class: com.jd.feedback.FeedbackHistoryActivity.2

                /* renamed from: a */
                final /* synthetic */ int f2128a = 1;

                @Override // com.p051jd.feedback.C1415b.AbstractC1418a
                /* renamed from: a */
                public final void mo1992a(int i) {
                    if (i > 0) {
                        FeedbackHistoryActivity.this.m2244a();
                        FeedbackHistoryActivity.this.f2126g = this.f2128a;
                    }
                }

                @Override // com.p051jd.feedback.C1415b.AbstractC1418a
                /* renamed from: a */
                public final void mo1993a() {
                    FeedbackHistoryActivity.m2241a(FeedbackHistoryActivity.this, "数据更新失败");
                }
            });
        }
    }

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: a */
    public void m2244a() {
        this.f2125f.clear();
        for (MessageRequestResult.FeedbackMessages feedbackMessages : C1415b.m1998a()) {
            for (MessageBean messageBean : feedbackMessages.getList()) {
                this.f2125f.add(messageBean.clone());
            }
        }
        C1295a aVar = this.f2124e;
        aVar.f2211a = this.f2125f;
        Collections.sort(aVar.f2211a);
        Collections.reverse(aVar.f2211a);
        this.f2124e.notifyDataSetChanged();
        if (this.f2125f.size() > 0) {
            this.f2123d.setVisibility(8);
        } else {
            this.f2123d.setVisibility(0);
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* renamed from: a */
    static /* synthetic */ void m2241a(FeedbackHistoryActivity feedbackHistoryActivity, String str) {
        Toast.makeText((Context) feedbackHistoryActivity, (CharSequence) str, 0).show();
    }
}
