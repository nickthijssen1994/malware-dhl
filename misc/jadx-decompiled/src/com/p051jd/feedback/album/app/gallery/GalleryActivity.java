package com.p051jd.feedback.album.app.gallery;

import android.os.Bundle;
import androidx.annotation.Nullable;
import com.p051jd.feedback.C1287R;
import com.p051jd.feedback.album.AbstractC1303a;
import com.p051jd.feedback.album.AbstractC1378h;
import com.p051jd.feedback.album.app.C1320a;
import com.p051jd.feedback.album.mvp.BaseActivity;
import com.p051jd.feedback.album.p064a.p067c.C1311a;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;

/* compiled from: TbsSdkJava */
/* renamed from: com.jd.feedback.album.app.gallery.GalleryActivity */
/* loaded from: classes.dex */
public class GalleryActivity extends BaseActivity implements C1320a.AbstractC1323c {

    /* renamed from: a */
    public static AbstractC1303a<ArrayList<String>> f2416a;

    /* renamed from: b */
    public static AbstractC1303a<String> f2417b;

    /* renamed from: c */
    public static AbstractC1378h<String> f2418c;

    /* renamed from: d */
    public static AbstractC1378h<String> f2419d;

    /* renamed from: e */
    static final /* synthetic */ boolean f2420e = !GalleryActivity.class.desiredAssertionStatus();

    /* renamed from: f */
    private C1311a f2421f;

    /* renamed from: j */
    private ArrayList<String> f2422j;

    /* renamed from: k */
    private int f2423k;

    /* renamed from: l */
    private boolean f2424l;

    /* renamed from: m */
    private Map<String, Boolean> f2425m;

    /* renamed from: n */
    private C1320a.AbstractC1324d<String> f2426n;

    /* JADX WARN: Multi-variable type inference failed */
    @Override // com.p051jd.feedback.album.mvp.BaseActivity
    public void onCreate(@Nullable Bundle bundle) {
        super.onCreate(bundle);
        setContentView(C1287R.layout.album_activity_gallery);
        this.f2426n = new View$OnClickListenerC1357a(this, this);
        Bundle extras = getIntent().getExtras();
        if (f2420e || extras != null) {
            this.f2421f = (C1311a) extras.getParcelable("KEY_INPUT_WIDGET");
            this.f2422j = extras.getStringArrayList("KEY_INPUT_CHECKED_LIST");
            this.f2423k = extras.getInt("KEY_INPUT_CURRENT_POSITION");
            this.f2424l = extras.getBoolean("KEY_INPUT_GALLERY_CHECKABLE");
            this.f2425m = new HashMap();
            Iterator<String> it = this.f2422j.iterator();
            while (it.hasNext()) {
                this.f2425m.put(it.next(), Boolean.TRUE);
            }
            this.f2426n.m2065c(this.f2421f.f2257e);
            this.f2426n.mo2116a(this.f2421f, this.f2424l);
            if (!this.f2424l) {
                this.f2426n.mo2110c(false);
            }
            this.f2426n.mo2109d(false);
            this.f2426n.mo2113a(false);
            this.f2426n.mo2114a(this.f2422j);
            int i = this.f2423k;
            if (i == 0) {
                mo2122a(i);
            } else {
                this.f2426n.mo2117a(i);
            }
            m2124e();
            return;
        }
        throw new AssertionError();
    }

    /* renamed from: e */
    private void m2124e() {
        int i = 0;
        for (Map.Entry<String, Boolean> entry : this.f2425m.entrySet()) {
            if (entry.getValue().booleanValue()) {
                i++;
            }
        }
        String string = getString(C1287R.string.album_menu_finish);
        this.f2426n.mo2112b(string + "(" + i + " / " + this.f2422j.size() + ")");
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: a */
    public final void mo2123a() {
        if (f2418c != null) {
            this.f2422j.get(this.f2423k);
        }
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: b */
    public final void mo2121b() {
        if (f2419d != null) {
            this.f2422j.get(this.f2423k);
        }
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: a */
    public final void mo2122a(int i) {
        this.f2423k = i;
        C1320a.AbstractC1324d<String> dVar = this.f2426n;
        dVar.m2063d((i + 1) + " / " + this.f2422j.size());
        if (this.f2424l) {
            this.f2426n.mo2111b(this.f2425m.get(this.f2422j.get(i)).booleanValue());
        }
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: c */
    public final void mo2120c() {
        String str = this.f2422j.get(this.f2423k);
        Map<String, Boolean> map = this.f2425m;
        map.put(str, Boolean.valueOf(!map.get(str).booleanValue()));
        m2124e();
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: d */
    public final void mo2119d() {
        if (f2416a != null) {
            ArrayList<String> arrayList = new ArrayList<>();
            for (Map.Entry<String, Boolean> entry : this.f2425m.entrySet()) {
                if (entry.getValue().booleanValue()) {
                    arrayList.add(entry.getKey());
                }
            }
            f2416a.mo2162a(arrayList);
        }
        finish();
    }

    public void onBackPressed() {
        AbstractC1303a<String> aVar = f2417b;
        if (aVar != null) {
            aVar.mo2162a("User canceled.");
        }
        finish();
    }

    public void finish() {
        f2416a = null;
        f2417b = null;
        f2418c = null;
        f2419d = null;
        super.finish();
    }
}
