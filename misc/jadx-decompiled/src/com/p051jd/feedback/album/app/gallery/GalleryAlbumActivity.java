package com.p051jd.feedback.album.app.gallery;

import android.os.Bundle;
import androidx.annotation.Nullable;
import com.p051jd.feedback.C1287R;
import com.p051jd.feedback.album.AbstractC1303a;
import com.p051jd.feedback.album.AbstractC1378h;
import com.p051jd.feedback.album.C1371d;
import com.p051jd.feedback.album.app.C1320a;
import com.p051jd.feedback.album.mvp.BaseActivity;
import com.p051jd.feedback.album.p064a.p067c.C1311a;
import com.p051jd.feedback.album.p070c.C1369a;
import java.util.ArrayList;
import java.util.Iterator;

/* compiled from: TbsSdkJava */
/* renamed from: com.jd.feedback.album.app.gallery.GalleryAlbumActivity */
/* loaded from: classes.dex */
public class GalleryAlbumActivity extends BaseActivity implements C1320a.AbstractC1323c {

    /* renamed from: a */
    public static AbstractC1303a<ArrayList<C1371d>> f2427a;

    /* renamed from: b */
    public static AbstractC1303a<String> f2428b;

    /* renamed from: c */
    public static AbstractC1378h<C1371d> f2429c;

    /* renamed from: d */
    public static AbstractC1378h<C1371d> f2430d;

    /* renamed from: e */
    static final /* synthetic */ boolean f2431e = !GalleryAlbumActivity.class.desiredAssertionStatus();

    /* renamed from: f */
    private C1311a f2432f;

    /* renamed from: j */
    private ArrayList<C1371d> f2433j;

    /* renamed from: k */
    private int f2434k;

    /* renamed from: l */
    private boolean f2435l;

    /* renamed from: m */
    private C1320a.AbstractC1324d<C1371d> f2436m;

    /* JADX WARN: Multi-variable type inference failed */
    @Override // com.p051jd.feedback.album.mvp.BaseActivity
    public void onCreate(@Nullable Bundle bundle) {
        super.onCreate(bundle);
        setContentView(C1287R.layout.album_activity_gallery);
        this.f2436m = new View$OnClickListenerC1357a(this, this);
        Bundle extras = getIntent().getExtras();
        if (f2431e || extras != null) {
            this.f2432f = (C1311a) extras.getParcelable("KEY_INPUT_WIDGET");
            this.f2433j = extras.getParcelableArrayList("KEY_INPUT_CHECKED_LIST");
            this.f2434k = extras.getInt("KEY_INPUT_CURRENT_POSITION");
            this.f2435l = extras.getBoolean("KEY_INPUT_GALLERY_CHECKABLE");
            this.f2436m.m2065c(this.f2432f.f2257e);
            this.f2436m.mo2116a(this.f2432f, this.f2435l);
            this.f2436m.mo2114a(this.f2433j);
            int i = this.f2434k;
            if (i == 0) {
                mo2122a(i);
            } else {
                this.f2436m.mo2117a(i);
            }
            m2118e();
            return;
        }
        throw new AssertionError();
    }

    /* renamed from: e */
    private void m2118e() {
        Iterator<C1371d> it = this.f2433j.iterator();
        int i = 0;
        while (it.hasNext()) {
            if (it.next().f2470l) {
                i++;
            }
        }
        String string = getString(C1287R.string.album_menu_finish);
        this.f2436m.mo2112b(string + "(" + i + " / " + this.f2433j.size() + ")");
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: a */
    public final void mo2123a() {
        if (f2429c != null) {
            this.f2433j.get(this.f2434k);
        }
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: b */
    public final void mo2121b() {
        if (f2430d != null) {
            this.f2433j.get(this.f2434k);
        }
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: a */
    public final void mo2122a(int i) {
        this.f2434k = i;
        C1320a.AbstractC1324d<C1371d> dVar = this.f2436m;
        dVar.m2063d((i + 1) + " / " + this.f2433j.size());
        C1371d dVar2 = this.f2433j.get(i);
        if (this.f2435l) {
            this.f2436m.mo2111b(dVar2.f2470l);
        }
        this.f2436m.mo2109d(dVar2.f2471m);
        if (dVar2.f2469k == 2) {
            if (!this.f2435l) {
                this.f2436m.mo2110c(true);
            }
            this.f2436m.mo2115a(C1369a.m2098a(dVar2.f2467i));
            this.f2436m.mo2113a(true);
            return;
        }
        if (!this.f2435l) {
            this.f2436m.mo2110c(false);
        }
        this.f2436m.mo2113a(false);
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: c */
    public final void mo2120c() {
        C1371d dVar = this.f2433j.get(this.f2434k);
        dVar.f2470l = !dVar.f2470l;
        m2118e();
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: d */
    public final void mo2119d() {
        if (f2427a != null) {
            ArrayList<C1371d> arrayList = new ArrayList<>();
            Iterator<C1371d> it = this.f2433j.iterator();
            while (it.hasNext()) {
                C1371d next = it.next();
                if (next.f2470l) {
                    arrayList.add(next);
                }
            }
            f2427a.mo2162a(arrayList);
        }
        finish();
    }

    public void onBackPressed() {
        AbstractC1303a<String> aVar = f2428b;
        if (aVar != null) {
            aVar.mo2162a("User canceled.");
        }
        finish();
    }

    public void finish() {
        f2427a = null;
        f2428b = null;
        f2429c = null;
        f2430d = null;
        super.finish();
    }
}
