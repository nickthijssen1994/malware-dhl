package com.p051jd.feedback.album.app.album.p068a;

import android.content.Context;
import android.database.Cursor;
import android.provider.MediaStore;
import androidx.annotation.WorkerThread;
import com.p051jd.feedback.C1287R;
import com.p051jd.feedback.album.AbstractC1377g;
import com.p051jd.feedback.album.C1371d;
import com.p051jd.feedback.album.C1373e;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.Map;

/* compiled from: TbsSdkJava */
/* renamed from: com.jd.feedback.album.app.album.a.b */
/* loaded from: classes.dex */
public final class C1340b {

    /* renamed from: f */
    private static final String[] f2355f = {"_id", "_data", "bucket_display_name", "mime_type", "date_added", "latitude", "longitude", "_size"};

    /* renamed from: g */
    private static final String[] f2356g = {"_id", "_data", "bucket_display_name", "mime_type", "date_added", "latitude", "longitude", "_size", "duration"};

    /* renamed from: a */
    Context f2357a;

    /* renamed from: b */
    private AbstractC1377g<Long> f2358b;

    /* renamed from: c */
    private AbstractC1377g<String> f2359c;

    /* renamed from: d */
    private AbstractC1377g<Long> f2360d;

    /* renamed from: e */
    private boolean f2361e;

    public C1340b(Context context, AbstractC1377g<Long> gVar, AbstractC1377g<String> gVar2, AbstractC1377g<Long> gVar3, boolean z) {
        this.f2357a = context;
        this.f2358b = gVar;
        this.f2359c = gVar2;
        this.f2360d = gVar3;
        this.f2361e = z;
    }

    @WorkerThread
    /* renamed from: a */
    final void m2158a(Map<String, C1373e> map, C1373e eVar) {
        C1373e eVar2;
        Cursor query = this.f2357a.getContentResolver().query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, f2355f, null, null, null);
        if (query != null) {
            while (query.moveToNext()) {
                long j = query.getLong(0);
                String string = query.getString(1);
                String string2 = query.getString(2);
                String string3 = query.getString(3);
                long j2 = query.getLong(4);
                float f = query.getFloat(5);
                float f2 = query.getFloat(6);
                long j3 = query.getLong(7);
                C1371d dVar = new C1371d();
                dVar.f2469k = 1;
                dVar.f2459a = j;
                dVar.f2460b = string;
                dVar.f2461c = string2;
                dVar.f2462d = string3;
                dVar.f2463e = j2;
                dVar.f2464f = f;
                dVar.f2465g = f2;
                dVar.f2466h = j3;
                AbstractC1377g<Long> gVar = this.f2358b;
                if (gVar != null) {
                    Long.valueOf(j3);
                    if (gVar.m2076a()) {
                        if (this.f2361e) {
                            dVar.f2471m = true;
                        }
                    }
                }
                AbstractC1377g<String> gVar2 = this.f2359c;
                if (gVar2 == null || !gVar2.m2076a()) {
                    eVar2 = eVar;
                } else if (this.f2361e) {
                    dVar.f2471m = true;
                    eVar2 = eVar;
                }
                eVar2.m2079a(dVar);
                C1373e eVar3 = map.get(string2);
                if (eVar3 != null) {
                    eVar3.m2079a(dVar);
                } else {
                    C1373e eVar4 = new C1373e();
                    eVar4.f2472a = string2;
                    eVar4.m2079a(dVar);
                    map.put(string2, eVar4);
                }
            }
            query.close();
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:25:0x009d  */
    /* JADX WARN: Removed duplicated region for block: B:44:0x0092 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:46:0x0095 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:47:0x00b4 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:51:0x00c8 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:52:0x00c1 A[SYNTHETIC] */
    @WorkerThread
    /* renamed from: b */
    /* Code decompiled incorrectly, please refer to instructions dump */
    private void m2156b(Map<String, C1373e> map, C1373e eVar) {
        boolean z;
        AbstractC1377g<String> gVar;
        AbstractC1377g<Long> gVar2;
        C1373e eVar2;
        C1373e eVar3;
        Cursor query = this.f2357a.getContentResolver().query(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, f2356g, null, null, null);
        if (query != null) {
            while (query.moveToNext()) {
                long j = query.getLong(0);
                String string = query.getString(1);
                String string2 = query.getString(2);
                String string3 = query.getString(3);
                long j2 = query.getLong(4);
                float f = query.getFloat(5);
                float f2 = query.getFloat(6);
                long j3 = query.getLong(7);
                long j4 = query.getLong(8);
                C1371d dVar = new C1371d();
                dVar.f2469k = 2;
                dVar.f2459a = j;
                dVar.f2460b = string;
                dVar.f2461c = string2;
                dVar.f2462d = string3;
                dVar.f2463e = j2;
                dVar.f2464f = f;
                dVar.f2465g = f2;
                dVar.f2466h = j3;
                dVar.f2467i = j4;
                AbstractC1377g<Long> gVar3 = this.f2358b;
                if (gVar3 != null) {
                    Long.valueOf(j3);
                    if (gVar3.m2076a()) {
                        if (this.f2361e) {
                            z = true;
                            dVar.f2471m = true;
                            gVar = this.f2359c;
                            if (gVar != null && gVar.m2076a()) {
                                if (!this.f2361e) {
                                    dVar.f2471m = z;
                                } else {
                                    query = query;
                                }
                            }
                            gVar2 = this.f2360d;
                            if (gVar2 == null) {
                                Long.valueOf(j4);
                                if (gVar2.m2076a()) {
                                    if (this.f2361e) {
                                        dVar.f2471m = true;
                                        eVar2 = eVar;
                                        eVar2.m2079a(dVar);
                                        eVar3 = map.get(string2);
                                        if (eVar3 != null) {
                                            eVar3.m2079a(dVar);
                                            query = query;
                                        } else {
                                            C1373e eVar4 = new C1373e();
                                            eVar4.f2472a = string2;
                                            eVar4.m2079a(dVar);
                                            map.put(string2, eVar4);
                                            query = query;
                                        }
                                    } else {
                                        query = query;
                                    }
                                }
                            }
                            eVar2 = eVar;
                            eVar2.m2079a(dVar);
                            eVar3 = map.get(string2);
                            if (eVar3 != null) {
                            }
                        } else {
                            query = query;
                        }
                    }
                }
                z = true;
                gVar = this.f2359c;
                if (gVar != null) {
                    if (!this.f2361e) {
                    }
                }
                gVar2 = this.f2360d;
                if (gVar2 == null) {
                }
                eVar2 = eVar;
                eVar2.m2079a(dVar);
                eVar3 = map.get(string2);
                if (eVar3 != null) {
                }
            }
            query.close();
        }
    }

    @WorkerThread
    /* renamed from: a */
    public final ArrayList<C1373e> m2160a() {
        HashMap hashMap = new HashMap();
        C1373e eVar = new C1373e();
        eVar.f2474c = true;
        eVar.f2472a = this.f2357a.getString(C1287R.string.album_all_videos);
        m2156b(hashMap, eVar);
        ArrayList<C1373e> arrayList = new ArrayList<>();
        Collections.sort(eVar.f2473b);
        arrayList.add(eVar);
        for (Map.Entry<String, C1373e> entry : hashMap.entrySet()) {
            C1373e value = entry.getValue();
            Collections.sort(value.f2473b);
            arrayList.add(value);
        }
        return arrayList;
    }

    @WorkerThread
    /* renamed from: b */
    public final ArrayList<C1373e> m2157b() {
        HashMap hashMap = new HashMap();
        C1373e eVar = new C1373e();
        eVar.f2474c = true;
        eVar.f2472a = this.f2357a.getString(C1287R.string.album_all_images_videos);
        m2158a(hashMap, eVar);
        m2156b(hashMap, eVar);
        ArrayList<C1373e> arrayList = new ArrayList<>();
        Collections.sort(eVar.f2473b);
        arrayList.add(eVar);
        for (Map.Entry<String, C1373e> entry : hashMap.entrySet()) {
            C1373e value = entry.getValue();
            Collections.sort(value.f2473b);
            arrayList.add(value);
        }
        return arrayList;
    }
}
