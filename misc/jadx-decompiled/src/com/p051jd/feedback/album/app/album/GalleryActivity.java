package com.p051jd.feedback.album.app.album;

import android.content.res.Resources;
import android.os.Bundle;
import androidx.annotation.Nullable;
import com.p051jd.feedback.C1287R;
import com.p051jd.feedback.album.C1371d;
import com.p051jd.feedback.album.app.C1320a;
import com.p051jd.feedback.album.app.gallery.View$OnClickListenerC1357a;
import com.p051jd.feedback.album.mvp.BaseActivity;
import com.p051jd.feedback.album.p064a.p067c.C1311a;
import com.p051jd.feedback.album.p070c.C1369a;
import java.util.ArrayList;

/* compiled from: TbsSdkJava */
/* renamed from: com.jd.feedback.album.app.album.GalleryActivity */
/* loaded from: classes.dex */
public class GalleryActivity extends BaseActivity implements C1320a.AbstractC1323c {

    /* renamed from: a */
    public static ArrayList<C1371d> f2310a;

    /* renamed from: b */
    public static int f2311b;

    /* renamed from: c */
    public static int f2312c;

    /* renamed from: d */
    public static AbstractC1330a f2313d;

    /* renamed from: e */
    static final /* synthetic */ boolean f2314e = !GalleryActivity.class.desiredAssertionStatus();

    /* renamed from: f */
    private C1311a f2315f;

    /* renamed from: j */
    private int f2316j;

    /* renamed from: k */
    private int f2317k;

    /* renamed from: l */
    private C1320a.AbstractC1324d<C1371d> f2318l;

    /* compiled from: TbsSdkJava */
    /* renamed from: com.jd.feedback.album.app.album.GalleryActivity$a */
    /* loaded from: classes.dex */
    public interface AbstractC1330a {
        /* renamed from: b */
        void mo2167b(C1371d dVar);

        /* renamed from: e */
        void mo2166e();
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: a */
    public final void mo2123a() {
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: b */
    public final void mo2121b() {
    }

    /* JADX WARN: Multi-variable type inference failed */
    @Override // com.p051jd.feedback.album.mvp.BaseActivity
    public void onCreate(@Nullable Bundle bundle) {
        super.onCreate(bundle);
        setContentView(C1287R.layout.album_activity_gallery);
        this.f2318l = new View$OnClickListenerC1357a(this, this);
        Bundle extras = getIntent().getExtras();
        if (f2314e || extras != null) {
            this.f2315f = (C1311a) extras.getParcelable("KEY_INPUT_WIDGET");
            this.f2316j = extras.getInt("KEY_INPUT_FUNCTION");
            this.f2317k = extras.getInt("KEY_INPUT_LIMIT_COUNT");
            this.f2318l.mo2116a(this.f2315f, true);
            this.f2318l.mo2114a(f2310a);
            int i = f2312c;
            if (i == 0) {
                mo2122a(i);
            } else {
                this.f2318l.mo2117a(i);
            }
            m2168e();
            return;
        }
        throw new AssertionError();
    }

    /* renamed from: e */
    private void m2168e() {
        String string = getString(C1287R.string.album_menu_finish);
        this.f2318l.mo2112b(string + "(" + f2311b + " / " + this.f2317k + ")");
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: a */
    public final void mo2122a(int i) {
        f2312c = i;
        C1320a.AbstractC1324d<C1371d> dVar = this.f2318l;
        dVar.m2065c((f2312c + 1) + " / " + f2310a.size());
        C1371d dVar2 = f2310a.get(i);
        this.f2318l.mo2111b(dVar2.f2470l);
        this.f2318l.mo2109d(dVar2.f2471m);
        if (dVar2.f2469k == 2) {
            this.f2318l.mo2115a(C1369a.m2098a(dVar2.f2467i));
            this.f2318l.mo2113a(true);
            return;
        }
        this.f2318l.mo2113a(false);
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: c */
    public final void mo2120c() {
        int i;
        C1371d dVar = f2310a.get(f2312c);
        if (dVar.f2470l) {
            dVar.f2470l = false;
            f2313d.mo2167b(dVar);
            f2311b--;
        } else if (f2311b >= this.f2317k) {
            switch (this.f2316j) {
                case 0:
                    i = C1287R.plurals.album_check_image_limit;
                    break;
                case 1:
                    i = C1287R.plurals.album_check_video_limit;
                    break;
                case 2:
                    i = C1287R.plurals.album_check_album_limit;
                    break;
                default:
                    throw new AssertionError("This should not be the case.");
            }
            C1320a.AbstractC1324d<C1371d> dVar2 = this.f2318l;
            Resources resources = getResources();
            int i2 = this.f2317k;
            dVar2.m2067a((CharSequence) resources.getQuantityString(i, i2, Integer.valueOf(i2)));
            this.f2318l.mo2111b(false);
        } else {
            dVar.f2470l = true;
            f2313d.mo2167b(dVar);
            f2311b++;
        }
        m2168e();
    }

    @Override // com.p051jd.feedback.album.app.C1320a.AbstractC1323c
    /* renamed from: d */
    public final void mo2119d() {
        int i;
        if (f2311b == 0) {
            switch (this.f2316j) {
                case 0:
                    i = C1287R.string.album_check_image_little;
                    break;
                case 1:
                    i = C1287R.string.album_check_video_little;
                    break;
                case 2:
                    i = C1287R.string.album_check_album_little;
                    break;
                default:
                    throw new AssertionError("This should not be the case.");
            }
            this.f2318l.m2059h(i);
            return;
        }
        f2313d.mo2166e();
        finish();
    }

    public void onBackPressed() {
        finish();
    }

    public void finish() {
        f2310a = null;
        f2311b = 0;
        f2312c = 0;
        f2313d = null;
        super.finish();
    }
}
