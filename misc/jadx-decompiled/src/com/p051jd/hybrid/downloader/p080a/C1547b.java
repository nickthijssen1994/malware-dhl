package com.p051jd.hybrid.downloader.p080a;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.text.TextUtils;
import com.jingdong.jdsdk.utils.NetUtils;
import com.p051jd.libs.hybrid.base.C1841a;
import com.p051jd.libs.hybrid.base.p095b.C1853c;
import com.p051jd.push.common.constant.Constants;
import java.util.HashSet;

/* renamed from: com.jd.hybrid.downloader.a.b */
/* loaded from: classes.dex */
public final class C1547b implements AbstractC1546a {

    /* renamed from: a */
    final Object f2782a;

    /* renamed from: b */
    private Context f2783b;

    /* renamed from: c */
    private volatile BroadcastReceiver f2784c = null;

    public C1547b(Context context, Object obj) {
        this.f2783b = context.getApplicationContext();
        this.f2782a = obj;
    }

    @Override // com.p051jd.hybrid.downloader.p080a.AbstractC1546a
    /* renamed from: a */
    public final boolean mo1578a() {
        boolean z;
        String networkType = NetUtils.getNetworkType();
        if (TextUtils.isEmpty(networkType) || "UNKNOWN".equalsIgnoreCase(networkType)) {
            z = false;
        } else {
            HashSet hashSet = C1841a.f3183c != null ? new HashSet(C1841a.f3183c) : null;
            C1853c.m1308c("NetworkDownloadCondition", "download network requirement = ".concat(String.valueOf(hashSet)));
            z = (hashSet == null || hashSet.isEmpty()) ? true : hashSet.contains(networkType.toLowerCase());
        }
        C1853c.m1308c("NetworkDownloadCondition", "Current network type = " + networkType + ", requirement = " + C1841a.f3183c + ", condition pass = " + z);
        return z;
    }

    @Override // com.p051jd.hybrid.downloader.p080a.AbstractC1546a
    /* renamed from: b */
    public final void mo1577b() {
        if (this.f2784c == null) {
            Context context = this.f2783b;
            C15481 r1 = new BroadcastReceiver() { // from class: com.jd.hybrid.downloader.a.b.1
                @Override // android.content.BroadcastReceiver
                public final void onReceive(Context context2, Intent intent) {
                    if (!C1547b.this.mo1578a()) {
                        C1853c.m1308c("NetworkDownloadCondition", "Download condition(network) DISABLE");
                        return;
                    }
                    C1853c.m1308c("NetworkDownloadCondition", "Download condition(network) ENABLE");
                    synchronized (C1547b.this.f2782a) {
                        C1547b.this.f2782a.notifyAll();
                    }
                }
            };
            this.f2784c = r1;
            context.registerReceiver(r1, new IntentFilter(Constants.BroadcastAction.ACTION_NETWORK_ACTION));
            C1853c.m1308c("NetworkDownloadCondition", "register receiver of network change.");
        }
    }

    @Override // com.p051jd.hybrid.downloader.p080a.AbstractC1546a
    /* renamed from: c */
    public final void mo1576c() {
        if (this.f2784c != null) {
            this.f2783b.unregisterReceiver(this.f2784c);
            C1853c.m1308c("NetworkDownloadCondition", "unregister receiver of network change.");
            this.f2784c = null;
        }
    }
}
