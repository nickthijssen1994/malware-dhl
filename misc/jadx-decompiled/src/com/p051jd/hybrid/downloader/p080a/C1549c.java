package com.p051jd.hybrid.downloader.p080a;

import com.p051jd.libs.hybrid.base.C1841a;
import com.p051jd.libs.hybrid.base.p095b.C1853c;
import java.util.Timer;
import java.util.TimerTask;

/* renamed from: com.jd.hybrid.downloader.a.c */
/* loaded from: classes.dex */
public final class C1549c implements AbstractC1546a {

    /* renamed from: a */
    final Object f2786a;

    /* renamed from: b */
    private Timer f2787b;

    /* renamed from: c */
    private TimerTask f2788c;

    public C1549c(Object obj) {
        this.f2786a = obj;
    }

    @Override // com.p051jd.hybrid.downloader.p080a.AbstractC1546a
    /* renamed from: a */
    public final boolean mo1578a() {
        ThreadGroup threadGroup = Thread.currentThread().getThreadGroup();
        while (true) {
            ThreadGroup parent = threadGroup.getParent();
            if (parent == null) {
                break;
            }
            threadGroup = parent;
        }
        try {
            int enumerate = threadGroup.enumerate(new Thread[threadGroup.activeCount() * 2]);
            boolean z = enumerate <= C1841a.f3182b;
            C1853c.m1308c("ThreadDownloadCondition", "Current thread count: " + enumerate + ", requirement = " + C1841a.f3182b + ", condition pass = " + z);
            return z;
        } catch (Exception unused) {
            return false;
        }
    }

    @Override // com.p051jd.hybrid.downloader.p080a.AbstractC1546a
    /* renamed from: b */
    public final void mo1577b() {
        if (this.f2787b == null) {
            this.f2787b = new Timer();
            this.f2788c = new TimerTask() { // from class: com.jd.hybrid.downloader.a.c.1
                @Override // java.util.TimerTask, java.lang.Runnable
                public final void run() {
                    if (!C1549c.this.mo1578a()) {
                        C1853c.m1308c("ThreadDownloadCondition", "Download condition(thread count) DISABLE");
                        return;
                    }
                    C1853c.m1308c("ThreadDownloadCondition", "Download condition(thread count) ENABLE");
                    C1549c.this.mo1576c();
                    synchronized (C1549c.this.f2786a) {
                        C1549c.this.f2786a.notifyAll();
                    }
                }
            };
            this.f2787b.scheduleAtFixedRate(this.f2788c, 10000, 10000);
            C1853c.m1308c("ThreadDownloadCondition", "register timer of thread count listener.");
        }
    }

    @Override // com.p051jd.hybrid.downloader.p080a.AbstractC1546a
    /* renamed from: c */
    public final void mo1576c() {
        Timer timer = this.f2787b;
        if (timer != null) {
            timer.cancel();
            C1853c.m1308c("ThreadDownloadCondition", "unregister timer of thread count listener.");
        }
        this.f2787b = null;
        this.f2788c = null;
    }
}
