package com.p051jd.pushsdk.keeplive.onepx;

import android.app.Activity;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.os.Bundle;
import android.os.PowerManager;
import android.util.Log;
import android.view.Window;
import android.view.WindowManager;

/* renamed from: com.jd.pushsdk.keeplive.onepx.KeepLiveActivity */
/* loaded from: classes.dex */
public class KeepLiveActivity extends Activity {

    /* renamed from: br */
    private BroadcastReceiver f3575br;

    private void checkScreenOn(String str) {
        try {
            String name = getClass().getName();
            Log.d(name, "from call method: " + str);
            boolean isScreenOn = ((PowerManager) getSystemService("power")).isScreenOn();
            String name2 = getClass().getName();
            Log.d(name2, "isScreenOn: " + isScreenOn);
            if (isScreenOn) {
                finish();
            }
        } catch (Exception unused) {
        }
    }

    @Override // android.app.Activity
    protected void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        Window window = getWindow();
        window.setGravity(51);
        WindowManager.LayoutParams attributes = window.getAttributes();
        attributes.x = 0;
        attributes.y = 0;
        attributes.height = 1;
        attributes.width = 1;
        window.setAttributes(attributes);
        this.f3575br = new BroadcastReceiver() { // from class: com.jd.pushsdk.keeplive.onepx.KeepLiveActivity.1
            @Override // android.content.BroadcastReceiver
            public void onReceive(Context context, Intent intent) {
                KeepLiveActivity.this.finish();
            }
        };
        try {
            registerReceiver(this.f3575br, new IntentFilter("finish activity"));
        } catch (Exception unused) {
        }
        checkScreenOn("onCreate");
        Log.d(getClass().getName(), "===onCreate===");
    }

    @Override // android.app.Activity
    protected void onDestroy() {
        Log.d(getClass().getName(), "===onDestroy===");
        try {
            unregisterReceiver(this.f3575br);
        } catch (IllegalArgumentException e) {
            String name = getClass().getName();
            Log.e(name, "receiver is not resisted: " + e);
        }
        super.onDestroy();
    }

    @Override // android.app.Activity
    protected void onResume() {
        super.onResume();
        checkScreenOn("onResume");
    }
}
