package com.p051jd.push.common.util;

import android.content.Context;
import android.os.Environment;
import java.io.File;

/* renamed from: com.jd.push.common.util.FileUtils */
/* loaded from: classes.dex */
public class FileUtils {
    private static final String LOG_TAG = "FileUtils";

    public static void clearDirectory(File file) {
        LogUtils instance = LogUtils.getInstance();
        if (file != null && file.exists() && file.isDirectory()) {
            for (File file2 : file.listFiles()) {
                if (!file2.delete()) {
                    instance.e(LOG_TAG, "file delete failed");
                }
            }
        }
    }

    private static String createDir(Context context, String str) {
        File file = new File(getWorkingDirectory(context) + str);
        if (!file.exists() && !file.mkdirs()) {
            LogUtils.getInstance().e(LOG_TAG, "create file failed");
        }
        String path = file.getPath();
        if (path.endsWith("/")) {
            return path;
        }
        return path + "/";
    }

    public static String getLogDir(Context context) {
        return createDir(context, "logcat");
    }

    public static String getWorkingDirectory(Context context) {
        String str;
        if (isSDCardMounted()) {
            str = Environment.getExternalStorageDirectory().getAbsolutePath() + context.getPackageName();
        } else {
            str = context.getFilesDir().getAbsolutePath();
        }
        if (!str.endsWith(File.separator)) {
            str = str + File.separator;
        }
        File file = new File(str);
        if (!file.exists() && !file.mkdirs()) {
            LogUtils.getInstance().e(LOG_TAG, "create file failed");
        }
        return str;
    }

    public static boolean isSDCardMounted() {
        return Environment.getExternalStorageState().equals("mounted");
    }
}
