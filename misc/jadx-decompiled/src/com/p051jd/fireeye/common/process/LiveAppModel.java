package com.p051jd.fireeye.common.process;

import android.content.Context;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.os.Build;
import android.os.Parcel;
import android.os.Parcelable;
import com.p051jd.fireeye.common.C1462g;
import java.io.File;
import java.io.IOException;

/* compiled from: TbsSdkJava */
/* renamed from: com.jd.fireeye.common.process.LiveAppModel */
/* loaded from: classes.dex */
public class LiveAppModel extends LiveProcessModel {

    /* renamed from: g */
    private static final String f2640g;

    /* renamed from: h */
    private static final String f2641h;

    /* renamed from: a */
    public boolean f2642a;

    /* renamed from: b */
    public int f2643b;

    /* renamed from: f */
    private static final boolean f2639f = new File("/dev/cpuctl/tasks").exists();
    public static final Parcelable.Creator<LiveAppModel> CREATOR = new C1474c();

    public LiveAppModel() {
    }

    public LiveAppModel(int i) throws IOException, NotAndroidAppProcessException {
        super(i);
        boolean z;
        int i2;
        if (this.f2644c == null || !this.f2644c.contains(".") || this.f2644c.contains("/") || !this.f2644c.matches(f2641h)) {
            if (C1462g.f2620a) {
                C1462g.m1893a("LiveAppModel.name = " + this.f2644c);
            }
            throw new NotAndroidAppProcessException(i);
        }
        if (f2639f) {
            Cgroup a = Cgroup.m1828a(this.f2646e);
            ControlGroup a2 = a.m1827a("cpuacct");
            ControlGroup a3 = a.m1827a("cpu");
            if (Build.VERSION.SDK_INT >= 21) {
                if (a3 == null || a2 == null || !a2.f2638c.contains("pid_")) {
                    throw new NotAndroidAppProcessException(i);
                }
                z = !a3.f2638c.contains("bg_non_interactive");
                try {
                    i2 = Integer.parseInt(a2.f2638c.split("/")[1].replace("uid_", ""));
                } catch (Exception unused) {
                    i2 = Status.m1754a(this.f2646e).m1755a();
                }
            } else if (a3 == null || a2 == null || !a3.f2638c.contains("apps")) {
                throw new NotAndroidAppProcessException(i);
            } else {
                z = !a3.f2638c.contains("bg_non_interactive");
                try {
                    i2 = Integer.parseInt(a2.f2638c.substring(a2.f2638c.lastIndexOf("/") + 1));
                } catch (Exception unused2) {
                    i2 = Status.m1754a(this.f2646e).m1755a();
                }
            }
        } else {
            Stat a4 = Stat.m1784a(this.f2646e);
            Status a5 = Status.m1754a(this.f2646e);
            z = a4.m1783b() == 0;
            i2 = a5.m1755a();
        }
        this.f2642a = z;
        this.f2643b = i2;
    }

    /* renamed from: a */
    public final String m1826a() {
        return this.f2644c.split(":")[0];
    }

    /* renamed from: a */
    private PackageInfo m1825a(Context context, int i) throws PackageManager.NameNotFoundException {
        return context.getPackageManager().getPackageInfo(m1826a(), i);
    }

    @Override // com.p051jd.fireeye.common.process.LiveProcessModel, android.os.Parcelable
    public void writeToParcel(Parcel parcel, int i) {
        super.writeToParcel(parcel, i);
        parcel.writeByte(this.f2642a ? (byte) 1 : 0);
        parcel.writeInt(this.f2643b);
    }

    protected LiveAppModel(Parcel parcel) {
        super(parcel);
        this.f2642a = parcel.readByte() != 0;
        this.f2643b = parcel.readInt();
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.jd.fireeye.common.process.LiveAppModel$NotAndroidAppProcessException */
    /* loaded from: classes.dex */
    public static final class NotAndroidAppProcessException extends Exception {
        public NotAndroidAppProcessException(int i) {
            super(String.format("The process %d does not belong to any application", Integer.valueOf(i)));
        }
    }

    @Override // java.lang.Object
    public String toString() {
        return this.f2643b + f2640g + this.f2646e + f2640g + this.f2644c + f2640g + this.f2645d;
    }
}
