package com.p051jd.fireeye.common;

import android.content.Context;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.Signature;
import android.os.Build;
import android.os.Process;
import android.text.TextUtils;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.security.MessageDigest;

/* compiled from: TbsSdkJava */
/* renamed from: com.jd.fireeye.common.a */
/* loaded from: classes.dex */
public final class C1455a {

    /* renamed from: a */
    private static final String f2598a = "AppBaseUtil";

    /* renamed from: b */
    private static String f2599b;

    /* renamed from: c */
    private static String m1927c() {
        return C1457c.f2604a;
    }

    /* renamed from: c */
    private static String m1926c(Context context) {
        if (!TextUtils.isEmpty(f2599b)) {
            return f2599b;
        }
        if (context != null) {
            f2599b = context.getPackageName() + "_com.jma.track";
        }
        return f2599b;
    }

    /* renamed from: a */
    public static int m1934a(Context context) {
        PackageInfo e = m1923e(context);
        if (e == null) {
            return 0;
        }
        return e.versionCode;
    }

    /* renamed from: b */
    public static String m1930b(Context context) {
        PackageInfo e = m1923e(context);
        if (e == null) {
            return "";
        }
        String str = e.versionName;
        return !TextUtils.isEmpty(str) ? str : "";
    }

    /* renamed from: d */
    private static String m1924d(Context context) {
        PackageInfo e = m1923e(context);
        if (e == null) {
            return "";
        }
        return e.packageName;
    }

    /* renamed from: b */
    private static int m1931b() {
        return Build.VERSION.SDK_INT;
    }

    /* renamed from: a */
    public static String m1935a() {
        return Build.VERSION.RELEASE;
    }

    /* renamed from: e */
    private static PackageInfo m1923e(Context context) {
        if (context == null) {
            return null;
        }
        try {
            return context.getPackageManager().getPackageInfo(context.getPackageName(), 0);
        } catch (Exception unused) {
            return null;
        }
    }

    /* renamed from: d */
    private static String m1925d() {
        try {
            long currentTimeMillis = System.currentTimeMillis();
            BufferedReader bufferedReader = new BufferedReader(new FileReader(new File("/proc/" + Process.myPid() + "/cmdline")));
            String trim = bufferedReader.readLine().trim();
            bufferedReader.close();
            C1462g.m1893a("getProcessName by file  = " + (System.currentTimeMillis() - currentTimeMillis));
            return trim;
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }

    /* renamed from: a */
    public static String m1933a(Context context, String str) {
        if (TextUtils.isEmpty(str)) {
            C1462g.m1888b(f2598a, "pkName is null");
            return "";
        } else if (context == null) {
            C1462g.m1888b(f2598a, "context is null");
            return "";
        } else {
            try {
                Signature[] b = m1929b(context, str);
                if (!(b == null || b.length == 0)) {
                    Signature signature = b[0];
                    if (signature == null) {
                        return "";
                    }
                    String b2 = m1928b(signature.toByteArray());
                    if (C1462g.f2620a) {
                        C1462g.m1888b(f2598a, "signatureStr = " + b2);
                    }
                    return b2;
                }
                C1462g.m1888b(f2598a, "sign is null");
                return "";
            } catch (Throwable th) {
                th.printStackTrace();
                return "";
            }
        }
    }

    /* renamed from: b */
    private static Signature[] m1929b(Context context, String str) {
        if (TextUtils.isEmpty(str)) {
            return null;
        }
        try {
            PackageInfo packageInfo = context.getPackageManager().getPackageInfo(str, 64);
            if (packageInfo == null) {
                return null;
            }
            return packageInfo.signatures;
        } catch (PackageManager.NameNotFoundException unused) {
            if (C1462g.f2620a) {
                C1462g.m1888b(f2598a, str + " not installed!");
            }
            return null;
        }
    }

    /* renamed from: a */
    private static String m1932a(byte[] bArr) {
        StringBuilder sb = new StringBuilder(bArr.length * 2);
        for (byte b : bArr) {
            String hexString = Integer.toHexString(b);
            int length = hexString.length();
            if (length == 1) {
                hexString = "0" + hexString;
            }
            if (length > 2) {
                hexString = hexString.substring(length - 2, length);
            }
            sb.append(hexString.toLowerCase());
        }
        return sb.toString();
    }

    /* renamed from: b */
    private static String m1928b(byte[] bArr) {
        try {
            byte[] digest = MessageDigest.getInstance("SHA1").digest(bArr);
            StringBuilder sb = new StringBuilder(digest.length * 2);
            for (byte b : digest) {
                String hexString = Integer.toHexString(b);
                int length = hexString.length();
                if (length == 1) {
                    hexString = "0" + hexString;
                }
                if (length > 2) {
                    hexString = hexString.substring(length - 2, length);
                }
                sb.append(hexString.toLowerCase());
            }
            return sb.toString();
        } catch (Throwable th) {
            th.printStackTrace();
            return "";
        }
    }
}
