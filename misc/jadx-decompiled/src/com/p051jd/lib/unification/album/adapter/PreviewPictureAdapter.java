package com.p051jd.lib.unification.album.adapter;

import android.view.View;
import android.view.ViewGroup;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.fragment.app.FragmentStatePagerAdapter;
import com.p051jd.lib.unification.album.entity.LocalMedia;
import com.p051jd.lib.unification.album.frag.PreviewPictureFragment;
import java.util.ArrayList;

/* compiled from: TbsSdkJava */
/* renamed from: com.jd.lib.unification.album.adapter.PreviewPictureAdapter */
/* loaded from: classes.dex */
public class PreviewPictureAdapter extends FragmentStatePagerAdapter {
    private PreviewPictureFragment currentFragment;
    private ArrayList<LocalMedia> mPreviewPictureList;
    private PreviewPictureFragment oldFragment;
    private int oldpos = -1;
    private int currentPosition = 0;
    private boolean isAutoPlay = true;

    public int getItemPosition(Object obj) {
        return -2;
    }

    public PreviewPictureAdapter(FragmentManager fragmentManager, ArrayList<LocalMedia> arrayList) {
        super(fragmentManager);
        this.mPreviewPictureList = arrayList;
    }

    public void setCurrentPosition(int i) {
        this.currentPosition = i;
    }

    public Fragment getItem(int i) {
        ArrayList<LocalMedia> arrayList = this.mPreviewPictureList;
        return PreviewPictureFragment.newInstance(arrayList != null ? arrayList.get(i) : null);
    }

    public int getCount() {
        ArrayList<LocalMedia> arrayList = this.mPreviewPictureList;
        if (arrayList == null) {
            return 0;
        }
        return arrayList.size();
    }

    public boolean isViewFromObject(View view, Object obj) {
        return PreviewPictureAdapter.super.isViewFromObject(view, obj);
    }

    public void setPrimaryItem(ViewGroup viewGroup, int i, Object obj) {
        if (obj instanceof PreviewPictureFragment) {
            this.currentFragment = (PreviewPictureFragment) obj;
            PreviewPictureFragment previewPictureFragment = this.oldFragment;
            if (!(previewPictureFragment == null || previewPictureFragment == this.currentFragment)) {
                previewPictureFragment.pauseVideo();
            }
            PreviewPictureFragment previewPictureFragment2 = this.currentFragment;
            if (!(previewPictureFragment2 == null || this.oldpos == i)) {
                if (this.currentPosition == i && this.isAutoPlay) {
                    previewPictureFragment2.adapterStart();
                    this.isAutoPlay = false;
                }
                this.oldpos = i;
                this.oldFragment = this.currentFragment;
            }
            PreviewPictureAdapter.super.setPrimaryItem(viewGroup, i, obj);
        }
    }

    public PreviewPictureFragment getCurrentFragment() {
        return this.currentFragment;
    }
}
