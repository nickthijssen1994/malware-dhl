package com.p051jd.scan.history;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.ViewStub;
import android.widget.Button;
import android.widget.TextView;
import androidx.recyclerview.widget.DividerItemDecoration;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.jingdong.common.ui.JDDialog;
import com.jingdong.common.unification.statusbar.IStatusController;
import com.jingdong.common.unification.statusbar.UnStatusBarTintUtil;
import com.p051jd.scan.C2042R;
import com.p051jd.scan.history.C2066a;
import com.p051jd.scan.p112b.C2057a;
import com.p051jd.scan.p113c.C2058a;
import com.p051jd.scan.text.ScanTxtEditActivity;
import com.p051jd.scan.util.ScanResultManager;
import java.util.ArrayList;
import java.util.List;

/* renamed from: com.jd.scan.history.ScanHistoryActivity */
/* loaded from: classes.dex */
public class ScanHistoryActivity extends Activity implements IStatusController {

    /* renamed from: a */
    private TextView f3609a;

    /* renamed from: b */
    private RecyclerView f3610b;

    /* renamed from: c */
    private LinearLayoutManager f3611c;

    /* renamed from: d */
    private C2066a f3612d;

    /* renamed from: e */
    private List<C2057a> f3613e = new ArrayList();

    /* renamed from: f */
    private ViewStub f3614f;

    /* renamed from: g */
    private TextView f3615g;

    /* JADX INFO: Access modifiers changed from: private */
    /* renamed from: a */
    public void m823a() {
        if (this.f3614f == null) {
            this.f3614f = (ViewStub) findViewById(C2042R.C2044id.noData_stub);
        }
        this.f3614f.setVisibility(0);
        this.f3615g.setTextColor(-10066330);
    }

    /* renamed from: a */
    public static void m822a(Context context) {
        context.startActivity(new Intent(context, ScanHistoryActivity.class));
    }

    @Override // com.jingdong.common.unification.statusbar.IStatusController
    public String getServerConfigValue() {
        return null;
    }

    @Override // com.jingdong.common.unification.statusbar.IStatusController
    public boolean isDisplayCutout() {
        return false;
    }

    @Override // android.app.Activity
    protected void onActivityResult(int i, int i2, Intent intent) {
        super.onActivityResult(i, i2, intent);
    }

    @Override // android.app.Activity
    protected void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        UnStatusBarTintUtil.defaultSetTranslucent(this);
        setContentView(C2042R.layout.activity_scan_history);
        if (UnStatusBarTintUtil.isEnable(this)) {
            UnStatusBarTintUtil.setStatusBar4Base(this, statusBarHint());
        }
        UnStatusBarTintUtil.setStatusBarLightMode(this);
        this.f3609a = (TextView) findViewById(C2042R.C2044id.white_status_bar);
        this.f3609a.setHeight(UnStatusBarTintUtil.getStatusBarHeight(this));
        this.f3609a.setVisibility(0);
        this.f3615g = (TextView) findViewById(C2042R.C2044id.tv_clear);
        findViewById(C2042R.C2044id.title_back).setOnClickListener(new View.OnClickListener() { // from class: com.jd.scan.history.ScanHistoryActivity.3
            @Override // android.view.View.OnClickListener
            public final void onClick(View view) {
                ScanHistoryActivity.this.finish();
            }
        });
        this.f3615g.setOnClickListener(new View.OnClickListener() { // from class: com.jd.scan.history.ScanHistoryActivity.4
            @Override // android.view.View.OnClickListener
            public final void onClick(View view) {
                if (!ScanHistoryActivity.this.isFinishing() && ScanHistoryActivity.this.f3613e != null && ScanHistoryActivity.this.f3613e.size() > 0) {
                    final JDDialog jDDialog = new JDDialog(ScanHistoryActivity.this);
                    jDDialog.setContentView(C2042R.layout.dialog_scan_tips_style);
                    jDDialog.titleView = (TextView) jDDialog.findViewById(C2042R.C2044id.tv_tips_title);
                    jDDialog.titleView.setText("提示");
                    jDDialog.messageView = (TextView) jDDialog.findViewById(C2042R.C2044id.tv_tips_content);
                    jDDialog.setMessage("要清除全部扫描历史？", true);
                    jDDialog.getWindow().setBackgroundDrawableResource(C2042R.C2043drawable.dialog_scan_tip_bg);
                    jDDialog.posButton = (Button) jDDialog.findViewById(C2042R.C2044id.posButton);
                    jDDialog.posButton.setText("全部清空");
                    jDDialog.negButton = (Button) jDDialog.findViewById(C2042R.C2044id.negButton);
                    jDDialog.negButton.setText("依然保留");
                    jDDialog.setOnLeftButtonClickListener(new View.OnClickListener() { // from class: com.jd.scan.history.ScanHistoryActivity.4.1
                        @Override // android.view.View.OnClickListener
                        public final void onClick(View view2) {
                            jDDialog.dismiss();
                            ScanHistoryActivity.this.f3613e.clear();
                            ScanHistoryActivity.this.f3612d.notifyDataSetChanged();
                            ScanHistoryActivity.this.m823a();
                        }
                    });
                    jDDialog.setOnRightButtonClickListener(new View.OnClickListener() { // from class: com.jd.scan.history.ScanHistoryActivity.4.2
                        @Override // android.view.View.OnClickListener
                        public final void onClick(View view2) {
                            jDDialog.dismiss();
                        }
                    });
                    jDDialog.show();
                }
            }
        });
        List<C2057a> a = C2058a.m828a(this);
        if (a == null || a.size() <= 0) {
            m823a();
        } else {
            C2058a.m826a(a);
            this.f3613e.addAll(a);
        }
        this.f3610b = findViewById(C2042R.C2044id.scan_history_rclView);
        this.f3611c = new LinearLayoutManager(this);
        this.f3610b.setLayoutManager(new LinearLayoutManager(this));
        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(this, this.f3611c.getOrientation());
        dividerItemDecoration.setDrawable(getResources().getDrawable(C2042R.C2043drawable.scan_history_item_decoration));
        this.f3610b.addItemDecoration(dividerItemDecoration);
        this.f3612d = new C2066a(this.f3613e, this);
        this.f3610b.setAdapter(this.f3612d);
        this.f3612d.f3624a = new C2066a.AbstractC2070b() { // from class: com.jd.scan.history.ScanHistoryActivity.1
            @Override // com.p051jd.scan.history.C2066a.AbstractC2070b
            /* renamed from: a */
            public final void mo815a(int i) {
                if (i < ScanHistoryActivity.this.f3613e.size()) {
                    ScanHistoryActivity.this.f3613e.remove(i);
                    ScanHistoryActivity.this.f3612d.notifyItemRemoved(i);
                    ScanHistoryActivity.this.f3612d.notifyItemRangeChanged(i, ScanHistoryActivity.this.f3613e.size() - i);
                    if (ScanHistoryActivity.this.f3613e.size() == 0) {
                        ScanHistoryActivity.this.m823a();
                    }
                }
            }
        };
        this.f3612d.f3625b = new C2066a.AbstractC2069a() { // from class: com.jd.scan.history.ScanHistoryActivity.2
            @Override // com.p051jd.scan.history.C2066a.AbstractC2069a
            /* renamed from: a */
            public final void mo816a(int i) {
                C2057a aVar = (C2057a) ScanHistoryActivity.this.f3613e.get(i);
                ScanResultManager.OnScanResultListener scanResultListener = ScanResultManager.getInstance().getScanResultListener();
                if (scanResultListener != null && !scanResultListener.onCallback(aVar.f3604b)) {
                    ScanTxtEditActivity.m814a(ScanHistoryActivity.this, aVar.f3604b);
                }
            }
        };
    }

    @Override // android.app.Activity
    protected void onDestroy() {
        super.onDestroy();
    }

    @Override // android.app.Activity
    protected void onResume() {
        super.onResume();
    }

    @Override // android.app.Activity
    protected void onStop() {
        List<C2057a> list = this.f3613e;
        if (list != null) {
            C2058a.m824b(this, list);
        }
        super.onStop();
    }

    @Override // com.jingdong.common.unification.statusbar.IStatusController
    public int statusBarHint() {
        return 1;
    }

    @Override // com.jingdong.common.unification.statusbar.IStatusController
    public boolean statusBarTransparentEnable() {
        return false;
    }
}
