package com.jingdong.sdk.uuid.p131a;

import android.content.Context;
import android.net.wifi.WifiManager;
import android.os.Build;
import android.text.TextUtils;
import com.jingdong.sdk.uuid.AbstractC2263b;
import com.jingdong.sdk.uuid.C2271d;
import com.jingdong.sdk.uuid.C2272e;
import com.jingdong.sdk.uuid.C2273f;
import com.jingdong.sdk.uuid.Request;
import java.net.NetworkInterface;
import java.util.Collections;

/* renamed from: com.jingdong.sdk.uuid.a.e */
/* loaded from: classes.dex */
public class C2262e implements AbstractC2263b {
    /* renamed from: a */
    private static String m41a() {
        try {
            for (NetworkInterface networkInterface : Collections.list(NetworkInterface.getNetworkInterfaces())) {
                if (networkInterface.getName().equalsIgnoreCase("wlan0")) {
                    byte[] hardwareAddress = networkInterface.getHardwareAddress();
                    if (hardwareAddress == null) {
                        return "";
                    }
                    StringBuilder sb = new StringBuilder();
                    int length = hardwareAddress.length;
                    for (int i = 0; i < length; i++) {
                        sb.append(String.format("%02x:", Byte.valueOf(hardwareAddress[i])));
                    }
                    if (sb.length() > 0) {
                        sb.deleteCharAt(sb.length() - 1);
                    }
                    return sb.toString();
                }
            }
            return "";
        } catch (Exception unused) {
            return "";
        }
    }

    /* renamed from: a */
    public static String m40a(Context context) {
        String str = "";
        try {
        } catch (Exception e) {
            C2271d.m24a(e);
        }
        if (context != null) {
            WifiManager wifiManager = (WifiManager) context.getApplicationContext().getSystemService("wifi");
            if (wifiManager != null) {
                str = wifiManager.getConnectionInfo().getMacAddress();
                if (Build.VERSION.SDK_INT >= 23 || str == null || str.equals("02:00:00:00:00:00")) {
                    str = m41a();
                }
                return m39a(str);
            }
            throw new IllegalStateException("Can't get WifiManager.");
        }
        throw new NullPointerException("getMacAddressStr(), context is null");
    }

    /* renamed from: a */
    private static String m39a(String str) {
        return !TextUtils.isEmpty(str) ? str.trim().replaceAll("-|\\.|:", "") : str;
    }

    @Override // com.jingdong.sdk.uuid.AbstractC2263b
    /* renamed from: a */
    public C2273f mo38a(AbstractC2263b.AbstractC2264a aVar) {
        C2271d.m26a("Enter WifiMacInterceptor intercept()");
        Request a = aVar.mo37a();
        C2272e.m18a(a);
        if (TextUtils.isEmpty(C2272e.m19a().m17a("mac")) && a.isWifiMacReadable()) {
            String a2 = m40a(a.getContext());
            C2272e.m19a().m16a("mac", a2);
            a.fillingIdSlot("mac", a2);
        }
        return aVar.mo36a(a);
    }
}
