package com.jingdong.aura.core.runing;

import android.content.ComponentName;
import android.content.Context;
import android.content.ContextWrapper;
import android.content.Intent;
import android.content.ServiceConnection;
import android.content.pm.PackageManager;
import android.content.pm.ResolveInfo;
import android.content.res.AssetManager;
import android.content.res.Resources;
import com.jingdong.aura.core.p122b.C2153h;
import com.jingdong.aura.core.p122b.p124b.C2131b;
import com.jingdong.aura.core.util.C2205h;
import com.jingdong.aura.core.util.p127a.AbstractC2197b;
import com.jingdong.aura.core.util.p127a.C2198c;
import org.osgi.framework.BundleException;

/* compiled from: TbsSdkJava */
/* renamed from: com.jingdong.aura.core.runing.d */
/* loaded from: classes.dex */
public class C2174d extends ContextWrapper {

    /* renamed from: a */
    private static final AbstractC2197b f4070a = C2198c.m255a(C2174d.class);

    /* renamed from: b */
    private ClassLoader f4071b;

    public C2174d(Context context, ClassLoader classLoader) {
        super(context);
        this.f4071b = null;
        this.f4071b = classLoader;
    }

    @Override // android.content.ContextWrapper, android.content.Context
    public Resources getResources() {
        return C2181k.f4101d;
    }

    @Override // android.content.ContextWrapper, android.content.Context
    public AssetManager getAssets() {
        return C2181k.f4101d.getAssets();
    }

    @Override // android.content.ContextWrapper, android.content.Context
    public PackageManager getPackageManager() {
        return getApplicationContext().getPackageManager();
    }

    @Override // android.content.ContextWrapper, android.content.Context
    public ClassLoader getClassLoader() {
        ClassLoader classLoader = this.f4071b;
        if (classLoader != null) {
            return classLoader;
        }
        return super.getClassLoader();
    }

    @Override // android.content.ContextWrapper, android.content.Context
    public boolean bindService(Intent intent, ServiceConnection serviceConnection, int i) {
        String str;
        String str2 = null;
        if (intent.getComponent() != null) {
            str2 = intent.getComponent().getPackageName();
            str = intent.getComponent().getClassName();
        } else {
            ResolveInfo resolveService = getBaseContext().getPackageManager().resolveService(intent, 0);
            if (resolveService == null || resolveService.serviceInfo == null) {
                str = null;
            } else {
                str2 = resolveService.serviceInfo.packageName;
                str = resolveService.serviceInfo.name;
            }
        }
        if (!C2205h.m223b(getBaseContext().getPackageName(), str2)) {
            return super.bindService(intent, serviceConnection, i);
        }
        C2173c.m336b(str);
        String c = C2176f.m322c(str);
        if (c != null) {
            C2153h a = C2131b.m590a(c);
            if (a != null) {
                try {
                    a.m406j();
                } catch (BundleException e) {
                    f4070a.mo260b(e.getMessage() + " Caused by: ", e.getNestedException());
                }
            }
            return super.bindService(intent, serviceConnection, i);
        }
        try {
            if (C2131b.m583b().loadClass(str) != null) {
                return super.bindService(intent, serviceConnection, i);
            }
        } catch (ClassNotFoundException unused) {
            f4070a.mo256e("Can't find class " + str);
        }
        return false;
    }

    @Override // android.content.ContextWrapper, android.content.Context
    public ComponentName startService(Intent intent) {
        String str;
        String str2;
        if (intent.getComponent() != null) {
            str2 = intent.getComponent().getPackageName();
            str = intent.getComponent().getClassName();
        } else {
            ResolveInfo resolveService = getBaseContext().getPackageManager().resolveService(intent, 0);
            if (resolveService == null || resolveService.serviceInfo == null) {
                str2 = null;
                str = null;
            } else {
                String str3 = resolveService.serviceInfo.packageName;
                str = resolveService.serviceInfo.name;
                str2 = str3;
            }
        }
        if (!C2205h.m223b(getBaseContext().getPackageName(), str2)) {
            return super.startService(intent);
        }
        C2173c.m336b(str);
        String c = C2176f.m322c(str);
        if (c != null) {
            C2153h a = C2131b.m590a(c);
            if (a != null) {
                try {
                    a.m406j();
                } catch (BundleException e) {
                    f4070a.mo260b(e.getMessage() + " Caused by: ", e.getNestedException());
                }
            }
            return super.startService(intent);
        }
        try {
            if (C2131b.m583b().loadClass(str) != null) {
                return super.startService(intent);
            }
            return null;
        } catch (ClassNotFoundException unused) {
            f4070a.mo256e("Can't find class " + str);
            return null;
        }
    }
}
