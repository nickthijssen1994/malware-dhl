package com.jingdong.aura.core.p122b.p124b;

import android.annotation.SuppressLint;
import com.jingdong.aura.core.p122b.C2153h;
import com.jingdong.aura.core.p122b.C2155j;
import com.jingdong.aura.core.util.C2206i;
import com.jingdong.aura.core.util.p127a.AbstractC2197b;
import com.jingdong.aura.core.util.p127a.C2198c;
import java.io.PrintStream;
import java.util.Dictionary;
import java.util.HashMap;
import java.util.Hashtable;
import java.util.List;
import org.osgi.a.a.a;
import org.osgi.framework.BundleException;
import org.osgi.framework.e;

/* compiled from: TbsSdkJava */
/* renamed from: com.jingdong.aura.core.b.b.e */
/* loaded from: classes.dex */
final class C2134e implements a, org.osgi.a.b.a, org.osgi.framework.a {

    /* renamed from: a */
    private static final AbstractC2197b f3894a = C2198c.m255a(C2134e.class);

    /* renamed from: b */
    private final Dictionary<String, String> f3895b = new Hashtable();

    /* renamed from: c */
    private final e[] f3896c;

    /* renamed from: d */
    private int f3897d;

    /* renamed from: l */
    public void m552l() {
    }

    /* renamed from: n */
    public String m550n() {
        return "System Bundle";
    }

    public String toString() {
        return "SystemBundle";
    }

    C2134e() {
        this.f3895b.put("Bundle-Name", "System Bundle");
        this.f3895b.put("Bundle-Version", "1.2.36.15");
        this.f3895b.put("Bundle-Vendor", "Aura");
        e jVar = new C2155j(this, this, null, new String[]{org.osgi.a.b.a.class.getName(), a.class.getName()});
        C2206i.m216a(C2131b.m576e(), org.osgi.a.b.a.class.getName(), jVar);
        C2206i.m216a(C2131b.m576e(), a.class.getName(), jVar);
        C2131b.m578d().add(jVar);
        this.f3896c = new e[]{jVar};
    }

    /* renamed from: a */
    public void m554a(int i) {
        this.f3897d = i;
    }

    /* renamed from: m */
    public void m551m() {
        throw new BundleException("Cannot uninstall the System Bundle");
    }

    @SuppressLint({"UseSparseArrays"})
    /* renamed from: a */
    void m553a(org.osgi.framework.a[] aVarArr, int i, boolean z) {
        int i2;
        if (C2131b.m569l() != i) {
            boolean z2 = i > C2131b.m569l();
            int l = z2 ? i - C2131b.m569l() : C2131b.m569l() - i;
            HashMap hashMap = new HashMap(0);
            for (int i3 = 0; i3 < aVarArr.length; i3++) {
                if (aVarArr[i3] != C2131b.m580c() && (z || ((C2153h) aVarArr[i3]).m412d())) {
                    C2153h hVar = (C2153h) aVarArr[i3];
                    if (z2) {
                        i2 = (hVar.m413c() - C2131b.m569l()) - 1;
                    } else {
                        i2 = C2131b.m569l() - hVar.m413c();
                    }
                    if (i2 >= 0 && i2 < l) {
                        C2206i.m216a(hashMap, Integer.valueOf(i2), hVar);
                    }
                }
            }
            for (int i4 = 0; i4 < l; i4++) {
                if (z2) {
                    C2131b.m597a(C2131b.m569l() + 1);
                } else {
                    C2131b.m597a(C2131b.m569l() - 1);
                }
                List list = (List) hashMap.get(Integer.valueOf(i4));
                if (list != null) {
                    C2153h[] hVarArr = (C2153h[]) list.toArray(new C2153h[list.size()]);
                    for (int i5 = 0; i5 < hVarArr.length; i5++) {
                        if (z2) {
                            try {
                                PrintStream printStream = System.out;
                                printStream.println("STARTING " + hVarArr[i5].m402n());
                                hVarArr[i5].m406j();
                            } catch (Throwable th) {
                                th.printStackTrace();
                                th.printStackTrace();
                                C2131b.m595a(2, C2131b.m580c(), th);
                            }
                        } else if (hVarArr[i5].m418a() != 1) {
                            PrintStream printStream2 = System.out;
                            printStream2.println("STOPPING " + hVarArr[i5].m402n());
                            try {
                                hVarArr[(hVarArr.length - i5) - 1].m405k();
                            } catch (BundleException e) {
                                e.printStackTrace();
                            }
                        }
                    }
                }
            }
            C2131b.m597a(i);
        }
    }
}
