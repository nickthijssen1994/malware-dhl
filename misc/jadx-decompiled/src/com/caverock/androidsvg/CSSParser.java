package com.caverock.androidsvg;

import android.util.Log;
import com.caverock.androidsvg.SVG;
import com.caverock.androidsvg.SVGParser;
import com.facebook.react.fabric.mounting.LayoutMetricsConversions;
import com.facebook.react.uimanager.events.TouchesHelper;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.Map;

/* compiled from: TbsSdkJava */
/* loaded from: classes.dex */
class CSSParser {

    /* renamed from: a */
    private MediaType f251a;

    /* renamed from: b */
    private Source f252b;

    /* renamed from: c */
    private boolean f253c;

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    private enum AttribOp {
        EXISTS,
        EQUALS,
        INCLUDES,
        DASHMATCH
    }

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    private enum Combinator {
        DESCENDANT,
        CHILD,
        FOLLOWS
    }

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    enum MediaType {
        all,
        aural,
        braille,
        embossed,
        handheld,
        print,
        projection,
        screen,
        speech,
        tty,
        tv
    }

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    enum Source {
        Document,
        RenderOptions
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$c */
    /* loaded from: classes.dex */
    private interface AbstractC0119c {
        /* renamed from: a */
        boolean mo4739a(C0128l lVar, SVG.AbstractC0143ai aiVar);
    }

    /* compiled from: TbsSdkJava */
    /* loaded from: classes.dex */
    private enum PseudoClassIdents {
        target,
        root,
        nth_child,
        nth_last_child,
        nth_of_type,
        nth_last_of_type,
        first_child,
        last_child,
        first_of_type,
        last_of_type,
        only_child,
        only_of_type,
        empty,
        not,
        lang,
        link,
        visited,
        hover,
        active,
        focus,
        enabled,
        disabled,
        checked,
        indeterminate,
        UNSUPPORTED;
        
        private static final Map<String, PseudoClassIdents> cache = new HashMap();

        static {
            PseudoClassIdents[] values = values();
            for (PseudoClassIdents pseudoClassIdents : values) {
                if (pseudoClassIdents != UNSUPPORTED) {
                    cache.put(pseudoClassIdents.name().replace('_', '-'), pseudoClassIdents);
                }
            }
        }

        public static PseudoClassIdents fromString(String str) {
            PseudoClassIdents pseudoClassIdents = cache.get(str);
            if (pseudoClassIdents != null) {
                return pseudoClassIdents;
            }
            return UNSUPPORTED;
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$a */
    /* loaded from: classes.dex */
    private static class C0116a {

        /* renamed from: a */
        public final String f257a;

        /* renamed from: b */
        final AttribOp f258b;

        /* renamed from: c */
        public final String f259c;

        C0116a(String str, AttribOp attribOp, String str2) {
            this.f257a = str;
            this.f258b = attribOp;
            this.f259c = str2;
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$o */
    /* loaded from: classes.dex */
    private static class C0131o {

        /* renamed from: a */
        Combinator f278a;

        /* renamed from: b */
        String f279b;

        /* renamed from: c */
        List<C0116a> f280c = null;

        /* renamed from: d */
        List<AbstractC0119c> f281d = null;

        C0131o(Combinator combinator, String str) {
            this.f278a = null;
            this.f279b = null;
            this.f278a = combinator == null ? Combinator.DESCENDANT : combinator;
            this.f279b = str;
        }

        /* renamed from: a */
        void m4724a(String str, AttribOp attribOp, String str2) {
            if (this.f280c == null) {
                this.f280c = new ArrayList();
            }
            this.f280c.add(new C0116a(str, attribOp, str2));
        }

        /* renamed from: a */
        void m4725a(AbstractC0119c cVar) {
            if (this.f281d == null) {
                this.f281d = new ArrayList();
            }
            this.f281d.add(cVar);
        }

        public String toString() {
            StringBuilder sb = new StringBuilder();
            if (this.f278a == Combinator.CHILD) {
                sb.append("> ");
            } else if (this.f278a == Combinator.FOLLOWS) {
                sb.append("+ ");
            }
            String str = this.f279b;
            if (str == null) {
                str = "*";
            }
            sb.append(str);
            List<C0116a> list = this.f280c;
            if (list != null) {
                for (C0116a aVar : list) {
                    sb.append('[');
                    sb.append(aVar.f257a);
                    switch (aVar.f258b) {
                        case EQUALS:
                            sb.append('=');
                            sb.append(aVar.f259c);
                            break;
                        case INCLUDES:
                            sb.append("~=");
                            sb.append(aVar.f259c);
                            break;
                        case DASHMATCH:
                            sb.append("|=");
                            sb.append(aVar.f259c);
                            break;
                    }
                    sb.append(']');
                }
            }
            List<AbstractC0119c> list2 = this.f281d;
            if (list2 != null) {
                for (AbstractC0119c cVar : list2) {
                    sb.append(':');
                    sb.append(cVar);
                }
            }
            return sb.toString();
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$m */
    /* loaded from: classes.dex */
    static class C0129m {

        /* renamed from: a */
        private List<C0127k> f275a = null;

        C0129m() {
        }

        /* renamed from: a */
        void m4736a(C0127k kVar) {
            if (this.f275a == null) {
                this.f275a = new ArrayList();
            }
            for (int i = 0; i < this.f275a.size(); i++) {
                if (this.f275a.get(i).f271a.f277b > kVar.f271a.f277b) {
                    this.f275a.add(i, kVar);
                    return;
                }
            }
            this.f275a.add(kVar);
        }

        /* renamed from: a */
        void m4735a(C0129m mVar) {
            List<C0127k> list = mVar.f275a;
            if (list != null) {
                if (this.f275a == null) {
                    this.f275a = new ArrayList(list.size());
                }
                for (C0127k kVar : mVar.f275a) {
                    m4736a(kVar);
                }
            }
        }

        /* renamed from: a */
        List<C0127k> m4738a() {
            return this.f275a;
        }

        /* renamed from: b */
        boolean m4734b() {
            List<C0127k> list = this.f275a;
            return list == null || list.isEmpty();
        }

        /* renamed from: c */
        int m4733c() {
            List<C0127k> list = this.f275a;
            if (list != null) {
                return list.size();
            }
            return 0;
        }

        /* renamed from: a */
        void m4737a(Source source) {
            List<C0127k> list = this.f275a;
            if (list != null) {
                Iterator<C0127k> it = list.iterator();
                while (it.hasNext()) {
                    if (it.next().f273c == source) {
                        it.remove();
                    }
                }
            }
        }

        public String toString() {
            if (this.f275a == null) {
                return "";
            }
            StringBuilder sb = new StringBuilder();
            for (C0127k kVar : this.f275a) {
                sb.append(kVar.toString());
                sb.append('\n');
            }
            return sb.toString();
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$k */
    /* loaded from: classes.dex */
    static class C0127k {

        /* renamed from: a */
        C0130n f271a;

        /* renamed from: b */
        SVG.Style f272b;

        /* renamed from: c */
        Source f273c;

        C0127k(C0130n nVar, SVG.Style style, Source source) {
            this.f271a = null;
            this.f272b = null;
            this.f271a = nVar;
            this.f272b = style;
            this.f273c = source;
        }

        public String toString() {
            return String.valueOf(this.f271a) + " {...} (src=" + this.f273c + ")";
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$n */
    /* loaded from: classes.dex */
    private static class C0130n {

        /* renamed from: a */
        List<C0131o> f276a;

        /* renamed from: b */
        int f277b;

        private C0130n() {
            this.f276a = null;
            this.f277b = 0;
        }

        /* renamed from: a */
        void m4730a(C0131o oVar) {
            if (this.f276a == null) {
                this.f276a = new ArrayList();
            }
            this.f276a.add(oVar);
        }

        /* renamed from: a */
        int m4732a() {
            List<C0131o> list = this.f276a;
            if (list == null) {
                return 0;
            }
            return list.size();
        }

        /* renamed from: a */
        C0131o m4731a(int i) {
            return this.f276a.get(i);
        }

        /* renamed from: b */
        boolean m4729b() {
            List<C0131o> list = this.f276a;
            return list == null || list.isEmpty();
        }

        /* renamed from: c */
        void m4728c() {
            this.f277b += 1000000;
        }

        /* renamed from: d */
        void m4727d() {
            this.f277b += 1000;
        }

        /* renamed from: e */
        void m4726e() {
            this.f277b++;
        }

        public String toString() {
            StringBuilder sb = new StringBuilder();
            for (C0131o oVar : this.f276a) {
                sb.append(oVar);
                sb.append(' ');
            }
            sb.append('[');
            sb.append(this.f277b);
            sb.append(']');
            return sb.toString();
        }
    }

    CSSParser() {
        this(MediaType.screen, Source.Document);
    }

    CSSParser(Source source) {
        this(MediaType.screen, source);
    }

    CSSParser(MediaType mediaType, Source source) {
        this.f251a = null;
        this.f252b = null;
        this.f253c = false;
        this.f251a = mediaType;
        this.f252b = source;
    }

    /* renamed from: a */
    C0129m m4765a(String str) {
        C0117b bVar = new C0117b(str);
        bVar.m4523g();
        return m4757c(bVar);
    }

    /* renamed from: a */
    static boolean m4764a(String str, MediaType mediaType) {
        C0117b bVar = new C0117b(str);
        bVar.m4523g();
        return m4761a(m4771a(bVar), mediaType);
    }

    /* renamed from: a */
    private static void m4763a(String str, Object... objArr) {
        Log.w("CSSParser", String.format(str, objArr));
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$b */
    /* loaded from: classes.dex */
    private static class C0117b extends SVGParser.C0197f {
        /* renamed from: c */
        private int m4747c(int i) {
            if (i >= 48 && i <= 57) {
                return i - 48;
            }
            if (i >= 65 && i <= 70) {
                return (i - 65) + 10;
            }
            if (i < 97 || i > 102) {
                return -1;
            }
            return (i - 97) + 10;
        }

        C0117b(String str) {
            super(str.replaceAll("(?s)/\\*.*?\\*/", ""));
        }

        /* renamed from: a */
        String m4753a() {
            int w = m4744w();
            if (w == this.f519b) {
                return null;
            }
            String substring = this.f518a.substring(this.f519b, w);
            this.f519b = w;
            return substring;
        }

        /* renamed from: w */
        private int m4744w() {
            if (m4524f()) {
                return this.f519b;
            }
            int i = this.f519b;
            int i2 = this.f519b;
            int charAt = this.f518a.charAt(this.f519b);
            if (charAt == 45) {
                charAt = m4516n();
            }
            if ((charAt >= 65 && charAt <= 90) || ((charAt >= 97 && charAt <= 122) || charAt == 95)) {
                int n = m4516n();
                while (true) {
                    if ((n < 65 || n > 90) && ((n < 97 || n > 122) && !((n >= 48 && n <= 57) || n == 45 || n == 95))) {
                        break;
                    }
                    n = m4516n();
                }
                i2 = this.f519b;
            }
            this.f519b = i;
            return i2;
        }

        /* renamed from: x */
        public List<C0130n> m4743x() throws CSSParseException {
            if (m4524f()) {
                return null;
            }
            ArrayList arrayList = new ArrayList(1);
            C0130n nVar = new C0130n();
            while (!m4524f() && m4751a(nVar)) {
                if (m4522h()) {
                    arrayList.add(nVar);
                    nVar = new C0130n();
                }
            }
            if (!nVar.m4729b()) {
                arrayList.add(nVar);
            }
            return arrayList;
        }

        /* JADX WARN: Removed duplicated region for block: B:16:0x0036  */
        /* JADX WARN: Removed duplicated region for block: B:17:0x003c  */
        /* JADX WARN: Removed duplicated region for block: B:23:0x0053  */
        /* JADX WARN: Removed duplicated region for block: B:79:0x0132  */
        /* JADX WARN: Removed duplicated region for block: B:81:0x0137  */
        /* renamed from: a */
        /* Code decompiled incorrectly, please refer to instructions dump */
        boolean m4751a(C0130n nVar) throws CSSParseException {
            Combinator combinator;
            C0131o oVar;
            AttribOp attribOp;
            String str;
            if (m4524f()) {
                return false;
            }
            int i = this.f519b;
            if (!nVar.m4729b()) {
                if (m4534a('>')) {
                    combinator = Combinator.CHILD;
                    m4523g();
                } else if (m4534a('+')) {
                    combinator = Combinator.FOLLOWS;
                    m4523g();
                }
                if (!m4534a('*')) {
                    oVar = new C0131o(combinator, null);
                } else {
                    String a = m4753a();
                    if (a != null) {
                        C0131o oVar2 = new C0131o(combinator, a);
                        nVar.m4726e();
                        oVar = oVar2;
                    } else {
                        oVar = null;
                    }
                }
                while (!m4524f()) {
                    if (!m4534a('.')) {
                        if (!m4534a('#')) {
                            if (!m4534a('[')) {
                                if (!m4534a(':')) {
                                    break;
                                }
                                if (oVar == null) {
                                    oVar = new C0131o(combinator, null);
                                }
                                m4750a(nVar, oVar);
                            } else {
                                if (oVar == null) {
                                    oVar = new C0131o(combinator, null);
                                }
                                m4523g();
                                String a2 = m4753a();
                                if (a2 != null) {
                                    m4523g();
                                    if (m4534a('=')) {
                                        attribOp = AttribOp.EQUALS;
                                    } else if (m4528a("~=")) {
                                        attribOp = AttribOp.INCLUDES;
                                    } else {
                                        attribOp = m4528a("|=") ? AttribOp.DASHMATCH : null;
                                    }
                                    if (attribOp != null) {
                                        m4523g();
                                        str = m4754B();
                                        if (str != null) {
                                            m4523g();
                                        } else {
                                            throw new CSSParseException("Invalid attribute simpleSelectors");
                                        }
                                    } else {
                                        str = null;
                                    }
                                    if (m4534a(']')) {
                                        if (attribOp == null) {
                                            attribOp = AttribOp.EXISTS;
                                        }
                                        oVar.m4724a(a2, attribOp, str);
                                        nVar.m4727d();
                                    } else {
                                        throw new CSSParseException("Invalid attribute simpleSelectors");
                                    }
                                } else {
                                    throw new CSSParseException("Invalid attribute simpleSelectors");
                                }
                            }
                        } else {
                            if (oVar == null) {
                                oVar = new C0131o(combinator, null);
                            }
                            String a3 = m4753a();
                            if (a3 != null) {
                                oVar.m4724a("id", AttribOp.EQUALS, a3);
                                nVar.m4728c();
                            } else {
                                throw new CSSParseException("Invalid \"#id\" simpleSelectors");
                            }
                        }
                    } else {
                        if (oVar == null) {
                            oVar = new C0131o(combinator, null);
                        }
                        String a4 = m4753a();
                        if (a4 != null) {
                            oVar.m4724a("class", AttribOp.EQUALS, a4);
                            nVar.m4727d();
                        } else {
                            throw new CSSParseException("Invalid \".class\" simpleSelectors");
                        }
                    }
                }
                if (oVar == null) {
                    nVar.m4730a(oVar);
                    return true;
                }
                this.f519b = i;
                return false;
            }
            combinator = null;
            if (!m4534a('*')) {
            }
            while (!m4524f()) {
            }
            if (oVar == null) {
            }
        }

        /* compiled from: TbsSdkJava */
        /* renamed from: com.caverock.androidsvg.CSSParser$b$a */
        /* loaded from: classes.dex */
        private static class C0118a {

            /* renamed from: a */
            public int f260a;

            /* renamed from: b */
            public int f261b;

            C0118a(int i, int i2) {
                this.f260a = i;
                this.f261b = i2;
            }
        }

        /* renamed from: y */
        private C0118a m4742y() throws CSSParseException {
            C0118a aVar;
            C0200b bVar;
            if (m4524f()) {
                return null;
            }
            int i = this.f519b;
            if (!m4534a('(')) {
                return null;
            }
            m4523g();
            int i2 = 1;
            if (m4528a("odd")) {
                aVar = new C0118a(2, 1);
            } else {
                int i3 = 0;
                if (m4528a("even")) {
                    aVar = new C0118a(2, 0);
                } else {
                    int i4 = (!m4534a('+') && m4534a('-')) ? -1 : 1;
                    C0200b a = C0200b.m4502a(this.f518a, this.f519b, this.f520c, false);
                    if (a != null) {
                        this.f519b = a.m4504a();
                    }
                    if (m4534a('n') || m4534a('N')) {
                        if (a == null) {
                            a = new C0200b(1, this.f519b);
                        }
                        m4523g();
                        boolean a2 = m4534a('+');
                        if (!a2 && (a2 = m4534a('-'))) {
                            i2 = -1;
                        }
                        if (a2) {
                            m4523g();
                            bVar = C0200b.m4502a(this.f518a, this.f519b, this.f520c, false);
                            if (bVar != null) {
                                this.f519b = bVar.m4504a();
                            } else {
                                this.f519b = i;
                                return null;
                            }
                        } else {
                            bVar = null;
                        }
                    } else {
                        i2 = i4;
                        bVar = a;
                        i4 = 1;
                        a = null;
                    }
                    int b = a == null ? 0 : i4 * a.m4501b();
                    if (bVar != null) {
                        i3 = i2 * bVar.m4501b();
                    }
                    aVar = new C0118a(b, i3);
                }
            }
            m4523g();
            if (m4534a(')')) {
                return aVar;
            }
            this.f519b = i;
            return null;
        }

        /* renamed from: z */
        private List<String> m4741z() throws CSSParseException {
            if (m4524f()) {
                return null;
            }
            int i = this.f519b;
            if (!m4534a('(')) {
                return null;
            }
            m4523g();
            ArrayList arrayList = null;
            do {
                String a = m4753a();
                if (a == null) {
                    this.f519b = i;
                    return null;
                }
                if (arrayList == null) {
                    arrayList = new ArrayList();
                }
                arrayList.add(a);
                m4523g();
            } while (m4522h());
            if (m4534a(')')) {
                return arrayList;
            }
            this.f519b = i;
            return null;
        }

        /* JADX WARN: Code restructure failed: missing block: B:38:0x002e, code lost:
            continue;
         */
        /* renamed from: A */
        /* Code decompiled incorrectly, please refer to instructions dump */
        private List<C0130n> m4755A() throws CSSParseException {
            if (m4524f()) {
                return null;
            }
            int i = this.f519b;
            if (!m4534a('(')) {
                return null;
            }
            m4523g();
            List<C0130n> x = m4743x();
            if (x == null) {
                this.f519b = i;
                return null;
            } else if (!m4534a(')')) {
                this.f519b = i;
                return null;
            } else {
                for (C0130n nVar : x) {
                    if (nVar.f276a == null) {
                        break;
                    }
                    for (C0131o oVar : nVar.f276a) {
                        if (oVar.f281d == null) {
                            break;
                        }
                        for (AbstractC0119c cVar : oVar.f281d) {
                            if (cVar instanceof C0122f) {
                                return null;
                            }
                        }
                    }
                }
                return x;
            }
        }

        /* renamed from: a */
        private void m4750a(C0130n nVar, C0131o oVar) throws CSSParseException {
            AbstractC0119c cVar;
            String a = m4753a();
            if (a != null) {
                PseudoClassIdents fromString = PseudoClassIdents.fromString(a);
                switch (fromString) {
                    case first_child:
                        C0120d dVar = new C0120d(0, 1, true, false, null);
                        nVar.m4727d();
                        cVar = dVar;
                        break;
                    case last_child:
                        C0120d dVar2 = new C0120d(0, 1, false, false, null);
                        nVar.m4727d();
                        cVar = dVar2;
                        break;
                    case only_child:
                        cVar = new C0124h(false, null);
                        nVar.m4727d();
                        break;
                    case first_of_type:
                        C0120d dVar3 = new C0120d(0, 1, true, true, oVar.f279b);
                        nVar.m4727d();
                        cVar = dVar3;
                        break;
                    case last_of_type:
                        C0120d dVar4 = new C0120d(0, 1, false, true, oVar.f279b);
                        nVar.m4727d();
                        cVar = dVar4;
                        break;
                    case only_of_type:
                        cVar = new C0124h(true, oVar.f279b);
                        nVar.m4727d();
                        break;
                    case root:
                        cVar = new C0125i();
                        nVar.m4727d();
                        break;
                    case empty:
                        cVar = new C0121e();
                        nVar.m4727d();
                        break;
                    case nth_child:
                    case nth_last_child:
                    case nth_of_type:
                    case nth_last_of_type:
                        boolean z = fromString == PseudoClassIdents.nth_child || fromString == PseudoClassIdents.nth_of_type;
                        boolean z2 = fromString == PseudoClassIdents.nth_of_type || fromString == PseudoClassIdents.nth_last_of_type;
                        C0118a y = m4742y();
                        if (y != null) {
                            C0120d dVar5 = new C0120d(y.f260a, y.f261b, z, z2, oVar.f279b);
                            nVar.m4727d();
                            cVar = dVar5;
                            break;
                        } else {
                            throw new CSSParseException("Invalid or missing parameter section for pseudo class: " + a);
                        }
                    case not:
                        List<C0130n> A = m4755A();
                        if (A != null) {
                            C0122f fVar = new C0122f(A);
                            nVar.f277b = fVar.m4740a();
                            cVar = fVar;
                            break;
                        } else {
                            throw new CSSParseException("Invalid or missing parameter section for pseudo class: " + a);
                        }
                    case target:
                        cVar = new C0126j();
                        nVar.m4727d();
                        break;
                    case lang:
                        m4741z();
                        cVar = new C0123g(a);
                        nVar.m4727d();
                        break;
                    case link:
                    case visited:
                    case hover:
                    case active:
                    case focus:
                    case enabled:
                    case disabled:
                    case checked:
                    case indeterminate:
                        cVar = new C0123g(a);
                        nVar.m4727d();
                        break;
                    default:
                        throw new CSSParseException("Unsupported pseudo class: " + a);
                }
                oVar.m4725a(cVar);
                return;
            }
            throw new CSSParseException("Invalid pseudo class");
        }

        /* renamed from: B */
        private String m4754B() {
            if (m4524f()) {
                return null;
            }
            String u = m4509u();
            if (u != null) {
                return u;
            }
            return m4753a();
        }

        /* renamed from: b */
        String m4749b() {
            if (m4524f()) {
                return null;
            }
            int i = this.f519b;
            int i2 = this.f519b;
            int charAt = this.f518a.charAt(this.f519b);
            while (charAt != -1 && charAt != 59 && charAt != 125 && charAt != 33 && !m4526b(charAt)) {
                if (!m4531a(charAt)) {
                    i2 = this.f519b + 1;
                }
                charAt = m4516n();
            }
            if (this.f519b > i) {
                return this.f518a.substring(i, i2);
            }
            this.f519b = i;
            return null;
        }

        /* renamed from: c */
        String m4748c() {
            int c;
            if (m4524f()) {
                return null;
            }
            char charAt = this.f518a.charAt(this.f519b);
            if (!(charAt == '\'' || charAt == '\"')) {
                return null;
            }
            StringBuilder sb = new StringBuilder();
            this.f519b++;
            int intValue = m4519k().intValue();
            while (intValue != -1 && intValue != charAt) {
                if (intValue == 92) {
                    intValue = m4519k().intValue();
                    if (intValue != -1) {
                        if (intValue == 10 || intValue == 13 || intValue == 12) {
                            intValue = m4519k().intValue();
                        } else {
                            int c2 = m4747c(intValue);
                            if (c2 != -1) {
                                int i = intValue;
                                for (int i2 = 1; i2 <= 5 && (c = m4747c((i = m4519k().intValue()))) != -1; i2++) {
                                    c2 = (c2 * 16) + c;
                                }
                                intValue = i;
                                sb.append((char) c2);
                            }
                        }
                    }
                }
                sb.append((char) intValue);
                intValue = m4519k().intValue();
            }
            return sb.toString();
        }

        /* renamed from: d */
        String m4746d() {
            if (m4524f()) {
                return null;
            }
            int i = this.f519b;
            if (!m4528a("url(")) {
                return null;
            }
            m4523g();
            String c = m4748c();
            if (c == null) {
                c = m4745e();
            }
            if (c == null) {
                this.f519b = i;
                return null;
            }
            m4523g();
            if (m4524f() || m4528a(")")) {
                return c;
            }
            this.f519b = i;
            return null;
        }

        /* renamed from: e */
        String m4745e() {
            char charAt;
            int c;
            StringBuilder sb = new StringBuilder();
            while (!m4524f() && (charAt = this.f518a.charAt(this.f519b)) != '\'' && charAt != '\"' && charAt != '(' && charAt != ')' && !m4531a((int) charAt) && !Character.isISOControl((int) charAt)) {
                this.f519b++;
                if (charAt == '\\') {
                    if (!m4524f()) {
                        String str = this.f518a;
                        int i = this.f519b;
                        this.f519b = i + 1;
                        charAt = str.charAt(i);
                        if (!(charAt == '\n' || charAt == '\r' || charAt == '\f')) {
                            int c2 = m4747c((int) charAt);
                            if (c2 != -1) {
                                for (int i2 = 1; i2 <= 5 && !m4524f() && (c = m4747c((int) this.f518a.charAt(this.f519b))) != -1; i2++) {
                                    this.f519b++;
                                    c2 = (c2 * 16) + c;
                                }
                                sb.append((char) c2);
                            }
                        }
                    }
                }
                sb.append((char) charAt);
            }
            if (sb.length() == 0) {
                return null;
            }
            return sb.toString();
        }
    }

    /* renamed from: a */
    private static boolean m4761a(List<MediaType> list, MediaType mediaType) {
        for (MediaType mediaType2 : list) {
            if (mediaType2 == MediaType.all) {
                return true;
            }
            if (mediaType2 == mediaType) {
                return true;
            }
        }
        return false;
    }

    /* renamed from: a */
    private static List<MediaType> m4771a(C0117b bVar) {
        String p;
        ArrayList arrayList = new ArrayList();
        while (!bVar.m4524f() && (p = bVar.m4514p()) != null) {
            try {
                arrayList.add(MediaType.valueOf(p));
            } catch (IllegalArgumentException unused) {
            }
            if (!bVar.m4522h()) {
                break;
            }
        }
        return arrayList;
    }

    /* renamed from: a */
    private void m4766a(C0129m mVar, C0117b bVar) throws CSSParseException {
        String a = bVar.m4753a();
        bVar.m4523g();
        if (a != null) {
            if (!this.f253c && a.equals("media")) {
                List<MediaType> a2 = m4771a(bVar);
                if (bVar.m4534a('{')) {
                    bVar.m4523g();
                    if (m4761a(a2, this.f251a)) {
                        this.f253c = true;
                        mVar.m4735a(m4757c(bVar));
                        this.f253c = false;
                    } else {
                        m4757c(bVar);
                    }
                    if (!bVar.m4524f() && !bVar.m4534a('}')) {
                        throw new CSSParseException("Invalid @media rule: expected '}' at end of rule set");
                    }
                } else {
                    throw new CSSParseException("Invalid @media rule: missing rule set");
                }
            } else if (this.f253c || !a.equals("import")) {
                m4763a("Ignoring @%s rule", a);
                m4760b(bVar);
            } else {
                String d = bVar.m4746d();
                if (d == null) {
                    d = bVar.m4748c();
                }
                if (d != null) {
                    bVar.m4523g();
                    List<MediaType> a3 = m4771a(bVar);
                    if (!bVar.m4524f() && !bVar.m4534a(';')) {
                        throw new CSSParseException("Invalid @media rule: expected '}' at end of rule set");
                    } else if (SVG.m4704e() != null && m4761a(a3, this.f251a)) {
                        String b = SVG.m4704e().m4364b(d);
                        if (b != null) {
                            mVar.m4735a(m4765a(b));
                        } else {
                            return;
                        }
                    }
                } else {
                    throw new CSSParseException("Invalid @import rule: expected string or url()");
                }
            }
            bVar.m4523g();
            return;
        }
        throw new CSSParseException("Invalid '@' rule");
    }

    /* renamed from: b */
    private void m4760b(C0117b bVar) {
        int i = 0;
        while (!bVar.m4524f()) {
            int intValue = bVar.m4519k().intValue();
            if (intValue != 59 || i != 0) {
                if (intValue == 123) {
                    i++;
                } else if (intValue == 125 && i > 0 && i - 1 == 0) {
                    return;
                }
            } else {
                return;
            }
        }
    }

    /* renamed from: c */
    private C0129m m4757c(C0117b bVar) {
        C0129m mVar = new C0129m();
        while (!bVar.m4524f()) {
            try {
                if (!bVar.m4528a("<!--") && !bVar.m4528a("-->")) {
                    if (!bVar.m4534a('@')) {
                        if (!m4759b(mVar, bVar)) {
                            break;
                        }
                    } else {
                        m4766a(mVar, bVar);
                    }
                }
            } catch (CSSParseException e) {
                Log.e("CSSParser", "CSS parser terminated early due to error: " + e.getMessage());
            }
        }
        return mVar;
    }

    /* renamed from: b */
    private boolean m4759b(C0129m mVar, C0117b bVar) throws CSSParseException {
        List<C0130n> x = bVar.m4743x();
        if (x == null || x.isEmpty()) {
            return false;
        }
        if (bVar.m4534a('{')) {
            bVar.m4523g();
            SVG.Style d = m4756d(bVar);
            bVar.m4523g();
            for (C0130n nVar : x) {
                mVar.m4736a(new C0127k(nVar, d, this.f252b));
            }
            return true;
        }
        throw new CSSParseException("Malformed rule block: expected '{'");
    }

    /* renamed from: d */
    private SVG.Style m4756d(C0117b bVar) throws CSSParseException {
        SVG.Style style = new SVG.Style();
        do {
            String a = bVar.m4753a();
            bVar.m4523g();
            if (bVar.m4534a(':')) {
                bVar.m4523g();
                String b = bVar.m4749b();
                if (b != null) {
                    bVar.m4523g();
                    if (bVar.m4534a('!')) {
                        bVar.m4523g();
                        if (bVar.m4528a("important")) {
                            bVar.m4523g();
                        } else {
                            throw new CSSParseException("Malformed rule set: found unexpected '!'");
                        }
                    }
                    bVar.m4534a(';');
                    SVGParser.m4639a(style, a, b);
                    bVar.m4523g();
                    if (bVar.m4524f()) {
                        break;
                    }
                } else {
                    throw new CSSParseException("Expected property value");
                }
            } else {
                throw new CSSParseException("Expected ':'");
            }
        } while (!bVar.m4534a('}'));
        return style;
    }

    /* renamed from: b */
    public static List<String> m4758b(String str) {
        C0117b bVar = new C0117b(str);
        ArrayList arrayList = null;
        while (!bVar.m4524f()) {
            String o = bVar.m4515o();
            if (o != null) {
                if (arrayList == null) {
                    arrayList = new ArrayList();
                }
                arrayList.add(o);
                bVar.m4523g();
            }
        }
        return arrayList;
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$l */
    /* loaded from: classes.dex */
    static class C0128l {

        /* renamed from: a */
        SVG.AbstractC0143ai f274a;

        C0128l() {
        }

        public String toString() {
            SVG.AbstractC0143ai aiVar = this.f274a;
            return aiVar != null ? String.format("<%s id=\"%s\">", aiVar.mo4665a(), this.f274a.f371p) : "";
        }
    }

    /* renamed from: a */
    static boolean m4768a(C0128l lVar, C0130n nVar, SVG.AbstractC0143ai aiVar) {
        ArrayList arrayList = new ArrayList();
        for (SVG.AbstractC0141ag agVar = aiVar.f381v; agVar != null; agVar = ((SVG.C0145ak) agVar).f381v) {
            arrayList.add(0, agVar);
        }
        int size = arrayList.size() - 1;
        if (nVar.m4732a() == 1) {
            return m4767a(lVar, nVar.m4731a(0), arrayList, size, aiVar);
        }
        return m4769a(lVar, nVar, nVar.m4732a() - 1, arrayList, size, aiVar);
    }

    /* renamed from: a */
    private static boolean m4769a(C0128l lVar, C0130n nVar, int i, List<SVG.AbstractC0141ag> list, int i2, SVG.AbstractC0143ai aiVar) {
        C0131o a = nVar.m4731a(i);
        if (!m4767a(lVar, a, list, i2, aiVar)) {
            return false;
        }
        if (a.f278a == Combinator.DESCENDANT) {
            if (i == 0) {
                return true;
            }
            for (int i3 = i2; i3 >= 0; i3--) {
                if (m4770a(lVar, nVar, i - 1, list, i3)) {
                    return true;
                }
            }
            return false;
        } else if (a.f278a == Combinator.CHILD) {
            return m4770a(lVar, nVar, i - 1, list, i2);
        } else {
            int a2 = m4762a(list, i2, aiVar);
            if (a2 <= 0) {
                return false;
            }
            return m4769a(lVar, nVar, i - 1, list, i2, (SVG.AbstractC0143ai) aiVar.f381v.mo4679b().get(a2 - 1));
        }
    }

    /* renamed from: a */
    private static boolean m4770a(C0128l lVar, C0130n nVar, int i, List<SVG.AbstractC0141ag> list, int i2) {
        C0131o a = nVar.m4731a(i);
        SVG.AbstractC0143ai aiVar = (SVG.AbstractC0143ai) list.get(i2);
        if (!m4767a(lVar, a, list, i2, aiVar)) {
            return false;
        }
        if (a.f278a == Combinator.DESCENDANT) {
            if (i == 0) {
                return true;
            }
            int i3 = i2;
            while (i3 > 0) {
                i3--;
                if (m4770a(lVar, nVar, i - 1, list, i3)) {
                    return true;
                }
            }
            return false;
        } else if (a.f278a == Combinator.CHILD) {
            return m4770a(lVar, nVar, i - 1, list, i2 - 1);
        } else {
            int a2 = m4762a(list, i2, aiVar);
            if (a2 <= 0) {
                return false;
            }
            return m4769a(lVar, nVar, i - 1, list, i2, (SVG.AbstractC0143ai) aiVar.f381v.mo4679b().get(a2 - 1));
        }
    }

    /* renamed from: a */
    private static int m4762a(List<SVG.AbstractC0141ag> list, int i, SVG.AbstractC0143ai aiVar) {
        int i2 = 0;
        if (i < 0) {
            return 0;
        }
        if (list.get(i) != aiVar.f381v) {
            return -1;
        }
        for (SVG.C0145ak akVar : aiVar.f381v.mo4679b()) {
            if (akVar == aiVar) {
                return i2;
            }
            i2++;
        }
        return -1;
    }

    /* renamed from: a */
    private static boolean m4767a(C0128l lVar, C0131o oVar, List<SVG.AbstractC0141ag> list, int i, SVG.AbstractC0143ai aiVar) {
        if (!(oVar.f279b == null || oVar.f279b.equals(aiVar.mo4665a().toLowerCase(Locale.US)))) {
            return false;
        }
        if (oVar.f280c != null) {
            for (C0116a aVar : oVar.f280c) {
                String str = aVar.f257a;
                char c = 65535;
                int hashCode = str.hashCode();
                if (hashCode != 3355) {
                    if (hashCode == 94742904 && str.equals("class")) {
                        c = 1;
                    }
                } else if (str.equals("id")) {
                    c = 0;
                }
                switch (c) {
                    case 0:
                        if (aVar.f259c.equals(aiVar.f371p)) {
                            break;
                        } else {
                            return false;
                        }
                    case 1:
                        if (aiVar.f375t != null && aiVar.f375t.contains(aVar.f259c)) {
                            break;
                        } else {
                            return false;
                        }
                    default:
                        return false;
                }
            }
        }
        if (oVar.f281d != null) {
            for (AbstractC0119c cVar : oVar.f281d) {
                if (!cVar.mo4739a(lVar, aiVar)) {
                    return false;
                }
            }
        }
        return true;
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$d */
    /* loaded from: classes.dex */
    private static class C0120d implements AbstractC0119c {

        /* renamed from: a */
        private int f262a;

        /* renamed from: b */
        private int f263b;

        /* renamed from: c */
        private boolean f264c;

        /* renamed from: d */
        private boolean f265d;

        /* renamed from: e */
        private String f266e;

        C0120d(int i, int i2, boolean z, boolean z2, String str) {
            this.f262a = i;
            this.f263b = i2;
            this.f264c = z;
            this.f265d = z2;
            this.f266e = str;
        }

        @Override // com.caverock.androidsvg.CSSParser.AbstractC0119c
        /* renamed from: a */
        public boolean mo4739a(C0128l lVar, SVG.AbstractC0143ai aiVar) {
            int i;
            int i2;
            String a = (!this.f265d || this.f266e != null) ? this.f266e : aiVar.mo4665a();
            if (aiVar.f381v != null) {
                Iterator<SVG.C0145ak> it = aiVar.f381v.mo4679b().iterator();
                i2 = 0;
                i = 0;
                while (it.hasNext()) {
                    SVG.AbstractC0143ai aiVar2 = (SVG.AbstractC0143ai) it.next();
                    if (aiVar2 == aiVar) {
                        i2 = i;
                    }
                    if (a == null || aiVar2.mo4665a().equals(a)) {
                        i++;
                    }
                }
            } else {
                i2 = 0;
                i = 1;
            }
            int i3 = this.f264c ? i2 + 1 : i - i2;
            int i4 = this.f262a;
            if (i4 != 0) {
                int i5 = this.f263b;
                if ((i3 - i5) % i4 != 0) {
                    return false;
                }
                if (Integer.signum(i3 - i5) == 0 || Integer.signum(i3 - this.f263b) == Integer.signum(this.f262a)) {
                    return true;
                }
                return false;
            } else if (i3 == this.f263b) {
                return true;
            } else {
                return false;
            }
        }

        public String toString() {
            String str = this.f264c ? "" : "last-";
            if (this.f265d) {
                return String.format("nth-%schild(%dn%+d of type <%s>)", str, Integer.valueOf(this.f262a), Integer.valueOf(this.f263b), this.f266e);
            }
            return String.format("nth-%schild(%dn%+d)", str, Integer.valueOf(this.f262a), Integer.valueOf(this.f263b));
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$h */
    /* loaded from: classes.dex */
    private static class C0124h implements AbstractC0119c {

        /* renamed from: a */
        private boolean f269a;

        /* renamed from: b */
        private String f270b;

        public C0124h(boolean z, String str) {
            this.f269a = z;
            this.f270b = str;
        }

        @Override // com.caverock.androidsvg.CSSParser.AbstractC0119c
        /* renamed from: a */
        public boolean mo4739a(C0128l lVar, SVG.AbstractC0143ai aiVar) {
            int i;
            String a = (!this.f269a || this.f270b != null) ? this.f270b : aiVar.mo4665a();
            if (aiVar.f381v != null) {
                Iterator<SVG.C0145ak> it = aiVar.f381v.mo4679b().iterator();
                i = 0;
                while (it.hasNext()) {
                    SVG.AbstractC0143ai aiVar2 = (SVG.AbstractC0143ai) it.next();
                    if (a == null || aiVar2.mo4665a().equals(a)) {
                        i++;
                    }
                }
            } else {
                i = 1;
            }
            if (i == 1) {
                return true;
            }
            return false;
        }

        public String toString() {
            if (this.f269a) {
                return String.format("only-of-type <%s>", this.f270b);
            }
            return String.format("only-child", new Object[0]);
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$i */
    /* loaded from: classes.dex */
    private static class C0125i implements AbstractC0119c {
        public String toString() {
            return "root";
        }

        private C0125i() {
        }

        @Override // com.caverock.androidsvg.CSSParser.AbstractC0119c
        /* renamed from: a */
        public boolean mo4739a(C0128l lVar, SVG.AbstractC0143ai aiVar) {
            return aiVar.f381v == null;
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$e */
    /* loaded from: classes.dex */
    private static class C0121e implements AbstractC0119c {
        public String toString() {
            return "empty";
        }

        private C0121e() {
        }

        @Override // com.caverock.androidsvg.CSSParser.AbstractC0119c
        /* renamed from: a */
        public boolean mo4739a(C0128l lVar, SVG.AbstractC0143ai aiVar) {
            if (!(aiVar instanceof SVG.AbstractC0141ag) || ((SVG.AbstractC0141ag) aiVar).mo4679b().size() == 0) {
                return true;
            }
            return false;
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$f */
    /* loaded from: classes.dex */
    private static class C0122f implements AbstractC0119c {

        /* renamed from: a */
        private List<C0130n> f267a;

        C0122f(List<C0130n> list) {
            this.f267a = list;
        }

        @Override // com.caverock.androidsvg.CSSParser.AbstractC0119c
        /* renamed from: a */
        public boolean mo4739a(C0128l lVar, SVG.AbstractC0143ai aiVar) {
            for (C0130n nVar : this.f267a) {
                if (CSSParser.m4768a(lVar, nVar, aiVar)) {
                    return false;
                }
            }
            return true;
        }

        /* renamed from: a */
        int m4740a() {
            int i = LayoutMetricsConversions.REACT_CONSTRAINT_UNDEFINED;
            for (C0130n nVar : this.f267a) {
                if (nVar.f277b > i) {
                    i = nVar.f277b;
                }
            }
            return i;
        }

        public String toString() {
            return "not(" + this.f267a + ")";
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$j */
    /* loaded from: classes.dex */
    private static class C0126j implements AbstractC0119c {
        public String toString() {
            return TouchesHelper.TARGET_KEY;
        }

        private C0126j() {
        }

        @Override // com.caverock.androidsvg.CSSParser.AbstractC0119c
        /* renamed from: a */
        public boolean mo4739a(C0128l lVar, SVG.AbstractC0143ai aiVar) {
            return lVar != null && aiVar == lVar.f274a;
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.caverock.androidsvg.CSSParser$g */
    /* loaded from: classes.dex */
    private static class C0123g implements AbstractC0119c {

        /* renamed from: a */
        private String f268a;

        @Override // com.caverock.androidsvg.CSSParser.AbstractC0119c
        /* renamed from: a */
        public boolean mo4739a(C0128l lVar, SVG.AbstractC0143ai aiVar) {
            return false;
        }

        C0123g(String str) {
            this.f268a = str;
        }

        public String toString() {
            return this.f268a;
        }
    }
}
