package com.huawei.updatesdk.p022a.p032b.p034b;

import android.text.TextUtils;
import com.facebook.react.animated.InterpolationAnimatedNode;
import com.huawei.hms.android.HwBuildEx;
import com.huawei.updatesdk.p022a.p023a.p024a.C1067d;
import com.huawei.updatesdk.p022a.p023a.p028c.p030i.C1083b;
import com.huawei.updatesdk.p022a.p032b.p033a.C1089a;
import com.jd.sentry.performance.network.instrumentation.urlconnection.ShooterUrlConnectionInstrumentation;
import java.io.File;
import java.io.IOException;
import java.net.HttpURLConnection;
import java.net.Proxy;
import java.net.URL;
import java.security.KeyManagementException;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.security.cert.CertificateException;
import javax.net.ssl.HttpsURLConnection;
import org.apache.http.conn.ssl.SSLSocketFactory;

/* compiled from: TbsSdkJava */
/* renamed from: com.huawei.updatesdk.a.b.b.c */
/* loaded from: classes.dex */
public class C1094c {

    /* renamed from: a */
    private static volatile C1094c f1755a;

    /* renamed from: a */
    public static synchronized C1094c m2764a() {
        C1094c cVar;
        synchronized (C1094c.class) {
            if (f1755a == null) {
                f1755a = new C1094c();
            }
            cVar = f1755a;
        }
        return cVar;
    }

    /* renamed from: b */
    public static String m2762b() {
        String b = C1089a.m2785c().m2786b();
        if (TextUtils.isEmpty(b)) {
            return "";
        }
        String str = b + "/updatesdk";
        File file = new File(str);
        return (file.exists() || file.mkdirs()) ? str : "";
    }

    /* renamed from: c */
    private Proxy m2761c() {
        if (C1083b.m2799e(C1089a.m2785c().m2788a())) {
            return C1083b.m2808a();
        }
        return null;
    }

    /* renamed from: a */
    public HttpURLConnection m2763a(String str) throws IOException, CertificateException, NoSuchAlgorithmException, KeyStoreException, KeyManagementException, IllegalAccessException {
        URL url = new URL(str);
        Proxy c = m2761c();
        HttpURLConnection httpURLConnection = (HttpURLConnection) ShooterUrlConnectionInstrumentation.openConnection(c == null ? url.openConnection() : url.openConnection(c));
        httpURLConnection.setConnectTimeout(7000);
        httpURLConnection.setReadTimeout(HwBuildEx.VersionCodes.CUR_DEVELOPMENT);
        httpURLConnection.setUseCaches(false);
        httpURLConnection.setDoInput(true);
        httpURLConnection.setRequestProperty("Accept-Encoding", InterpolationAnimatedNode.EXTRAPOLATE_TYPE_IDENTITY);
        httpURLConnection.setInstanceFollowRedirects(true);
        if (httpURLConnection instanceof HttpsURLConnection) {
            HttpsURLConnection httpsURLConnection = (HttpsURLConnection) httpURLConnection;
            httpsURLConnection.setSSLSocketFactory(C1067d.m2880a(C1089a.m2785c().m2788a()));
            httpsURLConnection.setHostnameVerifier(SSLSocketFactory.STRICT_HOSTNAME_VERIFIER);
        }
        return httpURLConnection;
    }
}
