package com.huawei.updatesdk.p039b.p049g;

import android.app.Activity;
import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.os.Build;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import com.huawei.updatesdk.p022a.p023a.p025b.p026a.p027a.C1069a;
import com.huawei.updatesdk.p022a.p023a.p028c.p029h.C1080b;
import com.huawei.updatesdk.p039b.p048f.C1125a;
import com.huawei.updatesdk.service.otaupdate.C1170g;

/* compiled from: TbsSdkJava */
/* renamed from: com.huawei.updatesdk.b.g.a */
/* loaded from: classes.dex */
public class C1130a {

    /* renamed from: a */
    private AbstractC1137b f1810a;

    /* renamed from: b */
    private Context f1811b;

    /* renamed from: c */
    private String f1812c;

    /* renamed from: d */
    private CharSequence f1813d;

    /* renamed from: e */
    private AlertDialog f1814e;

    /* renamed from: f */
    private AlertDialog.Builder f1815f;

    /* renamed from: g */
    private DialogInterface.OnShowListener f1816g;

    /* renamed from: h */
    private DialogInterface.OnDismissListener f1817h;

    /* compiled from: TbsSdkJava */
    /* renamed from: com.huawei.updatesdk.b.g.a$a */
    /* loaded from: classes.dex */
    class DialogInterface$OnShowListenerC1131a implements DialogInterface.OnShowListener {

        /* compiled from: TbsSdkJava */
        /* renamed from: com.huawei.updatesdk.b.g.a$a$a */
        /* loaded from: classes.dex */
        class View$OnClickListenerC1132a implements View.OnClickListener {
            View$OnClickListenerC1132a() {
                DialogInterface$OnShowListenerC1131a.this = r1;
            }

            @Override // android.view.View.OnClickListener
            public void onClick(View view) {
                if (C1130a.this.f1810a != null) {
                    C1130a.this.f1810a.mo2558a();
                }
            }
        }

        /* compiled from: TbsSdkJava */
        /* renamed from: com.huawei.updatesdk.b.g.a$a$b */
        /* loaded from: classes.dex */
        class View$OnClickListenerC1133b implements View.OnClickListener {
            View$OnClickListenerC1133b() {
                DialogInterface$OnShowListenerC1131a.this = r1;
            }

            @Override // android.view.View.OnClickListener
            public void onClick(View view) {
                if (C1130a.this.f1810a != null) {
                    C1130a.this.f1810a.mo2557b();
                }
            }
        }

        DialogInterface$OnShowListenerC1131a() {
            C1130a.this = r1;
        }

        @Override // android.content.DialogInterface.OnShowListener
        public void onShow(DialogInterface dialogInterface) {
            AlertDialog alertDialog = (AlertDialog) dialogInterface;
            alertDialog.getButton(-1).setOnClickListener(new View$OnClickListenerC1132a());
            Button button = alertDialog.getButton(-2);
            if (button != null) {
                button.setOnClickListener(new View$OnClickListenerC1133b());
            }
            if (C1130a.this.f1816g != null) {
                C1130a.this.f1816g.onShow(dialogInterface);
            }
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.huawei.updatesdk.b.g.a$b */
    /* loaded from: classes.dex */
    class DialogInterface$OnDismissListenerC1134b implements DialogInterface.OnDismissListener {
        DialogInterface$OnDismissListenerC1134b() {
            C1130a.this = r1;
        }

        @Override // android.content.DialogInterface.OnDismissListener
        public void onDismiss(DialogInterface dialogInterface) {
            if (C1130a.this.f1817h != null) {
                C1130a.this.f1817h.onDismiss(dialogInterface);
            }
        }
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.huawei.updatesdk.b.g.a$c */
    /* loaded from: classes.dex */
    public enum EnumC1135c {
        CONFIRM,
        CANCEL
    }

    /* compiled from: TbsSdkJava */
    /* renamed from: com.huawei.updatesdk.b.g.a$d */
    /* loaded from: classes.dex */
    public interface AbstractC1136d {
        /* renamed from: a */
        void mo2556a();
    }

    protected C1130a(Context context, String str, CharSequence charSequence) {
        this.f1811b = context;
        this.f1812c = str;
        this.f1813d = charSequence;
        this.f1815f = C1080b.m2823g() ? new AlertDialog.Builder(context) : ((context.getResources().getConfiguration().uiMode & 48) != 32 || Build.VERSION.SDK_INT < 29) ? new AlertDialog.Builder(context, 16974546) : new AlertDialog.Builder(context, 16974545);
        this.f1815f.setTitle(this.f1812c);
        this.f1815f.setPositiveButton(C1170g.m2515e(context, "upsdk_third_app_dl_sure_cancel_download"), (DialogInterface.OnClickListener) null);
        this.f1815f.setNegativeButton(C1170g.m2515e(context, "upsdk_cancel"), (DialogInterface.OnClickListener) null);
        this.f1815f.setMessage(this.f1813d);
    }

    /* renamed from: a */
    public static C1130a m2636a(Context context, String str, CharSequence charSequence) {
        return (!(context instanceof Activity) || !((Activity) context).isFinishing()) ? new C1130a(context, str, charSequence) : new C1138c(context, str, charSequence);
    }

    /* renamed from: a */
    public void m2638a() {
        try {
            if (this.f1814e != null) {
                this.f1814e.dismiss();
                this.f1814e = null;
            }
        } catch (IllegalArgumentException unused) {
            C1069a.m2879a("BaseAlertDialog", "dialog dismiss IllegalArgumentException");
        }
    }

    /* renamed from: a */
    public void m2637a(int i, int i2) {
        if (C1125a.m2651d().m2655a() >= 11) {
            Button button = null;
            AlertDialog alertDialog = this.f1814e;
            if (alertDialog != null) {
                button = alertDialog.getButton(-1);
            }
            if (button != null) {
                button.setBackgroundResource(i);
                button.setTextColor(this.f1811b.getResources().getColor(i2));
            }
        }
    }

    /* renamed from: a */
    public void m2635a(DialogInterface.OnDismissListener onDismissListener) {
        this.f1817h = onDismissListener;
    }

    /* renamed from: a */
    public void m2634a(DialogInterface.OnKeyListener onKeyListener) {
        AlertDialog alertDialog = this.f1814e;
        if (alertDialog != null) {
            alertDialog.setOnKeyListener(onKeyListener);
        }
    }

    /* renamed from: a */
    public void m2633a(DialogInterface.OnShowListener onShowListener) {
        this.f1816g = onShowListener;
    }

    /* renamed from: a */
    public void m2632a(View view) {
        ImageView imageView;
        if (this.f1815f != null) {
            if (C1125a.m2651d().m2655a() >= 17 && (imageView = (ImageView) view.findViewById(C1170g.m2517c(view.getContext(), "divider"))) != null) {
                imageView.setVisibility(8);
            }
            this.f1815f.setMessage((CharSequence) null);
            this.f1815f.setView(view);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:14:0x0018 A[RETURN] */
    /* JADX WARN: Removed duplicated region for block: B:15:0x0019  */
    /* renamed from: a */
    /* Code decompiled incorrectly, please refer to instructions dump */
    public void m2631a(EnumC1135c cVar, String str) {
        Button button;
        int i;
        AlertDialog alertDialog = this.f1814e;
        if (alertDialog != null) {
            if (cVar == EnumC1135c.CONFIRM) {
                i = -1;
            } else if (cVar == EnumC1135c.CANCEL) {
                i = -2;
            } else {
                button = null;
                if (button == null) {
                    button.setText(str);
                    button.setAllCaps(true);
                    return;
                }
                return;
            }
            button = alertDialog.getButton(i);
            if (button == null) {
            }
        }
    }

    /* renamed from: a */
    public void mo2623a(AbstractC1136d dVar) {
        Context context = this.f1811b;
        if (context == null || ((Activity) context).isFinishing()) {
            if (dVar != null) {
                dVar.mo2556a();
            }
        } else if (!m2627b()) {
            try {
                this.f1814e = this.f1815f.create();
                this.f1814e.setCanceledOnTouchOutside(false);
                this.f1814e.setOnShowListener(new DialogInterface$OnShowListenerC1131a());
                this.f1814e.setOnDismissListener(new DialogInterface$OnDismissListenerC1134b());
                this.f1814e.show();
                this.f1814e.getButton(-1).requestFocus();
            } catch (Exception e) {
                if (dVar != null) {
                    dVar.mo2556a();
                }
                C1069a.m2878a("BaseAlertDialog", "show dlg error, e: ", e);
            }
        } else {
            StringBuilder sb = new StringBuilder();
            sb.append("show dlg error, mContext = ");
            sb.append(this.f1811b);
            sb.append(", mContext.isFinishing is ");
            Context context2 = this.f1811b;
            sb.append(context2 == null ? "mContext == null" : Boolean.valueOf(((Activity) context2).isFinishing()));
            C1069a.m2877b("BaseAlertDialog", sb.toString());
        }
    }

    /* renamed from: a */
    public void m2629a(AbstractC1137b bVar) {
        this.f1810a = bVar;
    }

    /* renamed from: a */
    public void m2628a(boolean z) {
        AlertDialog alertDialog = this.f1814e;
        if (alertDialog != null) {
            alertDialog.setCancelable(z);
        }
    }

    /* renamed from: b */
    public boolean m2627b() {
        AlertDialog alertDialog = this.f1814e;
        return alertDialog != null && alertDialog.isShowing();
    }

    /* renamed from: c */
    public void m2625c() {
        AlertDialog.Builder builder = this.f1815f;
        if (builder != null) {
            builder.setNegativeButton((CharSequence) null, (DialogInterface.OnClickListener) null);
        }
    }
}
