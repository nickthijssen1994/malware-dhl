package com.huawei.hms.framework.network.grs.p016d.p017a;

import android.content.Context;
import android.text.TextUtils;
import com.huawei.hms.android.HwBuildEx;
import com.huawei.hms.framework.common.Logger;
import com.huawei.hms.framework.network.grs.p016d.C0883a;
import com.huawei.hms.framework.network.grs.p016d.p018b.C0886a;
import com.huawei.hms.framework.network.grs.p016d.p018b.C0888c;
import com.jd.sentry.performance.network.instrumentation.urlconnection.ShooterUrlConnectionInstrumentation;
import java.net.URL;
import java.net.URLConnection;
import javax.net.ssl.HttpsURLConnection;

/* compiled from: TbsSdkJava */
/* renamed from: com.huawei.hms.framework.network.grs.d.a.a */
/* loaded from: classes.dex */
public class C0884a {
    /* renamed from: a */
    public static HttpsURLConnection m3741a(String str, Context context, String str2) {
        if (TextUtils.isEmpty(str)) {
            return null;
        }
        URLConnection openConnection = ShooterUrlConnectionInstrumentation.openConnection(new URL(str).openConnection());
        if (openConnection instanceof HttpsURLConnection) {
            HttpsURLConnection httpsURLConnection = (HttpsURLConnection) openConnection;
            try {
                httpsURLConnection.setSSLSocketFactory(C0886a.m3736a(context));
                httpsURLConnection.setHostnameVerifier(C0888c.f1089b);
            } catch (IllegalArgumentException unused) {
                Logger.m3897w("URLConnectionHelper", "init https ssl socket failed.");
            }
            httpsURLConnection.setConnectTimeout(HwBuildEx.VersionCodes.CUR_DEVELOPMENT);
            httpsURLConnection.setReadTimeout(HwBuildEx.VersionCodes.CUR_DEVELOPMENT);
            String b = C0883a.m3742b(context, "NetworkKit-grs", str2);
            Logger.m3906d("URLConnectionHelper", "request to grs server with a User-Agent header is:" + b);
            httpsURLConnection.setRequestProperty("User-Agent", b);
            return httpsURLConnection;
        }
        Logger.m3897w("URLConnectionHelper", "urlConnection is not an instance of HttpsURLConnection");
        return null;
    }
}
