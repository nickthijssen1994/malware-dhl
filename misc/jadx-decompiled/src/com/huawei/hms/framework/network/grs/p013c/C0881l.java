package com.huawei.hms.framework.network.grs.p013c;

import android.content.Context;
import com.huawei.hms.framework.common.ExecutorsUtils;
import com.huawei.hms.framework.common.Logger;
import com.huawei.hms.framework.common.NetworkUtil;
import com.huawei.hms.framework.network.grs.AbstractC0857b;
import com.huawei.hms.framework.network.grs.GrsBaseInfo;
import com.huawei.hms.framework.network.grs.p011a.C0854a;
import com.huawei.hms.framework.network.grs.p013c.p015b.C0870b;
import com.huawei.hms.framework.network.grs.p016d.C0891d;
import java.util.Map;
import java.util.concurrent.CancellationException;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.ExecutionException;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Future;

/* compiled from: TbsSdkJava */
/* renamed from: com.huawei.hms.framework.network.grs.c.l */
/* loaded from: classes.dex */
public class C0881l {

    /* renamed from: a */
    private ExecutorService f1068a = ExecutorsUtils.newCachedThreadPool("GRS_RequestController-Task");

    /* renamed from: b */
    private Map<String, C0870b> f1069b = new ConcurrentHashMap(16);

    /* renamed from: c */
    private final Object f1070c = new Object();

    /* renamed from: d */
    private C0854a f1071d;

    /* renamed from: a */
    public void m3771a(C0874e eVar, AbstractC0857b bVar) {
        if (bVar == null) {
            return;
        }
        if (eVar == null) {
            Logger.m3899v("RequestController", "GrsResponse is null");
            bVar.mo3865a();
            return;
        }
        Logger.m3899v("RequestController", "GrsResponse is not null");
        bVar.mo3864a(eVar);
    }

    /* JADX WARN: Code restructure failed: missing block: B:16:0x0048, code lost:
        if (r2.m3720a() != false) goto L_0x004b;
     */
    /* JADX WARN: Code restructure failed: missing block: B:19:0x004c, code lost:
        return null;
     */
    /* renamed from: a */
    /* Code decompiled incorrectly, please refer to instructions dump */
    public C0874e m3773a(GrsBaseInfo grsBaseInfo, Context context, String str) {
        Future<C0874e> future;
        String str2;
        String str3;
        Throwable e;
        Logger.m3906d("RequestController", "request to server with service name is: " + str);
        String grsParasKey = grsBaseInfo.getGrsParasKey(false, true, context);
        synchronized (this.f1070c) {
            if (!NetworkUtil.isNetworkAvailable(context)) {
                return null;
            }
            C0891d.C0892a a = C0891d.m3722a(grsParasKey);
            C0870b bVar = this.f1069b.get(grsParasKey);
            try {
                if (bVar != null && bVar.m3827b()) {
                    future = bVar.m3828a();
                    return future.get();
                }
                return future.get();
            } catch (InterruptedException e2) {
                e = e2;
                str3 = "RequestController";
                str2 = "when check result, find InterruptedException, check others";
                Logger.m3896w(str3, str2, e);
                return null;
            } catch (CancellationException e3) {
                e = e3;
                str3 = "RequestController";
                str2 = "when check result, find CancellationException, check others";
                Logger.m3896w(str3, str2, e);
                return null;
            } catch (ExecutionException e4) {
                e = e4;
                str3 = "RequestController";
                str2 = "when check result, find ExecutionException, check others";
                Logger.m3896w(str3, str2, e);
                return null;
            }
            Logger.m3906d("RequestController", "hitGrsRequestBean == null or request block is released.");
            future = this.f1068a.submit(new CallableC0879j(this, grsBaseInfo, context, str));
            this.f1069b.put(grsParasKey, new C0870b(future));
        }
    }

    /* renamed from: a */
    public void m3774a(GrsBaseInfo grsBaseInfo, Context context, AbstractC0857b bVar, String str) {
        this.f1068a.execute(new RunnableC0880k(this, grsBaseInfo, context, str, bVar));
    }

    /* renamed from: a */
    public void m3772a(C0854a aVar) {
        this.f1071d = aVar;
    }

    /* renamed from: a */
    public void m3768a(String str) {
        synchronized (this.f1070c) {
            this.f1069b.remove(str);
        }
    }
}
