package com.huawei.hms.framework.network.grs.p013c;

import android.content.Context;
import android.os.SystemClock;
import com.huawei.hms.framework.common.IoUtils;
import com.huawei.hms.framework.common.Logger;
import com.huawei.hms.framework.network.grs.GrsBaseInfo;
import com.huawei.hms.framework.network.grs.p016d.p017a.C0884a;
import java.io.IOException;
import java.io.InputStream;
import java.util.Map;
import java.util.concurrent.Callable;
import javax.net.ssl.HttpsURLConnection;

/* compiled from: TbsSdkJava */
/* renamed from: com.huawei.hms.framework.network.grs.c.h */
/* loaded from: classes.dex */
public class CallableC0877h extends C0867b implements Callable<C0874e> {

    /* renamed from: h */
    private static final String f1056h = "h";

    public CallableC0877h(String str, int i, AbstractC0865a aVar, Context context, String str2, GrsBaseInfo grsBaseInfo) {
        super(str, i, aVar, context, str2, grsBaseInfo);
    }

    /* JADX WARN: Can't rename method to resolve collision */
    /* JADX WARN: Removed duplicated region for block: B:27:0x00ad  */
    @Override // java.util.concurrent.Callable
    /* Code decompiled incorrectly, please refer to instructions dump */
    public C0874e call() {
        long j;
        IOException e;
        long j2;
        HttpsURLConnection a;
        byte[] bArr;
        Logger.m3901i(f1056h, "Get call execute");
        long j3 = 0;
        try {
            j2 = SystemClock.elapsedRealtime();
        } catch (IOException e2) {
            e = e2;
            j2 = 0;
        }
        try {
            j3 = System.currentTimeMillis();
            a = C0884a.m3741a(m3833c(), m3834b(), m3831e());
            bArr = null;
        } catch (IOException e3) {
            e = e3;
            long elapsedRealtime = SystemClock.elapsedRealtime();
            j = System.currentTimeMillis();
            Logger.m3896w(f1056h, "RequestCallable run task catch IOException", e);
            this.f1003a = new C0874e(e, elapsedRealtime - j2);
            this.f1003a.m3805a(m3833c());
            this.f1003a.m3807a(m3832d());
            this.f1003a.m3801b(j3);
            this.f1003a.m3806a(j);
            if (m3836a() != null) {
            }
            return this.f1003a;
        }
        if (a == null) {
            Logger.m3897w(f1056h, "create HttpsURLConnection instance by url return null.");
            return null;
        }
        a.setRequestMethod("GET");
        a.connect();
        int responseCode = a.getResponseCode();
        if (responseCode == 200) {
            InputStream inputStream = a.getInputStream();
            bArr = IoUtils.toByteArray(inputStream);
            IoUtils.closeSecure(inputStream);
        }
        Map headerFields = a.getHeaderFields();
        a.disconnect();
        long elapsedRealtime2 = SystemClock.elapsedRealtime();
        j = System.currentTimeMillis();
        this.f1003a = new C0874e(responseCode, headerFields, bArr == null ? new byte[0] : bArr, elapsedRealtime2 - j2);
        this.f1003a.m3805a(m3833c());
        this.f1003a.m3807a(m3832d());
        this.f1003a.m3801b(j3);
        this.f1003a.m3806a(j);
        if (m3836a() != null) {
            m3836a().mo3815a(this.f1003a);
        }
        return this.f1003a;
    }
}
