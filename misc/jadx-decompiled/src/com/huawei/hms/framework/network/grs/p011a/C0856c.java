package com.huawei.hms.framework.network.grs.p011a;

import android.content.Context;
import android.content.pm.PackageManager;
import com.huawei.hms.framework.common.Logger;
import com.huawei.hms.framework.common.PLSharedPreferences;
import com.huawei.hms.support.hianalytics.HiAnalyticsConstant;
import java.util.Map;

/* compiled from: TbsSdkJava */
/* renamed from: com.huawei.hms.framework.network.grs.a.c */
/* loaded from: classes.dex */
public class C0856c {

    /* renamed from: a */
    private static final String f987a = "c";

    /* renamed from: b */
    private PLSharedPreferences f988b;

    public C0856c(Context context) {
        this.f988b = null;
        String packageName = context.getPackageName();
        Logger.m3905d(f987a, "get pkgname from context is{%s}", packageName);
        this.f988b = new PLSharedPreferences(context, "share_pre_grs_conf_" + packageName);
        m3871a(context);
    }

    /* renamed from: a */
    private void m3871a(Context context) {
        try {
            String l = Long.toString((long) context.getPackageManager().getPackageInfo(context.getPackageName(), 16384).versionCode);
            String a = m3869a(HiAnalyticsConstant.HaKey.BI_KEY_VERSION, "");
            if (!l.equals(a)) {
                Logger.m3900i(f987a, "app version changed! old version{%s} and new version{%s}", a, l);
                m3866c();
                m3867b(HiAnalyticsConstant.HaKey.BI_KEY_VERSION, l);
            }
        } catch (PackageManager.NameNotFoundException unused) {
            Logger.m3897w(f987a, "get app version failed and catch NameNotFoundException");
        }
    }

    /* renamed from: a */
    public String m3869a(String str, String str2) {
        return this.f988b.getString(str, str2);
    }

    /* renamed from: a */
    public Map<String, ?> m3872a() {
        return this.f988b.getAll();
    }

    /* renamed from: a */
    public void m3870a(String str) {
        this.f988b.remove(str);
    }

    /* renamed from: b */
    public String m3868b() {
        return m3869a("cp", "");
    }

    /* renamed from: b */
    public void m3867b(String str, String str2) {
        this.f988b.putString(str, str2);
    }

    /* renamed from: c */
    public void m3866c() {
        this.f988b.clear();
    }
}
