package com.huawei.hms.opendevice;

import android.content.Context;
import android.text.TextUtils;
import com.huawei.android.hms.openid.R;
import com.huawei.hms.aaid.utils.PushPreferences;
import com.huawei.secure.android.common.encrypt.utils.EncryptUtil;
import com.huawei.secure.android.common.encrypt.utils.RootKeyUtil;
import com.huawei.secure.android.common.encrypt.utils.WorkKeyCryptUtil;

/* compiled from: TbsSdkJava */
/* renamed from: com.huawei.hms.opendevice.c */
/* loaded from: classes.dex */
public abstract class AbstractC0974c {

    /* renamed from: a */
    public static RootKeyUtil f1296a;

    /* renamed from: a */
    public static RootKeyUtil m3285a(Context context, PushPreferences pushPreferences) {
        if (f1296a == null) {
            if (!TextUtils.isEmpty(pushPreferences.getString("Jarvis"))) {
                f1296a = RootKeyUtil.newInstance(pushPreferences.getString("CaptainA"), pushPreferences.getString("IronMan"), pushPreferences.getString("CaptainM"), pushPreferences.getString("SpokesMan"));
            } else {
                m3281c(context);
            }
        }
        return f1296a;
    }

    /* renamed from: a */
    public static String m3287a() {
        return "2A57086C86EF54970C1E6EB37BFC72B1";
    }

    /* renamed from: b */
    public static String m3282b(Context context) {
        PushPreferences pushPreferences = new PushPreferences(context, "LocalAvengers");
        return WorkKeyCryptUtil.decryptWorkKey(pushPreferences.getString("Jarvis"), m3285a(context, pushPreferences));
    }

    /* renamed from: c */
    public static void m3281c(Context context) {
        PushPreferences pushPreferences = new PushPreferences(context, "LocalAvengers");
        if (TextUtils.isEmpty(pushPreferences.getString("Jarvis"))) {
            byte[] generateSecureRandom = EncryptUtil.generateSecureRandom(32);
            byte[] generateSecureRandom2 = EncryptUtil.generateSecureRandom(32);
            byte[] generateSecureRandom3 = EncryptUtil.generateSecureRandom(32);
            byte[] generateSecureRandom4 = EncryptUtil.generateSecureRandom(32);
            String a = AbstractC0972a.m3289a(generateSecureRandom);
            String a2 = AbstractC0972a.m3289a(generateSecureRandom2);
            String a3 = AbstractC0972a.m3289a(generateSecureRandom3);
            f1296a = RootKeyUtil.newInstance(a, a2, a3, generateSecureRandom4);
            pushPreferences.saveString("CaptainA", a);
            pushPreferences.saveString("IronMan", a2);
            pushPreferences.saveString("CaptainM", a3);
            pushPreferences.saveString("SpokesMan", AbstractC0972a.m3289a(generateSecureRandom4));
            pushPreferences.saveString("Jarvis", WorkKeyCryptUtil.encryptWorkKey(AbstractC0972a.m3289a(EncryptUtil.generateSecureRandom(32)), f1296a));
        }
    }

    /* renamed from: a */
    public static byte[] m3286a(Context context) {
        byte[] a = AbstractC0972a.m3290a(context.getString(R.string.push_cat_head));
        byte[] a2 = AbstractC0972a.m3290a(context.getString(R.string.push_cat_body));
        return m3284a(m3283a(m3283a(a, a2), AbstractC0972a.m3290a(m3287a())));
    }

    /* renamed from: a */
    public static byte[] m3283a(byte[] bArr, byte[] bArr2) {
        if (bArr == null || bArr2 == null || bArr.length == 0 || bArr2.length == 0) {
            return new byte[0];
        }
        int length = bArr.length;
        if (length != bArr2.length) {
            return new byte[0];
        }
        byte[] bArr3 = new byte[length];
        for (int i = 0; i < length; i++) {
            bArr3[i] = (byte) (bArr[i] ^ bArr2[i]);
        }
        return bArr3;
    }

    /* renamed from: a */
    public static byte[] m3284a(byte[] bArr) {
        if (bArr == null || bArr.length == 0) {
            return new byte[0];
        }
        for (int i = 0; i < bArr.length; i++) {
            bArr[i] = (byte) (bArr[i] >> 2);
        }
        return bArr;
    }
}
