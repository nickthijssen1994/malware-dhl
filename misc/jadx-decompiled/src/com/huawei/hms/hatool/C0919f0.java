package com.huawei.hms.hatool;

import java.util.Calendar;
import java.util.UUID;

/* compiled from: TbsSdkJava */
/* renamed from: com.huawei.hms.hatool.f0 */
/* loaded from: classes.dex */
public class C0919f0 {

    /* renamed from: a */
    public long f1135a = 1800000;

    /* renamed from: b */
    public volatile boolean f1136b = false;

    /* renamed from: c */
    public C0920a f1137c = null;

    /* compiled from: TbsSdkJava */
    /* renamed from: com.huawei.hms.hatool.f0$a */
    /* loaded from: classes.dex */
    public class C0920a {

        /* renamed from: a */
        public String f1138a = UUID.randomUUID().toString().replace("-", "");

        /* renamed from: b */
        public boolean f1139b = true;

        /* renamed from: c */
        public long f1140c;

        public C0920a(long j) {
            this.f1138a += "_" + j;
            this.f1140c = j;
            C0919f0.this.f1136b = false;
        }

        /* renamed from: a */
        public void m3582a(long j) {
            if (C0919f0.this.f1136b) {
                C0919f0.this.f1136b = false;
                m3580b(j);
            } else if (m3579b(this.f1140c, j) || m3581a(this.f1140c, j)) {
                m3580b(j);
            } else {
                this.f1140c = j;
                this.f1139b = false;
            }
        }

        /* renamed from: a */
        public final boolean m3581a(long j, long j2) {
            Calendar instance = Calendar.getInstance();
            instance.setTimeInMillis(j);
            Calendar instance2 = Calendar.getInstance();
            instance2.setTimeInMillis(j2);
            return (instance.get(1) == instance2.get(1) && instance.get(6) == instance2.get(6)) ? false : true;
        }

        /* renamed from: b */
        public final void m3580b(long j) {
            C0968y.m3317c("hmsSdk", "getNewSession() session is flush!");
            this.f1138a = UUID.randomUUID().toString();
            this.f1138a = this.f1138a.replace("-", "");
            this.f1138a += "_" + j;
            this.f1140c = j;
            this.f1139b = true;
        }

        /* renamed from: b */
        public final boolean m3579b(long j, long j2) {
            return j2 - j >= C0919f0.this.f1135a;
        }
    }

    /* renamed from: a */
    public String m3588a() {
        C0920a aVar = this.f1137c;
        if (aVar != null) {
            return aVar.f1138a;
        }
        C0968y.m3313f("hmsSdk", "getSessionName(): session not prepared. onEvent() must be called first.");
        return "";
    }

    /* renamed from: a */
    public void m3587a(long j) {
        C0920a aVar = this.f1137c;
        if (aVar == null) {
            C0968y.m3317c("hmsSdk", "Session is first flush");
            this.f1137c = new C0920a(j);
            return;
        }
        aVar.m3582a(j);
    }

    /* renamed from: b */
    public boolean m3584b() {
        C0920a aVar = this.f1137c;
        if (aVar != null) {
            return aVar.f1139b;
        }
        C0968y.m3313f("hmsSdk", "isFirstEvent(): session not prepared. onEvent() must be called first.");
        return false;
    }
}
