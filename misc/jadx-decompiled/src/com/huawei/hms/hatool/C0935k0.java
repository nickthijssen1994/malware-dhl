package com.huawei.hms.hatool;

import android.content.Context;
import android.util.Pair;
import java.util.List;
import java.util.Map;

/* compiled from: TbsSdkJava */
/* renamed from: com.huawei.hms.hatool.k0 */
/* loaded from: classes.dex */
public class C0935k0 implements AbstractRunnableC0941m0 {

    /* renamed from: a */
    public Context f1196a = AbstractC0904b.m3666f();

    /* renamed from: b */
    public String f1197b;

    /* renamed from: c */
    public String f1198c;

    /* renamed from: d */
    public String f1199d;

    public C0935k0(String str, String str2, String str3) {
        this.f1197b = str;
        this.f1198c = str2;
        this.f1199d = str3;
    }

    /* renamed from: a */
    public final void m3479a(String str, List<C0950q> list) {
        Pair<String, String> a = AbstractC0955s0.m3378a(str);
        new C0956t(list, (String) a.first, (String) a.second, this.f1199d).m3373a();
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:38:0x0160  */
    /* JADX WARN: Removed duplicated region for block: B:49:? A[RETURN, SYNTHETIC] */
    /* JADX WARN: Type inference failed for: r2v4 */
    /* JADX WARN: Type inference failed for: r2v8, types: [java.lang.String] */
    @Override // java.lang.Runnable
    /* Code decompiled incorrectly, please refer to instructions dump */
    public void run() {
        int i;
        Context context;
        String[] strArr;
        Map<String, List<C0950q>> a;
        String str = "eventReportTask is running";
        C0968y.m3317c("hmsSdk", str);
        boolean a2 = C0949p0.m3411a(this.f1196a);
        int i2 = str;
        if (a2) {
            i = "workKey is refresh,begin report all data";
            C0968y.m3317c("hmsSdk", i);
            String str2 = "alltype";
            this.f1198c = str2;
            i2 = str2;
        }
        try {
            i2 = 1;
            i = 0;
            try {
                try {
                    a = C0962w.m3351a(this.f1196a, this.f1197b, this.f1198c);
                } catch (Exception e) {
                    C0968y.m3314e("hmsSdk", "readEventRecords handData Exception:" + e.getMessage());
                    if (!"alltype".equals(this.f1198c)) {
                        String a3 = AbstractC0955s0.m3376a(this.f1197b, this.f1198c);
                        C0923g0.m3567a(this.f1196a, "stat_v2_1", a3);
                        context = this.f1196a;
                        strArr = new String[]{a3};
                    }
                }
            } catch (IllegalArgumentException e2) {
                C0968y.m3314e("hmsSdk", "readEventRecords handData IllegalArgumentException:" + e2.getMessage());
                if (!"alltype".equals(this.f1198c)) {
                    String a4 = AbstractC0955s0.m3376a(this.f1197b, this.f1198c);
                    C0923g0.m3567a(this.f1196a, "stat_v2_1", a4);
                    context = this.f1196a;
                    strArr = new String[]{a4};
                }
            }
            if (a.size() == 0) {
                C0968y.m3319b("hmsSdk", "no have events to report: tag:%s : type:%s", this.f1197b, this.f1198c);
                if ("alltype".equals(this.f1198c)) {
                    C0923g0.m3567a(this.f1196a, "stat_v2_1", new String[0]);
                    C0923g0.m3567a(this.f1196a, "cached_v2_1", new String[0]);
                    return;
                }
                String a5 = AbstractC0955s0.m3376a(this.f1197b, this.f1198c);
                C0923g0.m3567a(this.f1196a, "stat_v2_1", a5);
                C0923g0.m3567a(this.f1196a, "cached_v2_1", a5);
                return;
            }
            for (Map.Entry<String, List<C0950q>> entry : a.entrySet()) {
                m3479a(entry.getKey(), entry.getValue());
            }
            if (!"alltype".equals(this.f1198c)) {
                String a6 = AbstractC0955s0.m3376a(this.f1197b, this.f1198c);
                C0923g0.m3567a(this.f1196a, "stat_v2_1", a6);
                context = this.f1196a;
                strArr = new String[]{a6};
                C0923g0.m3567a(context, "cached_v2_1", strArr);
                if (!a2) {
                    C0968y.m3317c("hmsSdk", "refresh local key");
                    C0912d0.m3612f().m3618b();
                    return;
                }
                return;
            }
            C0923g0.m3567a(this.f1196a, "stat_v2_1", new String[0]);
            C0923g0.m3567a(this.f1196a, "cached_v2_1", new String[0]);
            if (!a2) {
            }
        } catch (Throwable th) {
            if ("alltype".equals(this.f1198c)) {
                C0923g0.m3567a(this.f1196a, "stat_v2_1", new String[i]);
                C0923g0.m3567a(this.f1196a, "cached_v2_1", new String[i]);
            } else {
                String a7 = AbstractC0955s0.m3376a(this.f1197b, this.f1198c);
                Context context2 = this.f1196a;
                String[] strArr2 = new String[i2];
                strArr2[i] = a7;
                C0923g0.m3567a(context2, "stat_v2_1", strArr2);
                Context context3 = this.f1196a;
                String[] strArr3 = new String[i2];
                strArr3[i] = a7;
                C0923g0.m3567a(context3, "cached_v2_1", strArr3);
            }
            throw th;
        }
    }
}
