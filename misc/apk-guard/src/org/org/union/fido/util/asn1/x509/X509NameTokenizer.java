package org.org.union.fido.util.asn1.x509;

public class X509NameTokenizer
{
  private StringBuffer buf = new StringBuffer();
  private int index;
  private char seperator;
  private String value;
  
  public X509NameTokenizer(String paramString)
  {
    this(paramString, ',');
  }
  
  public X509NameTokenizer(String paramString, char paramChar)
  {
    value = paramString;
    index = -1;
    seperator = paramChar;
  }
  
  public boolean hasMoreTokens()
  {
    return index != value.length();
  }
  
  public String nextToken()
  {
    if (index == value.length()) {
      return null;
    }
    int k = index + 1;
    buf.setLength(0);
    int j = 0;
    int i = 0;
    while (k != value.length())
    {
      char c = value.charAt(k);
      if (c == '"')
      {
        if (j != 0) {
          break label179;
        }
        i ^= 0x1;
      }
      for (;;)
      {
        j = 0;
        break;
        if ((j == 0) && (i == 0))
        {
          if (c == '\\')
          {
            j = 1;
            break;
          }
          if (c == seperator) {
            break label200;
          }
          buf.append(c);
          break;
        }
        if (c == '#')
        {
          StringBuffer localStringBuffer = buf;
          if (localStringBuffer.charAt(localStringBuffer.length() - 1) != '=') {}
        }
        while ((c == '+') && (seperator != '+'))
        {
          buf.append('\\');
          break;
        }
        label179:
        buf.append(c);
      }
      k += 1;
    }
    label200:
    index = k;
    return buf.toString().trim();
  }
}
