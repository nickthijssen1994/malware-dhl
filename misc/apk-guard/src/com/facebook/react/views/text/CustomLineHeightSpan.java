package com.facebook.react.views.text;

import android.graphics.Paint.FontMetricsInt;
import android.text.style.LineHeightSpan;

public class CustomLineHeightSpan
  implements LineHeightSpan, ReactSpan
{
  private final int mHeight;
  
  CustomLineHeightSpan(float paramFloat)
  {
    mHeight = ((int)Math.ceil(paramFloat));
  }
  
  public void chooseHeight(CharSequence paramCharSequence, int paramInt1, int paramInt2, int paramInt3, int paramInt4, Paint.FontMetricsInt paramFontMetricsInt)
  {
    paramInt1 = descent;
    paramInt2 = mHeight;
    if (paramInt1 > paramInt2)
    {
      paramInt1 = Math.min(paramInt2, descent);
      descent = paramInt1;
      bottom = paramInt1;
      ascent = 0;
      top = 0;
      return;
    }
    if (-ascent + descent > mHeight)
    {
      bottom = descent;
      paramInt1 = -mHeight + descent;
      ascent = paramInt1;
      top = paramInt1;
      return;
    }
    if (-ascent + bottom > mHeight)
    {
      top = ascent;
      bottom = (ascent + mHeight);
      return;
    }
    paramInt2 = -top;
    paramInt3 = bottom;
    paramInt1 = mHeight;
    if (paramInt2 + paramInt3 > paramInt1)
    {
      top = (bottom - mHeight);
      return;
    }
    paramInt2 = -top;
    paramInt3 = bottom;
    double d2 = top;
    double d1 = (paramInt1 - (paramInt2 + paramInt3)) / 2.0F;
    double d3 = Math.ceil(d1);
    Double.isNaN(d2);
    top = ((int)(d2 - d3));
    d2 = bottom;
    d1 = Math.floor(d1);
    Double.isNaN(d2);
    bottom = ((int)(d2 + d1));
    ascent = top;
    descent = bottom;
  }
}
