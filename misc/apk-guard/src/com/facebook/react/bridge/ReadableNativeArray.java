package com.facebook.react.bridge;

import com.facebook.infer.annotation.Assertions;
import com.facebook.proguard.annotations.DoNotStrip;
import com.facebook.react.config.ReactFeatureFlags;
import com.facebook.upgrade.HybridData;
import java.util.ArrayList;
import java.util.Arrays;
import javax.annotation.Nullable;

@DoNotStrip
public class ReadableNativeArray
  extends NativeArray
  implements ReadableArray
{
  private static int jniPassCounter = 0;
  @Nullable
  private Object[] mLocalArray;
  @Nullable
  private ReadableType[] mLocalTypeArray;
  
  static {}
  
  protected ReadableNativeArray(HybridData paramHybridData)
  {
    super(paramHybridData);
  }
  
  private native ReadableNativeArray getArrayNative(int paramInt);
  
  private native boolean getBooleanNative(int paramInt);
  
  private native double getDoubleNative(int paramInt);
  
  private native int getIntNative(int paramInt);
  
  public static int getJNIPassCounter()
  {
    return jniPassCounter;
  }
  
  private Object[] getLocalArray()
  {
    Object[] arrayOfObject = mLocalArray;
    if (arrayOfObject != null) {
      return arrayOfObject;
    }
    try
    {
      if (mLocalArray == null)
      {
        jniPassCounter += 1;
        mLocalArray = ((Object[])Assertions.assertNotNull(importArray()));
      }
      return mLocalArray;
    }
    catch (Throwable localThrowable)
    {
      throw localThrowable;
    }
  }
  
  private ReadableType[] getLocalTypeArray()
  {
    Object localObject = mLocalTypeArray;
    if (localObject != null) {
      return localObject;
    }
    try
    {
      if (mLocalTypeArray == null)
      {
        jniPassCounter += 1;
        localObject = (Object[])Assertions.assertNotNull(importTypeArray());
        mLocalTypeArray = ((ReadableType[])Arrays.copyOf((Object[])localObject, localObject.length, [Lcom.facebook.react.bridge.ReadableType.class));
      }
      return mLocalTypeArray;
    }
    catch (Throwable localThrowable)
    {
      throw localThrowable;
    }
  }
  
  private native ReadableNativeMap getMapNative(int paramInt);
  
  private native String getStringNative(int paramInt);
  
  private native ReadableType getTypeNative(int paramInt);
  
  private native Object[] importArray();
  
  private native Object[] importTypeArray();
  
  private native boolean isNullNative(int paramInt);
  
  public static void setUseNativeAccessor(boolean paramBoolean)
  {
    ReactFeatureFlags.useArrayNativeAccessor = paramBoolean;
  }
  
  private native int sizeNative();
  
  public ReadableNativeArray getArray(int paramInt)
  {
    if (ReactFeatureFlags.useArrayNativeAccessor)
    {
      jniPassCounter += 1;
      return getArrayNative(paramInt);
    }
    return (ReadableNativeArray)getLocalArray()[paramInt];
  }
  
  public boolean getBoolean(int paramInt)
  {
    if (ReactFeatureFlags.useArrayNativeAccessor)
    {
      jniPassCounter += 1;
      return getBooleanNative(paramInt);
    }
    return ((Boolean)getLocalArray()[paramInt]).booleanValue();
  }
  
  public double getDouble(int paramInt)
  {
    if (ReactFeatureFlags.useArrayNativeAccessor)
    {
      jniPassCounter += 1;
      return getDoubleNative(paramInt);
    }
    return ((Double)getLocalArray()[paramInt]).doubleValue();
  }
  
  public Dynamic getDynamic(int paramInt)
  {
    return DynamicFromArray.create(this, paramInt);
  }
  
  public int getInt(int paramInt)
  {
    if (ReactFeatureFlags.useArrayNativeAccessor)
    {
      jniPassCounter += 1;
      return getIntNative(paramInt);
    }
    return ((Double)getLocalArray()[paramInt]).intValue();
  }
  
  public ReadableNativeMap getMap(int paramInt)
  {
    if (ReactFeatureFlags.useArrayNativeAccessor)
    {
      jniPassCounter += 1;
      return getMapNative(paramInt);
    }
    return (ReadableNativeMap)getLocalArray()[paramInt];
  }
  
  public String getString(int paramInt)
  {
    if (ReactFeatureFlags.useArrayNativeAccessor)
    {
      jniPassCounter += 1;
      return getStringNative(paramInt);
    }
    return (String)getLocalArray()[paramInt];
  }
  
  public ReadableType getType(int paramInt)
  {
    if (ReactFeatureFlags.useArrayNativeAccessor)
    {
      jniPassCounter += 1;
      return getTypeNative(paramInt);
    }
    return getLocalTypeArray()[paramInt];
  }
  
  public boolean isNull(int paramInt)
  {
    if (ReactFeatureFlags.useArrayNativeAccessor)
    {
      jniPassCounter += 1;
      return isNullNative(paramInt);
    }
    return getLocalArray()[paramInt] == null;
  }
  
  public int size()
  {
    if (ReactFeatureFlags.useArrayNativeAccessor)
    {
      jniPassCounter += 1;
      return sizeNative();
    }
    return getLocalArray().length;
  }
  
  public ArrayList toArrayList()
  {
    Object localObject = new ArrayList();
    int i = 0;
    while (i < size())
    {
      switch (1.$SwitchMap$com$facebook$react$bridge$ReadableType[getType(i).ordinal()])
      {
      default: 
        localObject = new StringBuilder();
        ((StringBuilder)localObject).append("Could not convert object at index: ");
        ((StringBuilder)localObject).append(i);
        ((StringBuilder)localObject).append(".");
        throw new IllegalArgumentException(((StringBuilder)localObject).toString());
      case 6: 
        ((ArrayList)localObject).add(getArray(i).toArrayList());
        break;
      case 5: 
        ((ArrayList)localObject).add(getMap(i).toHashMap());
        break;
      case 4: 
        ((ArrayList)localObject).add(getString(i));
        break;
      case 3: 
        ((ArrayList)localObject).add(Double.valueOf(getDouble(i)));
        break;
      case 2: 
        ((ArrayList)localObject).add(Boolean.valueOf(getBoolean(i)));
        break;
      case 1: 
        ((ArrayList)localObject).add(null);
      }
      i += 1;
    }
    return localObject;
  }
}
