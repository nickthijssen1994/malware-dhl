package com.facebook.react.bridge;

import com.facebook.infer.annotation.Assertions;
import java.util.Collection;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;

public class JSIModuleRegistry
{
  private final Map<Class, JSIModuleHolder> mModules = new HashMap();
  
  public JSIModuleRegistry() {}
  
  public JSIModule getModule(Class paramClass)
  {
    Object localObject = (JSIModuleHolder)mModules.get(paramClass);
    if (localObject != null) {
      return (JSIModule)Assertions.assertNotNull(((JSIModuleHolder)localObject).getJSIModule());
    }
    localObject = new StringBuilder();
    ((StringBuilder)localObject).append("Unable to find JSIModule for class ");
    ((StringBuilder)localObject).append(paramClass);
    throw new IllegalArgumentException(((StringBuilder)localObject).toString());
  }
  
  public void notifyJSInstanceDestroy()
  {
    Iterator localIterator = mModules.values().iterator();
    while (localIterator.hasNext()) {
      ((JSIModuleHolder)localIterator.next()).notifyJSInstanceDestroy();
    }
  }
  
  public void registerModules(List paramList)
  {
    paramList = paramList.iterator();
    while (paramList.hasNext())
    {
      JSIModuleSpec localJSIModuleSpec = (JSIModuleSpec)paramList.next();
      mModules.put(localJSIModuleSpec.getJSIModuleClass(), new JSIModuleHolder(localJSIModuleSpec));
    }
  }
}
