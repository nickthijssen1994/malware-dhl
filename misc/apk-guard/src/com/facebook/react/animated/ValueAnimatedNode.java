package com.facebook.react.animated;

import com.facebook.react.bridge.ReadableMap;
import javax.annotation.Nullable;

class ValueAnimatedNode
  extends AnimatedNode
{
  double mOffset = 0.0D;
  double mValue = NaN.0D;
  @Nullable
  private AnimatedNodeValueListener mValueListener;
  
  public ValueAnimatedNode() {}
  
  public ValueAnimatedNode(ReadableMap paramReadableMap)
  {
    mValue = paramReadableMap.getDouble("value");
    mOffset = paramReadableMap.getDouble("offset");
  }
  
  public void extractOffset()
  {
    mOffset += mValue;
    mValue = 0.0D;
  }
  
  public void flattenOffset()
  {
    mValue += mOffset;
    mOffset = 0.0D;
  }
  
  public double getValue()
  {
    return mOffset + mValue;
  }
  
  public void onValueUpdate()
  {
    AnimatedNodeValueListener localAnimatedNodeValueListener = mValueListener;
    if (localAnimatedNodeValueListener == null) {
      return;
    }
    localAnimatedNodeValueListener.onValueUpdate(getValue());
  }
  
  public void setValueListener(AnimatedNodeValueListener paramAnimatedNodeValueListener)
  {
    mValueListener = paramAnimatedNodeValueListener;
  }
}
