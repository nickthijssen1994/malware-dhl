package com.facebook.react.modules.systeminfo;

import android.annotation.SuppressLint;
import android.app.UiModeManager;
import android.content.ContextWrapper;
import android.os.Build;
import android.os.Build.VERSION;
import android.provider.Settings.Secure;
import com.facebook.react.bridge.ReactApplicationContext;
import com.facebook.react.bridge.ReactContext;
import com.facebook.react.bridge.ReactContextBaseJavaModule;
import com.facebook.react.module.annotations.ReactModule;
import java.util.HashMap;
import java.util.Map;

@ReactModule(name="PlatformConstants")
@SuppressLint({"HardwareIds"})
public class AndroidInfoModule
  extends ReactContextBaseJavaModule
{
  private static final String IS_TESTING = "IS_TESTING";
  public static final String NAME = "PlatformConstants";
  
  public AndroidInfoModule(ReactApplicationContext paramReactApplicationContext)
  {
    super(paramReactApplicationContext);
  }
  
  private String uiMode()
  {
    int i = ((UiModeManager)getReactApplicationContext().getSystemService("uimode")).getCurrentModeType();
    if (i != 6)
    {
      switch (i)
      {
      default: 
        return "unknown";
      case 4: 
        return "tv";
      case 3: 
        return "car";
      case 2: 
        return "desk";
      }
      return "normal";
    }
    return "watch";
  }
  
  public String getAndroidID()
  {
    return Settings.Secure.getString(getReactApplicationContext().getContentResolver(), "android_id");
  }
  
  public Map getConstants()
  {
    HashMap localHashMap = new HashMap();
    localHashMap.put("Version", Integer.valueOf(Build.VERSION.SDK_INT));
    localHashMap.put("Release", Build.VERSION.RELEASE);
    localHashMap.put("Serial", Build.SERIAL);
    localHashMap.put("Fingerprint", Build.FINGERPRINT);
    localHashMap.put("Model", Build.MODEL);
    localHashMap.put("isTesting", Boolean.valueOf("true".equals(System.getProperty("IS_TESTING"))));
    localHashMap.put("reactNativeVersion", ReactNativeVersion.VERSION);
    localHashMap.put("uiMode", uiMode());
    return localHashMap;
  }
  
  public String getName()
  {
    return "PlatformConstants";
  }
}
