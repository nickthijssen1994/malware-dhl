package com.facebook.fresco.animation.drawable.animator;

import android.animation.ValueAnimator;
import android.animation.ValueAnimator.AnimatorUpdateListener;
import android.annotation.TargetApi;
import android.graphics.drawable.Drawable;
import com.facebook.fresco.animation.drawable.AnimatedDrawable2;

@TargetApi(11)
public class AnimatedDrawable2ValueAnimatorHelper
{
  private AnimatedDrawable2ValueAnimatorHelper() {}
  
  public static ValueAnimator.AnimatorUpdateListener createAnimatorUpdateListener(AnimatedDrawable2 paramAnimatedDrawable2)
  {
    new ValueAnimator.AnimatorUpdateListener()
    {
      public void onAnimationUpdate(ValueAnimator paramAnonymousValueAnimator)
      {
        val$drawable.setLevel(((Integer)paramAnonymousValueAnimator.getAnimatedValue()).intValue());
      }
    };
  }
  
  public static ValueAnimator createValueAnimator(AnimatedDrawable2 paramAnimatedDrawable2)
  {
    int j = paramAnimatedDrawable2.getLoopCount();
    int i = j;
    ValueAnimator localValueAnimator = new ValueAnimator();
    localValueAnimator.setIntValues(new int[] { 0, (int)paramAnimatedDrawable2.getLoopDurationMs() });
    localValueAnimator.setDuration(paramAnimatedDrawable2.getLoopDurationMs());
    if (j == 0) {
      i = -1;
    }
    localValueAnimator.setRepeatCount(i);
    localValueAnimator.setRepeatMode(1);
    localValueAnimator.setInterpolator(null);
    localValueAnimator.addUpdateListener(createAnimatorUpdateListener(paramAnimatedDrawable2));
    return localValueAnimator;
  }
  
  public static ValueAnimator createValueAnimator(AnimatedDrawable2 paramAnimatedDrawable2, int paramInt)
  {
    ValueAnimator localValueAnimator = createValueAnimator(paramAnimatedDrawable2);
    if (localValueAnimator == null) {
      return null;
    }
    localValueAnimator.setRepeatCount((int)Math.max(paramInt / paramAnimatedDrawable2.getLoopDurationMs(), 1L));
    return localValueAnimator;
  }
}
