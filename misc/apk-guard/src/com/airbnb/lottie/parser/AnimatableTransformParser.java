package com.airbnb.lottie.parser;

import android.graphics.PointF;
import com.airbnb.lottie.LottieComposition;
import com.airbnb.lottie.model.animatable.AnimatableFloatValue;
import com.airbnb.lottie.model.animatable.AnimatableIntegerValue;
import com.airbnb.lottie.model.animatable.AnimatablePathValue;
import com.airbnb.lottie.model.animatable.AnimatableScaleValue;
import com.airbnb.lottie.model.animatable.AnimatableSplitDimensionPathValue;
import com.airbnb.lottie.model.animatable.AnimatableTransform;
import com.airbnb.lottie.model.animatable.AnimatableValue;
import com.airbnb.lottie.parser.moshi.JsonReader;
import com.airbnb.lottie.parser.moshi.JsonReader.Options;
import com.airbnb.lottie.parser.moshi.JsonReader.Token;
import com.airbnb.lottie.value.Keyframe;
import com.airbnb.lottie.value.ScaleXY;
import java.io.IOException;
import java.util.List;

public class AnimatableTransformParser
{
  private static JsonReader.Options ANIMATABLE_NAMES = JsonReader.Options.init(new String[] { "k" });
  private static JsonReader.Options NAMES = JsonReader.Options.init(new String[] { "a", "p", "s", "rz", "r", "o", "so", "eo", "sk", "sa" });
  
  private AnimatableTransformParser() {}
  
  private static boolean isAnchorPointIdentity(AnimatablePathValue paramAnimatablePathValue)
  {
    return (paramAnimatablePathValue == null) || ((paramAnimatablePathValue.isStatic()) && (((PointF)getKeyframesget0startValue).equals(0.0F, 0.0F)));
  }
  
  private static boolean isPositionIdentity(AnimatableValue paramAnimatableValue)
  {
    return (paramAnimatableValue == null) || ((!(paramAnimatableValue instanceof AnimatableSplitDimensionPathValue)) && (paramAnimatableValue.isStatic()) && (((PointF)getKeyframesget0startValue).equals(0.0F, 0.0F)));
  }
  
  private static boolean isRotationIdentity(AnimatableFloatValue paramAnimatableFloatValue)
  {
    return (paramAnimatableFloatValue == null) || ((paramAnimatableFloatValue.isStatic()) && (((Float)getKeyframesget0startValue).floatValue() == 0.0F));
  }
  
  private static boolean isScaleIdentity(AnimatableScaleValue paramAnimatableScaleValue)
  {
    return (paramAnimatableScaleValue == null) || ((paramAnimatableScaleValue.isStatic()) && (((ScaleXY)getKeyframesget0startValue).equals(1.0F, 1.0F)));
  }
  
  private static boolean isSkewAngleIdentity(AnimatableFloatValue paramAnimatableFloatValue)
  {
    return (paramAnimatableFloatValue == null) || ((paramAnimatableFloatValue.isStatic()) && (((Float)getKeyframesget0startValue).floatValue() == 0.0F));
  }
  
  private static boolean isSkewIdentity(AnimatableFloatValue paramAnimatableFloatValue)
  {
    return (paramAnimatableFloatValue == null) || ((paramAnimatableFloatValue.isStatic()) && (((Float)getKeyframesget0startValue).floatValue() == 0.0F));
  }
  
  public static AnimatableTransform parse(JsonReader paramJsonReader, LottieComposition paramLottieComposition)
    throws IOException
  {
    int i;
    if (paramJsonReader.peek() == JsonReader.Token.BEGIN_OBJECT) {
      i = 1;
    } else {
      i = 0;
    }
    if (i != 0) {
      paramJsonReader.beginObject();
    }
    Object localObject3 = null;
    AnimatablePathValue localAnimatablePathValue = null;
    Object localObject4 = null;
    Object localObject2 = null;
    Object localObject1 = null;
    AnimatableFloatValue localAnimatableFloatValue1 = null;
    AnimatableIntegerValue localAnimatableIntegerValue = null;
    AnimatableFloatValue localAnimatableFloatValue3 = null;
    AnimatableFloatValue localAnimatableFloatValue2 = null;
    while (paramJsonReader.hasNext()) {
      switch (paramJsonReader.selectName(NAMES))
      {
      default: 
        paramJsonReader.skipName();
        paramJsonReader.skipValue();
        break;
      case 9: 
        localAnimatableFloatValue1 = AnimatableValueParser.parseFloat(paramJsonReader, paramLottieComposition, false);
        break;
      case 8: 
        localObject1 = AnimatableValueParser.parseFloat(paramJsonReader, paramLottieComposition, false);
        break;
      case 7: 
        localAnimatableFloatValue2 = AnimatableValueParser.parseFloat(paramJsonReader, paramLottieComposition, false);
        break;
      case 6: 
        localAnimatableFloatValue3 = AnimatableValueParser.parseFloat(paramJsonReader, paramLottieComposition, false);
        break;
      case 5: 
        localAnimatableIntegerValue = AnimatableValueParser.parseInteger(paramJsonReader, paramLottieComposition);
        break;
      case 3: 
        paramLottieComposition.addWarning("Lottie doesn't support 3D layers.");
      case 4: 
        localObject3 = AnimatableValueParser.parseFloat(paramJsonReader, paramLottieComposition, false);
        if (((AnimatableFloatValue)localObject3).getKeyframes().isEmpty()) {
          ((AnimatableFloatValue)localObject3).getKeyframes().add(new Keyframe(paramLottieComposition, Float.valueOf(0.0F), Float.valueOf(0.0F), null, 0.0F, Float.valueOf(paramLottieComposition.getEndFrame())));
        } else if (getKeyframesget0startValue == null) {
          ((AnimatableFloatValue)localObject3).getKeyframes().set(0, new Keyframe(paramLottieComposition, Float.valueOf(0.0F), Float.valueOf(0.0F), null, 0.0F, Float.valueOf(paramLottieComposition.getEndFrame())));
        }
        break;
      case 2: 
        localObject2 = AnimatableValueParser.parseScale(paramJsonReader, paramLottieComposition);
        break;
      case 1: 
        localObject4 = AnimatablePathValueParser.parseSplitPath(paramJsonReader, paramLottieComposition);
        break;
      case 0: 
        paramJsonReader.beginObject();
        while (paramJsonReader.hasNext()) {
          if (paramJsonReader.selectName(ANIMATABLE_NAMES) != 0)
          {
            paramJsonReader.skipName();
            paramJsonReader.skipValue();
          }
          else
          {
            localAnimatablePathValue = AnimatablePathValueParser.parse(paramJsonReader, paramLottieComposition);
          }
        }
        paramJsonReader.endObject();
      }
    }
    if (i != 0) {
      paramJsonReader.endObject();
    }
    paramJsonReader = localAnimatablePathValue;
    if (isAnchorPointIdentity(localAnimatablePathValue)) {
      paramJsonReader = null;
    }
    paramLottieComposition = (LottieComposition)localObject4;
    if (isPositionIdentity((AnimatableValue)localObject4)) {
      paramLottieComposition = null;
    }
    localObject4 = localObject3;
    if (isRotationIdentity((AnimatableFloatValue)localObject3)) {
      localObject4 = null;
    }
    localObject3 = localObject2;
    if (isScaleIdentity((AnimatableScaleValue)localObject2)) {
      localObject3 = null;
    }
    localObject2 = localObject1;
    if (isSkewIdentity((AnimatableFloatValue)localObject1)) {
      localObject2 = null;
    }
    localObject1 = localAnimatableFloatValue1;
    if (isSkewAngleIdentity(localAnimatableFloatValue1)) {
      localObject1 = null;
    }
    return new AnimatableTransform(paramJsonReader, paramLottieComposition, (AnimatableScaleValue)localObject3, (AnimatableFloatValue)localObject4, localAnimatableIntegerValue, localAnimatableFloatValue3, localAnimatableFloatValue2, (AnimatableFloatValue)localObject2, (AnimatableFloatValue)localObject1);
  }
}
