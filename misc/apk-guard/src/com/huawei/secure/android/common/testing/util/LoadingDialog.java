package com.huawei.secure.android.common.testing.util;

import android.content.Context;
import android.os.AsyncTask;
import com.huawei.secure.android.common.testing.SecureX509SingleInstance;
import java.io.InputStream;

public class LoadingDialog
  extends AsyncTask<Context, Integer, InputStream>
{
  private static final String TAG = "d";
  
  public LoadingDialog() {}
  
  protected InputStream doInBackground(Context... paramVarArgs)
  {
    long l = System.currentTimeMillis();
    paramVarArgs = paramVarArgs[0];
    try
    {
      paramVarArgs = BksUtil.getBksFromTss(paramVarArgs);
    }
    catch (Exception paramVarArgs)
    {
      str = TAG;
      localStringBuilder = new StringBuilder();
      localStringBuilder.append("doInBackground: exception : ");
      localStringBuilder.append(paramVarArgs.getMessage());
      Log.e(str, localStringBuilder.toString());
      paramVarArgs = null;
    }
    String str = TAG;
    StringBuilder localStringBuilder = new StringBuilder();
    localStringBuilder.append("doInBackground: get bks from hms tss cost : ");
    localStringBuilder.append(System.currentTimeMillis() - l);
    localStringBuilder.append(" ms");
    Log.d(str, localStringBuilder.toString());
    return paramVarArgs;
  }
  
  protected void onPostExecute(InputStream paramInputStream)
  {
    String str = TAG;
    StringBuilder localStringBuilder = new StringBuilder();
    localStringBuilder.append("onPostExecute: current thread name is : ");
    localStringBuilder.append(Thread.currentThread().getName());
    Log.d(str, localStringBuilder.toString());
    if (paramInputStream == null)
    {
      Log.e(TAG, "get bks from tss error , result is null");
      return;
    }
    SecureX509SingleInstance.updateBks(paramInputStream);
  }
  
  protected void onPreExecute()
  {
    String str = TAG;
    StringBuilder localStringBuilder = new StringBuilder();
    localStringBuilder.append("onPreExecute: current thread name is : ");
    localStringBuilder.append(Thread.currentThread().getName());
    Log.d(str, localStringBuilder.toString());
  }
  
  protected void onProgressUpdate(Integer... paramVarArgs)
  {
    paramVarArgs = TAG;
    StringBuilder localStringBuilder = new StringBuilder();
    localStringBuilder.append("onProgressUpdate: current thread name is : ");
    localStringBuilder.append(Thread.currentThread().getName());
    Log.append(paramVarArgs, localStringBuilder.toString());
  }
}
