package com.huawei.secure.android.common.webview;

import android.util.Log;
import android.webkit.WebView;
import com.huawei.secure.android.common.util.BTC;
import com.huawei.secure.android.common.util.c;
import java.util.concurrent.CountDownLatch;

public class SafeGetUrl
{
  private static final String PAGE_KEY = "SafeGetUrl";
  private static final long VIBRATE_DURATION = 200L;
  private String mUrl;
  private WebView mWebView;
  
  public SafeGetUrl() {}
  
  public SafeGetUrl(WebView paramWebView)
  {
    mWebView = paramWebView;
  }
  
  public String getUrlMethod()
  {
    if (mWebView == null) {
      return "";
    }
    if (BTC.isMainThread()) {
      return mWebView.getUrl();
    }
    final CountDownLatch localCountDownLatch = new CountDownLatch(1);
    c.a(new Runnable()
    {
      public void run()
      {
        SafeGetUrl localSafeGetUrl = SafeGetUrl.this;
        localSafeGetUrl.setUrl(SafeGetUrl.access$getMWebView(localSafeGetUrl).getUrl());
        localCountDownLatch.countDown();
      }
    });
    try
    {
      localCountDownLatch.await();
    }
    catch (InterruptedException localInterruptedException)
    {
      StringBuilder localStringBuilder = new StringBuilder();
      localStringBuilder.append("getUrlMethod: InterruptedException ");
      localStringBuilder.append(localInterruptedException.getMessage());
      Log.e("SafeGetUrl", localStringBuilder.toString(), localInterruptedException);
    }
    return mUrl;
  }
  
  public WebView getWebView()
  {
    return mWebView;
  }
  
  public void setUrl(String paramString)
  {
    mUrl = paramString;
  }
  
  public void setWebView(WebView paramWebView)
  {
    mWebView = paramWebView;
  }
}
