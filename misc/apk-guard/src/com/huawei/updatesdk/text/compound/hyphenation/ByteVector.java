package com.huawei.updatesdk.text.compound.hyphenation;

import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.text.TextUtils;
import com.huawei.updatesdk.text.http.f;
import java.util.HashMap;
import java.util.Map;

public class ByteVector
{
  private static ByteVector d;
  private final Map<String, com.huawei.updatesdk.b.a.a.a> context = new HashMap();
  
  private ByteVector() {}
  
  public static ByteVector a()
  {
    try
    {
      if (d == null) {
        d = new ByteVector();
      }
      ByteVector localByteVector = d;
      return localByteVector;
    }
    catch (Throwable localThrowable)
    {
      throw localThrowable;
    }
  }
  
  public String a(PackageInfo paramPackageInfo)
  {
    if ((paramPackageInfo != null) && (packageName != null) && (!TextUtils.isEmpty(applicationInfo.sourceDir)))
    {
      Object localObject1 = (Item)context.get(packageName);
      if ((localObject1 != null) && (((Item)localObject1).getItemCount() == lastUpdateTime) && (((Item)localObject1).a() == versionCode)) {
        return ((Item)localObject1).getTitle();
      }
      localObject1 = new StringBuilder();
      ((StringBuilder)localObject1).append(lastUpdateTime);
      ((StringBuilder)localObject1).append(versionCode);
      ((StringBuilder)localObject1).append(packageName);
      Object localObject2 = new StringBuilder();
      ((StringBuilder)localObject2).append("packagekey");
      ((StringBuilder)localObject2).append(packageName);
      localObject2 = ((StringBuilder)localObject2).toString();
      Object localObject3 = new StringBuilder();
      ((StringBuilder)localObject3).append("fileshakey");
      ((StringBuilder)localObject3).append(packageName);
      localObject3 = ((StringBuilder)localObject3).toString();
      boolean bool = TextUtils.equals(((StringBuilder)localObject1).toString(), f.a().c((String)localObject2)) ^ true;
      if (bool) {
        f.a().a((String)localObject2, ((StringBuilder)localObject1).toString());
      }
      localObject2 = f.a().c((String)localObject3);
      localObject1 = localObject2;
      if ((TextUtils.isEmpty((CharSequence)localObject2)) || (bool))
      {
        localObject2 = com.huawei.updatesdk.org.android.asm.a.read(applicationInfo.sourceDir, "SHA-256");
        localObject1 = localObject2;
        f.a().a((String)localObject3, (String)localObject2);
      }
      localObject2 = new Item();
      ((Item)localObject2).setTitle((String)localObject1);
      ((Item)localObject2).setId(lastUpdateTime);
      ((Item)localObject2).a(versionCode);
      context.put(packageName, localObject2);
      return localObject1;
    }
    return null;
  }
}
