package com.huawei.hms.utils;

import android.content.Context;
import com.huawei.hms.support.model.HMSLog;
import java.io.File;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;

public abstract class FileUtil
{
  public static ScheduledExecutorService EXECUTORS = ;
  public static final String LOCAL_REPORT_FILE = "hms/HwMobileServiceReport.txt";
  public static final String LOCAL_REPORT_FILE_CONFIG = "hms/config.txt";
  public static final long LOCAL_REPORT_FILE_MAX_SIZE = 10240L;
  public static boolean hasEvents;
  
  public FileUtil() {}
  
  public static boolean verifyHash(String paramString, File paramFile)
  {
    paramFile = SHA256.digest(paramFile);
    return (paramFile != null) && (Hex.encodeHexString(paramFile, true).equalsIgnoreCase(paramString));
  }
  
  public static void writeFile(File paramFile, String paramString, final long paramLong)
  {
    EXECUTORS.execute(new a(paramFile, paramLong, paramString));
  }
  
  public static void writeFileReport(Context paramContext, File paramFile1, File paramFile2, String paramString, long paramLong, int paramInt)
  {
    if ((paramFile1 != null) && (paramFile1.isFile()) && (paramFile1.exists()))
    {
      if (!hasEvents)
      {
        if ((paramFile2 != null) && (paramFile2.exists()) && (!paramFile2.delete())) {
          HMSLog.toString("FileUtil", "file delete failed.");
        }
        hasEvents = true;
      }
      paramContext = new StringBuilder();
      paramContext.append(paramString);
      paramContext.append("|");
      paramContext.append(paramLong);
      paramContext.append("|");
      paramContext.append(paramInt);
      writeFile(paramFile2, paramContext.toString(), 10240L);
    }
  }
  
  public static final class a
    implements Runnable
  {
    public a(File paramFile, long paramLong, String paramString) {}
    
    /* Error */
    public void run()
    {
      // Byte code:
      //   0: aload_0
      //   1: getfield 21	com/huawei/hms/utils/FileUtil$a:val$file	Ljava/io/File;
      //   4: astore 6
      //   6: aload 6
      //   8: ifnonnull +11 -> 19
      //   11: ldc 36
      //   13: ldc 38
      //   15: invokestatic 44	com/huawei/hms/support/model/HMSLog:toString	(Ljava/lang/String;Ljava/lang/String;)V
      //   18: return
      //   19: aload 6
      //   21: invokevirtual 50	java/io/File:getParentFile	()Ljava/io/File;
      //   24: astore 6
      //   26: aload 6
      //   28: ifnull +305 -> 333
      //   31: aload 6
      //   33: invokevirtual 54	java/io/File:mkdirs	()Z
      //   36: ifne +14 -> 50
      //   39: aload 6
      //   41: invokevirtual 57	java/io/File:isDirectory	()Z
      //   44: ifne +6 -> 50
      //   47: goto +286 -> 333
      //   50: aconst_null
      //   51: astore 8
      //   53: aconst_null
      //   54: astore 6
      //   56: aload_0
      //   57: getfield 21	com/huawei/hms/utils/FileUtil$a:val$file	Ljava/io/File;
      //   60: astore 9
      //   62: aload 6
      //   64: astore 7
      //   66: aload 9
      //   68: invokevirtual 61	java/io/File:length	()J
      //   71: lstore_1
      //   72: aload_0
      //   73: getfield 23	com/huawei/hms/utils/FileUtil$a:val$bytes	J
      //   76: lstore_3
      //   77: lload_1
      //   78: lload_3
      //   79: lcmp
      //   80: ifle +80 -> 160
      //   83: aload_0
      //   84: getfield 21	com/huawei/hms/utils/FileUtil$a:val$file	Ljava/io/File;
      //   87: astore 9
      //   89: aload 6
      //   91: astore 7
      //   93: aload 9
      //   95: invokevirtual 65	java/io/File:getCanonicalPath	()Ljava/lang/String;
      //   98: astore 9
      //   100: aload_0
      //   101: getfield 21	com/huawei/hms/utils/FileUtil$a:val$file	Ljava/io/File;
      //   104: astore 10
      //   106: aload 6
      //   108: astore 7
      //   110: aload 10
      //   112: invokevirtual 68	java/io/File:delete	()Z
      //   115: istore 5
      //   117: iload 5
      //   119: ifne +14 -> 133
      //   122: aload 6
      //   124: astore 7
      //   126: ldc 36
      //   128: ldc 70
      //   130: invokestatic 44	com/huawei/hms/support/model/HMSLog:toString	(Ljava/lang/String;Ljava/lang/String;)V
      //   133: aload 6
      //   135: astore 7
      //   137: new 72	java/io/RandomAccessFile
      //   140: dup
      //   141: new 46	java/io/File
      //   144: dup
      //   145: aload 9
      //   147: invokespecial 75	java/io/File:<init>	(Ljava/lang/String;)V
      //   150: ldc 77
      //   152: invokespecial 80	java/io/RandomAccessFile:<init>	(Ljava/io/File;Ljava/lang/String;)V
      //   155: astore 6
      //   157: goto +32 -> 189
      //   160: aload_0
      //   161: getfield 21	com/huawei/hms/utils/FileUtil$a:val$file	Ljava/io/File;
      //   164: astore 9
      //   166: aload 6
      //   168: astore 7
      //   170: new 72	java/io/RandomAccessFile
      //   173: dup
      //   174: aload 9
      //   176: ldc 77
      //   178: invokespecial 80	java/io/RandomAccessFile:<init>	(Ljava/io/File;Ljava/lang/String;)V
      //   181: astore 6
      //   183: aload 6
      //   185: lload_1
      //   186: invokevirtual 84	java/io/RandomAccessFile:seek	(J)V
      //   189: aload 6
      //   191: astore 7
      //   193: aload 6
      //   195: astore 8
      //   197: new 86	java/lang/StringBuilder
      //   200: dup
      //   201: invokespecial 87	java/lang/StringBuilder:<init>	()V
      //   204: astore 9
      //   206: aload_0
      //   207: getfield 25	com/huawei/hms/utils/FileUtil$a:val$version	Ljava/lang/String;
      //   210: astore 10
      //   212: aload 6
      //   214: astore 7
      //   216: aload 6
      //   218: astore 8
      //   220: aload 9
      //   222: aload 10
      //   224: invokevirtual 91	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
      //   227: pop
      //   228: aload 6
      //   230: astore 7
      //   232: aload 6
      //   234: astore 8
      //   236: aload 9
      //   238: ldc 93
      //   240: invokestatic 99	java/lang/System:getProperty	(Ljava/lang/String;)Ljava/lang/String;
      //   243: invokevirtual 91	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
      //   246: pop
      //   247: aload 6
      //   249: astore 7
      //   251: aload 6
      //   253: astore 8
      //   255: aload 6
      //   257: aload 9
      //   259: invokevirtual 101	java/lang/StringBuilder:toString	()Ljava/lang/String;
      //   262: invokevirtual 104	java/io/RandomAccessFile:writeBytes	(Ljava/lang/String;)V
      //   265: goto +52 -> 317
      //   268: astore 8
      //   270: aload 7
      //   272: astore 6
      //   274: aload 8
      //   276: astore 7
      //   278: goto +26 -> 304
      //   281: astore 7
      //   283: aload 6
      //   285: astore 8
      //   287: aload 7
      //   289: astore 6
      //   291: goto +34 -> 325
      //   294: astore 7
      //   296: goto +8 -> 304
      //   299: astore 6
      //   301: goto +24 -> 325
      //   304: aload 6
      //   306: astore 8
      //   308: ldc 36
      //   310: ldc 106
      //   312: aload 7
      //   314: invokestatic 110	com/huawei/hms/support/model/HMSLog:l	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
      //   317: aload 6
      //   319: invokestatic 116	com/huawei/hms/utils/IOUtils:closeQuietly	(Ljava/io/Closeable;)V
      //   322: return
      //   323: astore 6
      //   325: aload 8
      //   327: invokestatic 116	com/huawei/hms/utils/IOUtils:closeQuietly	(Ljava/io/Closeable;)V
      //   330: aload 6
      //   332: athrow
      //   333: ldc 36
      //   335: ldc 118
      //   337: invokestatic 44	com/huawei/hms/support/model/HMSLog:toString	(Ljava/lang/String;Ljava/lang/String;)V
      //   340: return
      // Local variable table:
      //   start	length	slot	name	signature
      //   0	341	0	this	a
      //   71	115	1	l1	long
      //   76	3	3	l2	long
      //   115	3	5	bool	boolean
      //   4	286	6	localObject1	Object
      //   299	19	6	localThrowable1	Throwable
      //   323	8	6	localThrowable2	Throwable
      //   64	213	7	localObject2	Object
      //   281	7	7	localThrowable3	Throwable
      //   294	19	7	localIOException1	java.io.IOException
      //   51	203	8	localObject3	Object
      //   268	7	8	localIOException2	java.io.IOException
      //   285	41	8	localObject4	Object
      //   60	198	9	localObject5	Object
      //   104	119	10	localObject6	Object
      // Exception table:
      //   from	to	target	type
      //   66	72	268	java/io/IOException
      //   93	100	268	java/io/IOException
      //   110	117	268	java/io/IOException
      //   126	133	268	java/io/IOException
      //   137	157	268	java/io/IOException
      //   170	183	268	java/io/IOException
      //   197	206	268	java/io/IOException
      //   220	228	268	java/io/IOException
      //   236	247	268	java/io/IOException
      //   255	265	268	java/io/IOException
      //   183	189	281	java/lang/Throwable
      //   183	189	294	java/io/IOException
      //   56	62	299	java/lang/Throwable
      //   66	72	299	java/lang/Throwable
      //   72	77	299	java/lang/Throwable
      //   83	89	299	java/lang/Throwable
      //   93	100	299	java/lang/Throwable
      //   110	117	299	java/lang/Throwable
      //   126	133	299	java/lang/Throwable
      //   137	157	299	java/lang/Throwable
      //   170	183	299	java/lang/Throwable
      //   197	206	323	java/lang/Throwable
      //   220	228	323	java/lang/Throwable
      //   236	247	323	java/lang/Throwable
      //   255	265	323	java/lang/Throwable
      //   308	317	323	java/lang/Throwable
    }
  }
}
