package com.huawei.hms.logs.identifier;

import XI.a.a.a.a.a;
import android.content.Context;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.os.Build.VERSION;
import android.provider.Settings.Global;
import android.text.TextUtils;
import androidx.annotation.Keep;
import java.util.List;
import java.util.concurrent.ThreadPoolExecutor;

@Keep
public class AdvertisingIdClient
{
  private static final String SETTINGS_AD_ID = "pps_oaid";
  private static final String SETTINGS_TRACK_LIMIT = "pps_track_limit";
  
  public AdvertisingIdClient() {}
  
  public static Info getAdvertisingIdInfo(Context paramContext)
  {
    if (Build.VERSION.SDK_INT >= 24) {}
    try
    {
      Object localObject = Settings.Global.getString(paramContext.getContentResolver(), "pps_oaid");
      String str = Settings.Global.getString(paramContext.getContentResolver(), "pps_track_limit");
      boolean bool = TextUtils.isEmpty((CharSequence)localObject);
      if (!bool)
      {
        bool = TextUtils.isEmpty(str);
        if (!bool)
        {
          updateAdvertisingIdInfo(paramContext);
          localObject = new Info((String)localObject, Boolean.valueOf(str).booleanValue());
          return localObject;
        }
      }
    }
    catch (Throwable localThrowable)
    {
      for (;;) {}
    }
    return requestAdvertisingIdInfo(paramContext);
  }
  
  public static boolean isAdvertisingIdAvailable(Context paramContext)
  {
    try
    {
      paramContext = paramContext.getPackageManager();
      paramContext.getPackageInfo("com.huawei.hwid", 0);
      Intent localIntent = new Intent("com.uodis.opendevice.OPENIDS_SERVICE");
      localIntent.setPackage("com.huawei.hwid");
      boolean bool = paramContext.queryIntentServices(localIntent, 0).isEmpty();
      return bool ^ true;
    }
    catch (PackageManager.NameNotFoundException paramContext)
    {
      return false;
    }
    catch (Exception paramContext) {}
    return false;
  }
  
  /* Error */
  private static Info requestAdvertisingIdInfo(Context paramContext)
  {
    // Byte code:
    //   0: aload_0
    //   1: invokevirtual 78	android/content/Context:getPackageManager	()Landroid/content/pm/PackageManager;
    //   4: astore 4
    //   6: iconst_0
    //   7: istore_2
    //   8: aload 4
    //   10: ldc 80
    //   12: iconst_0
    //   13: invokevirtual 86	android/content/pm/PackageManager:getPackageInfo	(Ljava/lang/String;I)Landroid/content/pm/PackageInfo;
    //   16: pop
    //   17: new 111	XI/a/a/a/a/b
    //   20: dup
    //   21: invokespecial 112	XI/a/a/a/a/b:<init>	()V
    //   24: astore 4
    //   26: new 88	android/content/Intent
    //   29: dup
    //   30: ldc 90
    //   32: invokespecial 93	android/content/Intent:<init>	(Ljava/lang/String;)V
    //   35: astore 5
    //   37: aload 5
    //   39: ldc 80
    //   41: invokevirtual 97	android/content/Intent:setPackage	(Ljava/lang/String;)Landroid/content/Intent;
    //   44: pop
    //   45: aload_0
    //   46: aload 5
    //   48: aload 4
    //   50: checkcast 114	android/content/ServiceConnection
    //   53: iconst_1
    //   54: invokevirtual 118	android/content/Context:bindService	(Landroid/content/Intent;Landroid/content/ServiceConnection;I)Z
    //   57: ifeq +322 -> 379
    //   60: aload 4
    //   62: getfield 122	XI/a/a/a/a/b:b	Z
    //   65: istore_3
    //   66: iload_3
    //   67: ifne +229 -> 296
    //   70: aload 4
    //   72: iconst_1
    //   73: putfield 122	XI/a/a/a/a/b:b	Z
    //   76: aload 4
    //   78: getfield 126	XI/a/a/a/a/b:c	Ljava/util/concurrent/LinkedBlockingQueue;
    //   81: astore 5
    //   83: aload 5
    //   85: invokevirtual 132	java/util/concurrent/LinkedBlockingQueue:take	()Ljava/lang/Object;
    //   88: astore 5
    //   90: aload 5
    //   92: checkcast 134	android/os/IBinder
    //   95: astore 5
    //   97: invokestatic 140	android/os/Parcel:obtain	()Landroid/os/Parcel;
    //   100: astore 7
    //   102: invokestatic 140	android/os/Parcel:obtain	()Landroid/os/Parcel;
    //   105: astore 8
    //   107: aload 7
    //   109: ldc -114
    //   111: invokevirtual 145	android/os/Parcel:writeInterfaceToken	(Ljava/lang/String;)V
    //   114: aload 5
    //   116: iconst_1
    //   117: aload 7
    //   119: aload 8
    //   121: iconst_0
    //   122: invokeinterface 149 5 0
    //   127: pop
    //   128: aload 8
    //   130: invokevirtual 152	android/os/Parcel:readException	()V
    //   133: aload 8
    //   135: invokevirtual 156	android/os/Parcel:readString	()Ljava/lang/String;
    //   138: astore 6
    //   140: aload 8
    //   142: invokevirtual 159	android/os/Parcel:recycle	()V
    //   145: aload 7
    //   147: invokevirtual 159	android/os/Parcel:recycle	()V
    //   150: invokestatic 140	android/os/Parcel:obtain	()Landroid/os/Parcel;
    //   153: astore 7
    //   155: invokestatic 140	android/os/Parcel:obtain	()Landroid/os/Parcel;
    //   158: astore 8
    //   160: aload 7
    //   162: ldc -114
    //   164: invokevirtual 145	android/os/Parcel:writeInterfaceToken	(Ljava/lang/String;)V
    //   167: aload 5
    //   169: iconst_2
    //   170: aload 7
    //   172: aload 8
    //   174: iconst_0
    //   175: invokeinterface 149 5 0
    //   180: pop
    //   181: aload 8
    //   183: invokevirtual 152	android/os/Parcel:readException	()V
    //   186: aload 8
    //   188: invokevirtual 163	android/os/Parcel:readInt	()I
    //   191: istore_1
    //   192: iload_1
    //   193: ifeq +5 -> 198
    //   196: iconst_1
    //   197: istore_2
    //   198: aload 8
    //   200: invokevirtual 159	android/os/Parcel:recycle	()V
    //   203: aload 7
    //   205: invokevirtual 159	android/os/Parcel:recycle	()V
    //   208: new 6	com/huawei/hms/logs/identifier/AdvertisingIdClient$Info
    //   211: dup
    //   212: aload 6
    //   214: iload_2
    //   215: invokespecial 68	com/huawei/hms/logs/identifier/AdvertisingIdClient$Info:<init>	(Ljava/lang/String;Z)V
    //   218: astore 5
    //   220: aload_0
    //   221: aload 4
    //   223: checkcast 114	android/content/ServiceConnection
    //   226: invokevirtual 167	android/content/Context:unbindService	(Landroid/content/ServiceConnection;)V
    //   229: aload 5
    //   231: areturn
    //   232: astore_0
    //   233: new 169	java/lang/StringBuilder
    //   236: dup
    //   237: ldc -85
    //   239: invokespecial 172	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   242: astore 4
    //   244: aload 4
    //   246: aload_0
    //   247: invokevirtual 176	java/lang/Object:getClass	()Ljava/lang/Class;
    //   250: invokevirtual 181	java/lang/Class:getSimpleName	()Ljava/lang/String;
    //   253: invokevirtual 185	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   256: pop
    //   257: aload 4
    //   259: invokevirtual 188	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   262: pop
    //   263: aload 5
    //   265: areturn
    //   266: astore 5
    //   268: aload 8
    //   270: invokevirtual 159	android/os/Parcel:recycle	()V
    //   273: aload 7
    //   275: invokevirtual 159	android/os/Parcel:recycle	()V
    //   278: aload 5
    //   280: athrow
    //   281: astore 5
    //   283: aload 8
    //   285: invokevirtual 159	android/os/Parcel:recycle	()V
    //   288: aload 7
    //   290: invokevirtual 159	android/os/Parcel:recycle	()V
    //   293: aload 5
    //   295: athrow
    //   296: new 190	java/lang/IllegalStateException
    //   299: dup
    //   300: invokespecial 191	java/lang/IllegalStateException:<init>	()V
    //   303: astore 5
    //   305: aload 5
    //   307: athrow
    //   308: astore 5
    //   310: goto +23 -> 333
    //   313: new 193	java/io/IOException
    //   316: dup
    //   317: ldc -61
    //   319: invokespecial 196	java/io/IOException:<init>	(Ljava/lang/String;)V
    //   322: athrow
    //   323: new 193	java/io/IOException
    //   326: dup
    //   327: ldc -58
    //   329: invokespecial 196	java/io/IOException:<init>	(Ljava/lang/String;)V
    //   332: athrow
    //   333: aload_0
    //   334: aload 4
    //   336: checkcast 114	android/content/ServiceConnection
    //   339: invokevirtual 167	android/content/Context:unbindService	(Landroid/content/ServiceConnection;)V
    //   342: goto +34 -> 376
    //   345: astore_0
    //   346: new 169	java/lang/StringBuilder
    //   349: dup
    //   350: ldc -85
    //   352: invokespecial 172	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   355: astore 4
    //   357: aload 4
    //   359: aload_0
    //   360: invokevirtual 176	java/lang/Object:getClass	()Ljava/lang/Class;
    //   363: invokevirtual 181	java/lang/Class:getSimpleName	()Ljava/lang/String;
    //   366: invokevirtual 185	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   369: pop
    //   370: aload 4
    //   372: invokevirtual 188	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   375: pop
    //   376: aload 5
    //   378: athrow
    //   379: new 193	java/io/IOException
    //   382: dup
    //   383: ldc -56
    //   385: invokespecial 196	java/io/IOException:<init>	(Ljava/lang/String;)V
    //   388: athrow
    //   389: new 193	java/io/IOException
    //   392: dup
    //   393: ldc -54
    //   395: invokespecial 196	java/io/IOException:<init>	(Ljava/lang/String;)V
    //   398: athrow
    //   399: astore_0
    //   400: goto -11 -> 389
    //   403: astore 5
    //   405: goto -82 -> 323
    //   408: astore 5
    //   410: goto -97 -> 313
    //   413: astore 5
    //   415: goto -92 -> 323
    //   418: astore 5
    //   420: goto -107 -> 313
    //   423: astore 5
    //   425: goto -102 -> 323
    //   428: astore 5
    //   430: goto -117 -> 313
    //   433: astore 5
    //   435: goto -112 -> 323
    //   438: astore 5
    //   440: goto -127 -> 313
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	443	0	paramContext	Context
    //   191	2	1	i	int
    //   7	208	2	bool1	boolean
    //   65	2	3	bool2	boolean
    //   4	367	4	localObject1	Object
    //   35	229	5	localObject2	Object
    //   266	13	5	localThrowable1	Throwable
    //   281	13	5	localThrowable2	Throwable
    //   303	3	5	localIllegalStateException	IllegalStateException
    //   308	69	5	localThrowable3	Throwable
    //   403	1	5	localInterruptedException1	InterruptedException
    //   408	1	5	localRemoteException1	android.os.RemoteException
    //   413	1	5	localInterruptedException2	InterruptedException
    //   418	1	5	localRemoteException2	android.os.RemoteException
    //   423	1	5	localInterruptedException3	InterruptedException
    //   428	1	5	localRemoteException3	android.os.RemoteException
    //   433	1	5	localInterruptedException4	InterruptedException
    //   438	1	5	localRemoteException4	android.os.RemoteException
    //   138	75	6	str	String
    //   100	189	7	localParcel1	android.os.Parcel
    //   105	179	8	localParcel2	android.os.Parcel
    // Exception table:
    //   from	to	target	type
    //   220	229	232	java/lang/Throwable
    //   160	192	266	java/lang/Throwable
    //   107	140	281	java/lang/Throwable
    //   60	66	308	java/lang/Throwable
    //   70	83	308	java/lang/Throwable
    //   83	90	308	java/lang/Throwable
    //   90	97	308	java/lang/Throwable
    //   97	107	308	java/lang/Throwable
    //   140	160	308	java/lang/Throwable
    //   198	220	308	java/lang/Throwable
    //   268	281	308	java/lang/Throwable
    //   283	296	308	java/lang/Throwable
    //   296	305	308	java/lang/Throwable
    //   305	308	308	java/lang/Throwable
    //   313	323	308	java/lang/Throwable
    //   323	333	308	java/lang/Throwable
    //   333	342	345	java/lang/Throwable
    //   0	6	399	android/content/pm/PackageManager$NameNotFoundException
    //   8	17	399	android/content/pm/PackageManager$NameNotFoundException
    //   83	90	403	java/lang/InterruptedException
    //   97	107	403	java/lang/InterruptedException
    //   83	90	408	android/os/RemoteException
    //   97	107	408	android/os/RemoteException
    //   140	160	413	java/lang/InterruptedException
    //   140	160	418	android/os/RemoteException
    //   198	220	423	java/lang/InterruptedException
    //   198	220	428	android/os/RemoteException
    //   268	281	433	java/lang/InterruptedException
    //   283	296	433	java/lang/InterruptedException
    //   296	305	433	java/lang/InterruptedException
    //   268	281	438	android/os/RemoteException
    //   283	296	438	android/os/RemoteException
    //   296	305	438	android/os/RemoteException
  }
  
  private static void updateAdvertisingIdInfo(Context paramContext)
  {
    a.a.execute(new AdvertisingIdClient.XI(paramContext));
  }
  
  public static boolean verifyAdId(Context paramContext, String paramString, boolean paramBoolean)
  {
    try
    {
      paramContext = requestAdvertisingIdInfo(paramContext);
      if (paramContext != null)
      {
        boolean bool = TextUtils.equals(paramString, paramContext.getId());
        if (!bool) {
          break label50;
        }
        bool = paramContext.isLimitAdTrackingEnabled();
        if (paramBoolean != bool) {
          break label50;
        }
        return true;
      }
      return false;
    }
    catch (Throwable paramContext)
    {
      for (;;) {}
    }
    throw new AdIdVerifyException("Something wrong with verification, please try later.");
    label50:
    return false;
  }
  
  @Keep
  public final class Info
  {
    private final boolean limitAdTrackingEnabled;
    
    public Info(boolean paramBoolean)
    {
      limitAdTrackingEnabled = paramBoolean;
    }
    
    public final String getId()
    {
      return AdvertisingIdClient.this;
    }
    
    public final boolean isLimitAdTrackingEnabled()
    {
      return limitAdTrackingEnabled;
    }
  }
}
