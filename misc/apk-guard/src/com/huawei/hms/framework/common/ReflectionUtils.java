package com.huawei.hms.framework.common;

import android.text.TextUtils;
import java.lang.reflect.AccessibleObject;
import java.lang.reflect.Field;
import java.lang.reflect.Method;

class ReflectionUtils
{
  private static final String TAG = "ReflectionUtils";
  
  ReflectionUtils() {}
  
  public static Class getClass(String paramString)
  {
    if (TextUtils.isEmpty(paramString)) {
      return null;
    }
    if ((!"com.huawei.android.os.BuildEx$VERSION".equals(paramString)) && (!"com.huawei.android.immersion.ImmersionStyle".equals(paramString))) {
      return null;
    }
    try
    {
      paramString = Class.forName(paramString);
      return paramString;
    }
    catch (ClassNotFoundException paramString)
    {
      for (;;) {}
    }
    Logger.append("ReflectionUtils", "ClassNotFoundException occur in method ReflectionUtils.getClass()");
    return null;
  }
  
  private static Method getMethod(Class paramClass, String paramString, Class... paramVarArgs)
  {
    if ((paramClass != null) && (paramString != null))
    {
      if ((!"getPrimaryColor".equals(paramString)) && (!"getSuggestionForgroundColorStyle".equals(paramString))) {
        return null;
      }
      try
      {
        paramClass = paramClass.getDeclaredMethod(paramString, paramVarArgs);
        return paramClass;
      }
      catch (NoSuchMethodException paramClass)
      {
        paramString = "NoSuchMethodException:";
      }
      catch (SecurityException paramClass)
      {
        paramString = "SecurityException:";
      }
      Logger.e("ReflectionUtils", paramString, paramClass);
      return null;
    }
    Logger.append("ReflectionUtils", "targetClass is  null pr name is null:");
    return null;
  }
  
  public static Object getStaticFieldObj(String paramString1, String paramString2)
  {
    Class localClass = getClass(paramString1);
    if (localClass != null)
    {
      if (TextUtils.isEmpty(paramString2)) {
        return null;
      }
      if ("com.huawei.android.os.BuildEx$VERSION".equals(paramString1))
      {
        if (!"EMUI_SDK_INT".equals(paramString2)) {
          return null;
        }
        try
        {
          paramString1 = localClass.getDeclaredField(paramString2);
          AccessibleObject.setAccessible(new Field[] { paramString1 }, true);
          paramString1 = paramString1.get(localClass);
          return paramString1;
        }
        catch (SecurityException paramString1)
        {
          paramString2 = "not security int method getStaticFieldObj,SecurityException:";
        }
        catch (NoSuchFieldException paramString1)
        {
          paramString2 = "Exception in getFieldObj :: NoSuchFieldException:";
        }
        catch (IllegalArgumentException paramString1)
        {
          paramString2 = "Exception in getFieldObj :: IllegalArgumentException:";
        }
        catch (IllegalAccessException paramString1)
        {
          paramString2 = "Exception in getFieldObj :: IllegalAccessException:";
        }
        Logger.e("ReflectionUtils", paramString2, paramString1);
      }
    }
    return null;
  }
  
  private static Object invoke(Object paramObject, Method paramMethod, Object... paramVarArgs)
  {
    if (paramMethod == null) {
      return null;
    }
    try
    {
      paramObject = paramMethod.invoke(paramObject, paramVarArgs);
      return paramObject;
    }
    catch (Exception paramObject)
    {
      paramMethod = "Exception in invoke:";
    }
    catch (RuntimeException paramObject)
    {
      paramMethod = "RuntimeException in invoke:";
    }
    Logger.e("ReflectionUtils", paramMethod, paramObject);
    return null;
  }
  
  public static Object invokeStaticMethod(String paramString1, String paramString2, Class[] paramArrayOfClass, Object... paramVarArgs)
  {
    paramString1 = getMethod(getClass(paramString1), paramString2, paramArrayOfClass);
    if (paramString1 == null) {
      return null;
    }
    return invoke(null, paramString1, paramVarArgs);
  }
  
  public static Object invokeStaticMethod(String paramString1, String paramString2, Object... paramVarArgs)
  {
    if (paramVarArgs != null)
    {
      int j = paramVarArgs.length;
      Class[] arrayOfClass2 = new Class[j];
      int i = 0;
      for (;;)
      {
        arrayOfClass1 = arrayOfClass2;
        if (i >= j) {
          break;
        }
        setClassType(arrayOfClass2, paramVarArgs[i], i);
        i += 1;
      }
    }
    Class[] arrayOfClass1 = null;
    paramString1 = getMethod(getClass(paramString1), paramString2, arrayOfClass1);
    if (paramString1 == null) {
      return null;
    }
    return invoke(null, paramString1, paramVarArgs);
  }
  
  private static void setClassType(Class[] paramArrayOfClass, Object paramObject, int paramInt)
  {
    if ((paramObject instanceof Integer))
    {
      paramArrayOfClass[paramInt] = Integer.TYPE;
      return;
    }
    if ((paramObject instanceof Long))
    {
      paramArrayOfClass[paramInt] = Long.TYPE;
      return;
    }
    if ((paramObject instanceof Double))
    {
      paramArrayOfClass[paramInt] = Double.TYPE;
      return;
    }
    if ((paramObject instanceof Float))
    {
      paramArrayOfClass[paramInt] = Float.TYPE;
      return;
    }
    if ((paramObject instanceof Boolean))
    {
      paramArrayOfClass[paramInt] = Boolean.TYPE;
      return;
    }
    if ((paramObject instanceof Character))
    {
      paramArrayOfClass[paramInt] = Character.TYPE;
      return;
    }
    if ((paramObject instanceof Byte))
    {
      paramArrayOfClass[paramInt] = Byte.TYPE;
      return;
    }
    if ((paramObject instanceof Void))
    {
      paramArrayOfClass[paramInt] = Void.TYPE;
      return;
    }
    if ((paramObject instanceof Short))
    {
      paramArrayOfClass[paramInt] = Short.TYPE;
      return;
    }
    paramArrayOfClass[paramInt] = paramObject.getClass();
  }
}
