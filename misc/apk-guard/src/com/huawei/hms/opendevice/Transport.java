package com.huawei.hms.opendevice;

import android.content.Context;
import android.text.TextUtils;
import com.huawei.hms.support.model.HMSLog;
import com.huawei.secure.android.common.testing.SecureSSLSocketFactory;
import com.jd.sentry.performance.network.instrumentation.urlconnection.ShooterUrlConnectionInstrumentation;
import java.io.IOException;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLEncoder;
import java.security.GeneralSecurityException;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.util.Iterator;
import java.util.Map;
import java.util.Map.Entry;
import java.util.Set;
import javax.net.ssl.HttpsURLConnection;

public abstract class Transport
{
  /* Error */
  public static String a(Context paramContext, String paramString1, String paramString2, Map paramMap)
  {
    // Byte code:
    //   0: aload_2
    //   1: ifnull +799 -> 800
    //   4: aload_1
    //   5: invokestatic 22	android/text/TextUtils:isEmpty	(Ljava/lang/CharSequence;)Z
    //   8: ifne +792 -> 800
    //   11: aload_2
    //   12: invokestatic 22	android/text/TextUtils:isEmpty	(Ljava/lang/CharSequence;)Z
    //   15: ifeq +5 -> 20
    //   18: aconst_null
    //   19: areturn
    //   20: iconst_m1
    //   21: istore 4
    //   23: getstatic 26	com/huawei/hms/opendevice/Handle:RIGHT	Lcom/huawei/hms/opendevice/Handle;
    //   26: astore 6
    //   28: aload_0
    //   29: aload_1
    //   30: aload_3
    //   31: aload 6
    //   33: invokevirtual 30	com/huawei/hms/opendevice/Handle:getName	()Ljava/lang/String;
    //   36: invokestatic 34	com/huawei/hms/opendevice/Transport:upload	(Landroid/content/Context;Ljava/lang/String;Ljava/util/Map;Ljava/lang/String;)Ljava/net/HttpURLConnection;
    //   39: astore 10
    //   41: aload 10
    //   43: astore_0
    //   44: aload 10
    //   46: ifnonnull +29 -> 75
    //   49: aconst_null
    //   50: invokestatic 40	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/OutputStream;)V
    //   53: aconst_null
    //   54: invokestatic 43	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/InputStream;)V
    //   57: aconst_null
    //   58: invokestatic 43	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/InputStream;)V
    //   61: aload 10
    //   63: invokestatic 48	com/huawei/hms/opendevice/Attribute:a	(Ljava/net/HttpURLConnection;)V
    //   66: ldc 50
    //   68: ldc 52
    //   70: invokestatic 58	com/huawei/hms/support/model/HMSLog:append	(Ljava/lang/String;Ljava/lang/String;)V
    //   73: aconst_null
    //   74: areturn
    //   75: new 60	java/io/BufferedOutputStream
    //   78: dup
    //   79: aload 10
    //   81: invokevirtual 66	java/net/HttpURLConnection:getOutputStream	()Ljava/io/OutputStream;
    //   84: invokespecial 69	java/io/BufferedOutputStream:<init>	(Ljava/io/OutputStream;)V
    //   87: astore_1
    //   88: aload_1
    //   89: aload_2
    //   90: ldc 71
    //   92: invokevirtual 77	java/lang/String:getBytes	(Ljava/lang/String;)[B
    //   95: invokevirtual 83	java/io/FilterOutputStream:write	([B)V
    //   98: aload_1
    //   99: invokevirtual 87	java/io/BufferedOutputStream:flush	()V
    //   102: aload 10
    //   104: invokevirtual 91	java/net/HttpURLConnection:getResponseCode	()I
    //   107: istore 5
    //   109: iload 5
    //   111: istore 4
    //   113: new 93	java/lang/StringBuilder
    //   116: dup
    //   117: invokespecial 95	java/lang/StringBuilder:<init>	()V
    //   120: astore_2
    //   121: aload_2
    //   122: ldc 97
    //   124: invokevirtual 100	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   127: pop
    //   128: aload_2
    //   129: iload 5
    //   131: invokevirtual 103	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   134: pop
    //   135: ldc 50
    //   137: aload_2
    //   138: invokevirtual 106	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   141: invokestatic 109	com/huawei/hms/support/model/HMSLog:d	(Ljava/lang/String;Ljava/lang/String;)V
    //   144: iload 5
    //   146: sipush 400
    //   149: if_icmplt +12 -> 161
    //   152: aload 10
    //   154: invokevirtual 113	java/net/HttpURLConnection:getErrorStream	()Ljava/io/InputStream;
    //   157: astore_2
    //   158: goto +9 -> 167
    //   161: aload 10
    //   163: invokevirtual 116	java/net/HttpURLConnection:getInputStream	()Ljava/io/InputStream;
    //   166: astore_2
    //   167: new 118	java/io/BufferedInputStream
    //   170: dup
    //   171: aload_2
    //   172: invokespecial 120	java/io/BufferedInputStream:<init>	(Ljava/io/InputStream;)V
    //   175: astore 9
    //   177: aload_0
    //   178: astore_3
    //   179: aload_1
    //   180: astore 6
    //   182: aload_2
    //   183: astore 7
    //   185: aload 9
    //   187: astore 8
    //   189: aload 9
    //   191: invokestatic 123	com/huawei/hms/opendevice/Attribute:toString	(Ljava/io/InputStream;)Ljava/lang/String;
    //   194: astore 11
    //   196: aload_1
    //   197: invokestatic 40	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/OutputStream;)V
    //   200: aload_2
    //   201: invokestatic 43	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/InputStream;)V
    //   204: aload 9
    //   206: invokestatic 43	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/InputStream;)V
    //   209: aload 10
    //   211: invokestatic 48	com/huawei/hms/opendevice/Attribute:a	(Ljava/net/HttpURLConnection;)V
    //   214: ldc 50
    //   216: ldc 52
    //   218: invokestatic 58	com/huawei/hms/support/model/HMSLog:append	(Ljava/lang/String;Ljava/lang/String;)V
    //   221: aload 11
    //   223: areturn
    //   224: astore 6
    //   226: aconst_null
    //   227: astore 8
    //   229: aload_0
    //   230: astore_3
    //   231: aload 6
    //   233: astore_0
    //   234: goto +438 -> 672
    //   237: aconst_null
    //   238: astore_3
    //   239: aload_0
    //   240: astore 10
    //   242: aload_3
    //   243: astore_0
    //   244: goto +122 -> 366
    //   247: aconst_null
    //   248: astore_3
    //   249: aload_0
    //   250: astore 10
    //   252: aload_3
    //   253: astore_0
    //   254: goto +207 -> 461
    //   257: aconst_null
    //   258: astore_3
    //   259: aload_0
    //   260: astore 10
    //   262: aload_3
    //   263: astore_0
    //   264: goto +292 -> 556
    //   267: astore 6
    //   269: aconst_null
    //   270: astore 8
    //   272: aconst_null
    //   273: astore_2
    //   274: aload_0
    //   275: astore_3
    //   276: aload 6
    //   278: astore_0
    //   279: goto +393 -> 672
    //   282: aload_0
    //   283: astore 10
    //   285: goto +77 -> 362
    //   288: goto +28 -> 316
    //   291: goto +39 -> 330
    //   294: astore 6
    //   296: aconst_null
    //   297: astore_2
    //   298: aconst_null
    //   299: astore 8
    //   301: aconst_null
    //   302: astore_1
    //   303: aload_0
    //   304: astore_3
    //   305: aload 6
    //   307: astore_0
    //   308: goto +364 -> 672
    //   311: goto +46 -> 357
    //   314: aconst_null
    //   315: astore_1
    //   316: aconst_null
    //   317: astore_2
    //   318: aconst_null
    //   319: astore_3
    //   320: aload_0
    //   321: astore 10
    //   323: aload_3
    //   324: astore_0
    //   325: goto +136 -> 461
    //   328: aconst_null
    //   329: astore_1
    //   330: aconst_null
    //   331: astore_2
    //   332: aconst_null
    //   333: astore_3
    //   334: aload_0
    //   335: astore 10
    //   337: aload_3
    //   338: astore_0
    //   339: goto +217 -> 556
    //   342: astore_0
    //   343: aconst_null
    //   344: astore_1
    //   345: aconst_null
    //   346: astore_2
    //   347: aconst_null
    //   348: astore 8
    //   350: aconst_null
    //   351: astore_3
    //   352: goto +320 -> 672
    //   355: aconst_null
    //   356: astore_0
    //   357: aconst_null
    //   358: astore_1
    //   359: aload_0
    //   360: astore 10
    //   362: aconst_null
    //   363: astore_2
    //   364: aconst_null
    //   365: astore_0
    //   366: aload 10
    //   368: astore_3
    //   369: aload_1
    //   370: astore 6
    //   372: aload_2
    //   373: astore 7
    //   375: aload_0
    //   376: astore 8
    //   378: new 93	java/lang/StringBuilder
    //   381: dup
    //   382: invokespecial 95	java/lang/StringBuilder:<init>	()V
    //   385: astore 9
    //   387: aload 10
    //   389: astore_3
    //   390: aload_1
    //   391: astore 6
    //   393: aload_2
    //   394: astore 7
    //   396: aload_0
    //   397: astore 8
    //   399: aload 9
    //   401: ldc 125
    //   403: invokevirtual 100	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   406: pop
    //   407: aload 10
    //   409: astore_3
    //   410: aload_1
    //   411: astore 6
    //   413: aload_2
    //   414: astore 7
    //   416: aload_0
    //   417: astore 8
    //   419: aload 9
    //   421: iload 4
    //   423: invokevirtual 103	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   426: pop
    //   427: aload 10
    //   429: astore_3
    //   430: aload_1
    //   431: astore 6
    //   433: aload_2
    //   434: astore 7
    //   436: aload_0
    //   437: astore 8
    //   439: ldc 50
    //   441: aload 9
    //   443: invokevirtual 106	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   446: invokestatic 128	com/huawei/hms/support/model/HMSLog:get	(Ljava/lang/String;Ljava/lang/String;)V
    //   449: goto +190 -> 639
    //   452: aconst_null
    //   453: astore 10
    //   455: aconst_null
    //   456: astore_1
    //   457: aconst_null
    //   458: astore_2
    //   459: aconst_null
    //   460: astore_0
    //   461: aload 10
    //   463: astore_3
    //   464: aload_1
    //   465: astore 6
    //   467: aload_2
    //   468: astore 7
    //   470: aload_0
    //   471: astore 8
    //   473: new 93	java/lang/StringBuilder
    //   476: dup
    //   477: invokespecial 95	java/lang/StringBuilder:<init>	()V
    //   480: astore 9
    //   482: aload 10
    //   484: astore_3
    //   485: aload_1
    //   486: astore 6
    //   488: aload_2
    //   489: astore 7
    //   491: aload_0
    //   492: astore 8
    //   494: aload 9
    //   496: ldc -126
    //   498: invokevirtual 100	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   501: pop
    //   502: aload 10
    //   504: astore_3
    //   505: aload_1
    //   506: astore 6
    //   508: aload_2
    //   509: astore 7
    //   511: aload_0
    //   512: astore 8
    //   514: aload 9
    //   516: iload 4
    //   518: invokevirtual 103	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   521: pop
    //   522: aload 10
    //   524: astore_3
    //   525: aload_1
    //   526: astore 6
    //   528: aload_2
    //   529: astore 7
    //   531: aload_0
    //   532: astore 8
    //   534: ldc 50
    //   536: aload 9
    //   538: invokevirtual 106	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   541: invokestatic 128	com/huawei/hms/support/model/HMSLog:get	(Ljava/lang/String;Ljava/lang/String;)V
    //   544: goto +95 -> 639
    //   547: aconst_null
    //   548: astore 10
    //   550: aconst_null
    //   551: astore_1
    //   552: aconst_null
    //   553: astore_2
    //   554: aconst_null
    //   555: astore_0
    //   556: aload 10
    //   558: astore_3
    //   559: aload_1
    //   560: astore 6
    //   562: aload_2
    //   563: astore 7
    //   565: aload_0
    //   566: astore 8
    //   568: new 93	java/lang/StringBuilder
    //   571: dup
    //   572: invokespecial 95	java/lang/StringBuilder:<init>	()V
    //   575: astore 9
    //   577: aload 10
    //   579: astore_3
    //   580: aload_1
    //   581: astore 6
    //   583: aload_2
    //   584: astore 7
    //   586: aload_0
    //   587: astore 8
    //   589: aload 9
    //   591: ldc -124
    //   593: invokevirtual 100	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   596: pop
    //   597: aload 10
    //   599: astore_3
    //   600: aload_1
    //   601: astore 6
    //   603: aload_2
    //   604: astore 7
    //   606: aload_0
    //   607: astore 8
    //   609: aload 9
    //   611: iload 4
    //   613: invokevirtual 103	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   616: pop
    //   617: aload 10
    //   619: astore_3
    //   620: aload_1
    //   621: astore 6
    //   623: aload_2
    //   624: astore 7
    //   626: aload_0
    //   627: astore 8
    //   629: ldc 50
    //   631: aload 9
    //   633: invokevirtual 106	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   636: invokestatic 128	com/huawei/hms/support/model/HMSLog:get	(Ljava/lang/String;Ljava/lang/String;)V
    //   639: aload_1
    //   640: invokestatic 40	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/OutputStream;)V
    //   643: aload_2
    //   644: invokestatic 43	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/InputStream;)V
    //   647: aload_0
    //   648: invokestatic 43	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/InputStream;)V
    //   651: aload 10
    //   653: invokestatic 48	com/huawei/hms/opendevice/Attribute:a	(Ljava/net/HttpURLConnection;)V
    //   656: ldc 50
    //   658: ldc 52
    //   660: invokestatic 58	com/huawei/hms/support/model/HMSLog:append	(Ljava/lang/String;Ljava/lang/String;)V
    //   663: aconst_null
    //   664: areturn
    //   665: astore_0
    //   666: aload 7
    //   668: astore_2
    //   669: aload 6
    //   671: astore_1
    //   672: aload_1
    //   673: invokestatic 40	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/OutputStream;)V
    //   676: aload_2
    //   677: invokestatic 43	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/InputStream;)V
    //   680: aload 8
    //   682: invokestatic 43	com/huawei/secure/android/common/util/IOUtil:closeSecure	(Ljava/io/InputStream;)V
    //   685: aload_3
    //   686: invokestatic 48	com/huawei/hms/opendevice/Attribute:a	(Ljava/net/HttpURLConnection;)V
    //   689: ldc 50
    //   691: ldc 52
    //   693: invokestatic 58	com/huawei/hms/support/model/HMSLog:append	(Ljava/lang/String;Ljava/lang/String;)V
    //   696: aload_0
    //   697: athrow
    //   698: astore_0
    //   699: goto -152 -> 547
    //   702: astore_0
    //   703: goto -251 -> 452
    //   706: astore_0
    //   707: goto -352 -> 355
    //   710: astore_1
    //   711: goto -383 -> 328
    //   714: astore_1
    //   715: goto -401 -> 314
    //   718: astore_1
    //   719: goto -408 -> 311
    //   722: astore_2
    //   723: goto -432 -> 291
    //   726: astore_2
    //   727: goto -439 -> 288
    //   730: astore_2
    //   731: goto -449 -> 282
    //   734: astore_2
    //   735: goto -444 -> 291
    //   738: astore_2
    //   739: goto -451 -> 288
    //   742: astore_2
    //   743: goto -461 -> 282
    //   746: astore_2
    //   747: goto -456 -> 291
    //   750: astore_2
    //   751: goto -463 -> 288
    //   754: astore_2
    //   755: goto -473 -> 282
    //   758: astore_3
    //   759: goto -502 -> 257
    //   762: astore_3
    //   763: goto -516 -> 247
    //   766: astore_3
    //   767: goto -530 -> 237
    //   770: astore_3
    //   771: aload_0
    //   772: astore 10
    //   774: aload 9
    //   776: astore_0
    //   777: goto -221 -> 556
    //   780: astore_3
    //   781: aload_0
    //   782: astore 10
    //   784: aload 9
    //   786: astore_0
    //   787: goto -326 -> 461
    //   790: astore_3
    //   791: aload_0
    //   792: astore 10
    //   794: aload 9
    //   796: astore_0
    //   797: goto -431 -> 366
    //   800: aconst_null
    //   801: areturn
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	802	0	paramContext	Context
    //   0	802	1	paramString1	String
    //   0	802	2	paramString2	String
    //   0	802	3	paramMap	Map
    //   21	591	4	i	int
    //   107	43	5	j	int
    //   26	155	6	localObject1	Object
    //   224	8	6	localThrowable1	Throwable
    //   267	10	6	localThrowable2	Throwable
    //   294	12	6	localThrowable3	Throwable
    //   370	300	6	str1	String
    //   183	484	7	str2	String
    //   187	494	8	localObject2	Object
    //   175	620	9	localObject3	Object
    //   39	754	10	localObject4	Object
    //   194	28	11	str3	String
    // Exception table:
    //   from	to	target	type
    //   167	177	224	java/lang/Throwable
    //   88	109	267	java/lang/Throwable
    //   113	121	267	java/lang/Throwable
    //   121	144	267	java/lang/Throwable
    //   152	158	267	java/lang/Throwable
    //   161	167	267	java/lang/Throwable
    //   75	88	294	java/lang/Throwable
    //   28	41	342	java/lang/Throwable
    //   189	196	665	java/lang/Throwable
    //   378	387	665	java/lang/Throwable
    //   399	407	665	java/lang/Throwable
    //   419	427	665	java/lang/Throwable
    //   439	449	665	java/lang/Throwable
    //   473	482	665	java/lang/Throwable
    //   494	502	665	java/lang/Throwable
    //   514	522	665	java/lang/Throwable
    //   534	544	665	java/lang/Throwable
    //   568	577	665	java/lang/Throwable
    //   589	597	665	java/lang/Throwable
    //   609	617	665	java/lang/Throwable
    //   629	639	665	java/lang/Throwable
    //   28	41	698	java/io/IOException
    //   28	41	702	java/lang/RuntimeException
    //   28	41	706	java/lang/Exception
    //   75	88	710	java/io/IOException
    //   75	88	714	java/lang/RuntimeException
    //   75	88	718	java/lang/Exception
    //   88	109	722	java/io/IOException
    //   88	109	726	java/lang/RuntimeException
    //   88	109	730	java/lang/Exception
    //   113	121	734	java/io/IOException
    //   113	121	738	java/lang/RuntimeException
    //   113	121	742	java/lang/Exception
    //   121	144	746	java/io/IOException
    //   152	158	746	java/io/IOException
    //   161	167	746	java/io/IOException
    //   121	144	750	java/lang/RuntimeException
    //   152	158	750	java/lang/RuntimeException
    //   161	167	750	java/lang/RuntimeException
    //   121	144	754	java/lang/Exception
    //   152	158	754	java/lang/Exception
    //   161	167	754	java/lang/Exception
    //   167	177	758	java/io/IOException
    //   167	177	762	java/lang/RuntimeException
    //   167	177	766	java/lang/Exception
    //   189	196	770	java/io/IOException
    //   189	196	780	java/lang/RuntimeException
    //   189	196	790	java/lang/Exception
  }
  
  public static void post(Context paramContext, HttpURLConnection paramHttpURLConnection)
    throws Exception
  {
    if ((paramHttpURLConnection instanceof HttpsURLConnection))
    {
      HttpsURLConnection localHttpsURLConnection = (HttpsURLConnection)paramHttpURLConnection;
      paramHttpURLConnection = null;
      try
      {
        paramContext = SecureSSLSocketFactory.getInstance(paramContext);
      }
      catch (NoSuchAlgorithmException paramContext)
      {
        for (;;) {}
      }
      catch (KeyStoreException paramContext)
      {
        for (;;) {}
      }
      catch (GeneralSecurityException paramContext)
      {
        for (;;) {}
      }
      catch (IOException paramContext)
      {
        for (;;) {}
      }
      catch (IllegalAccessException paramContext)
      {
        for (;;) {}
      }
      catch (IllegalArgumentException paramContext)
      {
        for (;;) {}
      }
      HMSLog.get("PushHttpClient", "Get SocketFactory Illegal Argument Exception.");
      paramContext = paramHttpURLConnection;
      break label91;
      HMSLog.get("PushHttpClient", "Get SocketFactory Illegal Access Exception.");
      paramContext = paramHttpURLConnection;
      break label91;
      HMSLog.get("PushHttpClient", "Get SocketFactory IO Exception.");
      paramContext = paramHttpURLConnection;
      break label91;
      HMSLog.get("PushHttpClient", "Get SocketFactory General Security Exception.");
      paramContext = paramHttpURLConnection;
      break label91;
      HMSLog.get("PushHttpClient", "Get SocketFactory Key Store exception.");
      paramContext = paramHttpURLConnection;
      break label91;
      HMSLog.get("PushHttpClient", "Get SocketFactory Algorithm Exception.");
      paramContext = paramHttpURLConnection;
      label91:
      if (paramContext != null)
      {
        localHttpsURLConnection.setSSLSocketFactory(paramContext);
        localHttpsURLConnection.setHostnameVerifier(SecureSSLSocketFactory.STRICT_HOSTNAME_VERIFIER);
        return;
      }
      throw new Exception("No ssl socket factory set.");
    }
  }
  
  public static HttpURLConnection upload(Context paramContext, String paramString1, Map paramMap, String paramString2)
    throws Exception
  {
    paramString1 = (HttpURLConnection)ShooterUrlConnectionInstrumentation.openConnection(new URL(paramString1).openConnection());
    post(paramContext, paramString1);
    paramString1.setRequestMethod(paramString2);
    paramString1.setConnectTimeout(15000);
    paramString1.setReadTimeout(15000);
    paramString1.setDoOutput(true);
    paramString1.setDoInput(true);
    paramString1.setRequestProperty("Content-type", "application/json; charset=UTF-8");
    paramString1.setRequestProperty("Connection", "close");
    if (paramMap != null)
    {
      if (paramMap.size() < 1) {
        return paramString1;
      }
      paramMap = paramMap.entrySet().iterator();
      while (paramMap.hasNext())
      {
        paramContext = (Map.Entry)paramMap.next();
        paramString2 = (String)paramContext.getKey();
        if ((paramString2 != null) && (!TextUtils.isEmpty(paramString2)))
        {
          if (paramContext.getValue() == null) {
            paramContext = "";
          } else {
            paramContext = (String)paramContext.getValue();
          }
          paramString1.setRequestProperty(paramString2, URLEncoder.encode(paramContext, "UTF-8"));
        }
      }
    }
    return paramString1;
  }
}
