package com.huawei.hms.opendevice;

import android.content.Context;
import android.text.TextUtils;
import com.huawei.agconnect.config.AGConnectServicesConfig;
import com.huawei.hms.support.model.HMSLog;

public final class Widget
  extends Thread
{
  public Widget(Context paramContext, String paramString) {}
  
  public void run()
  {
    if (!Label.b())
    {
      HMSLog.d("ReportAaidToken", "Not HW Phone.");
      return;
    }
    if (g.b(a)) {
      return;
    }
    String str1 = b.b(a);
    if (TextUtils.isEmpty(str1))
    {
      HMSLog.get("ReportAaidToken", "AAID is empty.");
      return;
    }
    if (!g.a(a, str1, b))
    {
      HMSLog.d("ReportAaidToken", "This time need not report.");
      return;
    }
    String str2 = AGConnectServicesConfig.fromContext(a).getString("region");
    if (TextUtils.isEmpty(str2))
    {
      HMSLog.append("ReportAaidToken", "The data storage region is empty.");
      return;
    }
    str2 = Preferences.get(a, "com.huawei.hms.opendevicesdk", "ROOT", null, str2);
    if (TextUtils.isEmpty(str2)) {
      return;
    }
    String str3 = g.b(a, str1, b);
    Context localContext = a;
    StringBuilder localStringBuilder = new StringBuilder();
    localStringBuilder.append(str2);
    localStringBuilder.append("/rest/appdata/v1/aaid/report");
    str2 = Transport.a(localContext, localStringBuilder.toString(), str3, null);
    g.a(a, str2, str1, b);
  }
}
