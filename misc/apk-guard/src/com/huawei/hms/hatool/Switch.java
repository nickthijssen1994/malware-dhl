package com.huawei.hms.hatool;

import android.text.TextUtils;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.UUID;

public class Switch
{
  public String c;
  public String d;
  public java.util.List<q> f;
  public String g;
  
  public Switch(java.util.List paramList, String paramString1, String paramString2, String paramString3)
  {
    f = paramList;
    c = paramString1;
    d = paramString2;
    g = paramString3;
  }
  
  public void a()
  {
    if ("_default_config_tag".equals(d))
    {
      ArrayList localArrayList1 = new ArrayList();
      ArrayList localArrayList2 = new ArrayList();
      ArrayList localArrayList3 = new ArrayList();
      ArrayList localArrayList4 = new ArrayList();
      Iterator localIterator = f.iterator();
      while (localIterator.hasNext())
      {
        Frame localFrame = (Frame)localIterator.next();
        String str = localFrame.getValue();
        if ((!TextUtils.isEmpty(str)) && (!"oper".equals(str)))
        {
          if ("maint".equals(str)) {
            localArrayList1.add(localFrame);
          } else if ("preins".equals(str)) {
            localArrayList2.add(localFrame);
          } else if ("diffprivacy".equals(str)) {
            localArrayList3.add(localFrame);
          }
        }
        else {
          localArrayList4.add(localFrame);
        }
      }
      a(localArrayList4, "oper", "_default_config_tag");
      a(localArrayList1, "maint", "_default_config_tag");
      a(localArrayList2, "preins", "_default_config_tag");
      a(localArrayList3, "diffprivacy", "_default_config_tag");
      return;
    }
    a(f, d, c);
  }
  
  public final void a(java.util.List paramList, String paramString1, String paramString2)
  {
    if (paramList.isEmpty()) {
      return;
    }
    int j = paramList.size() / 500;
    int i = 0;
    while (i < j + 1)
    {
      int k = i * 500;
      Object localObject = paramList.subList(k, Math.min(paramList.size(), k + 500));
      String str = UUID.randomUUID().toString().replace("-", "");
      long l1 = System.currentTimeMillis();
      long l2 = List.b(paramString2, paramString1);
      ArrayList localArrayList = new ArrayList();
      localObject = ((java.util.List)localObject).iterator();
      while (((Iterator)localObject).hasNext())
      {
        Frame localFrame = (Frame)((Iterator)localObject).next();
        if (!AtomicBoolean.get(localFrame.c(), l1, l2 * 86400000L)) {
          localArrayList.add(localFrame);
        }
      }
      if (localArrayList.size() > 0) {
        new XYGraphWidget(paramString2, paramString1, g, localArrayList, str).b();
      } else {
        Log.remove("hmsSdk", "No data to report handler");
      }
      i += 1;
    }
  }
}
