package com.huawei.provider.tasks;

import com.huawei.provider.tasks.util.PoolEntryFuture;
import java.util.Iterator;
import java.util.List;

public class CancellationTokenSource
{
  private PoolEntryFuture impl = new PoolEntryFuture();
  
  public CancellationTokenSource() {}
  
  public void cancel()
  {
    Object localObject2 = impl;
    if (!cancelled)
    {
      Object localObject1 = lock;
      try
      {
        cancelled = true;
        localObject2 = items.iterator();
        while (((Iterator)localObject2).hasNext()) {
          ((Runnable)((Iterator)localObject2).next()).run();
        }
        return;
      }
      catch (Throwable localThrowable)
      {
        throw localThrowable;
      }
    }
  }
  
  public CancellationToken getToken()
  {
    return impl;
  }
}
