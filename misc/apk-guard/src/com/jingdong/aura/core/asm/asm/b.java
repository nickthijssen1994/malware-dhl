package com.jingdong.aura.core.asm.asm;

import android.os.Build.VERSION;
import com.jingdong.aura.core.asm.MethodWriter;
import com.jingdong.aura.core.b.c.c;
import com.jingdong.aura.core.util.rss.Attribute;
import com.jingdong.aura.core.util.rss.StringBuffer;
import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.util.List;
import java.util.SortedMap;
import org.osgi.framework.BundleException;

public class b
  implements a
{
  private static final StringBuffer b = Attribute.getInstance(com.jingdong.aura.core.b.c.b.class);
  private final i a;
  private File l;
  private final SortedMap<Long, c> m;
  
  public b(String paramString1, long paramLong, File paramFile1, File paramFile2, String paramString2) {}
  
  public b(String paramString1, long paramLong, File paramFile, InputStream paramInputStream, String paramString2) {}
  
  public b(String paramString, File paramFile, long paramLong)
  {
    m = Item.doInBackground(paramFile);
    Object localObject = m;
    if ((localObject != null) && (!((SortedMap)localObject).isEmpty()))
    {
      l = paramFile;
      long l2 = ((Long)m.lastKey()).longValue();
      long l1 = l2;
      if (paramLong > 0L)
      {
        l1 = l2;
        if (m.containsKey(Long.valueOf(paramLong))) {
          l1 = paramLong;
        }
      }
      localObject = new StringBuilder();
      ((StringBuilder)localObject).append("package_");
      ((StringBuilder)localObject).append(String.valueOf(l1));
      paramFile = new i(paramString, l1, new File(paramFile, ((StringBuilder)localObject).toString()));
      if (paramFile.read())
      {
        m.put(Long.valueOf(l1), paramFile);
        a = paramFile;
        return;
      }
      MethodWriter.e(paramString, (int)paramLong, "new BundleArchiveRevision failed. ", "BundleArchive_1_store", null);
      throw ((Throwable)new BundleException("check BundleArchiveRevision failed from BundleArchive_1"));
    }
    paramString = new StringBuilder();
    paramString.append("No valid revisions in bundle archive directory: ");
    paramString.append(paramFile);
    throw new IOException(paramString.toString());
  }
  
  public i a(String paramString1, int paramInt, File paramFile, InputStream paramInputStream, String paramString2)
  {
    throw new Runtime("d2j fail translate: java.lang.RuntimeException: fail exe a11 = a10\n\tat com.googlecode.dex2jar.ir.ts.an.BaseAnalyze.exec(BaseAnalyze.java:92)\n\tat com.googlecode.dex2jar.ir.ts.an.BaseAnalyze.exec(BaseAnalyze.java:1)\n\tat com.googlecode.dex2jar.ir.ts.Cfg.dfs(Cfg.java:255)\n\tat com.googlecode.dex2jar.ir.ts.an.BaseAnalyze.analyze0(BaseAnalyze.java:75)\n\tat com.googlecode.dex2jar.ir.ts.an.BaseAnalyze.analyze(BaseAnalyze.java:69)\n\tat com.googlecode.dex2jar.ir.ts.UnSSATransformer.transform(UnSSATransformer.java:274)\n\tat com.googlecode.d2j.dex.Dex2jar$2.optimize(Dex2jar.java:163)\n\tat com.googlecode.d2j.dex.Dex2Asm.convertCode(Dex2Asm.java:414)\n\tat com.googlecode.d2j.dex.ExDex2Asm.convertCode(ExDex2Asm.java:42)\n\tat com.googlecode.d2j.dex.Dex2jar$2.convertCode(Dex2jar.java:128)\n\tat com.googlecode.d2j.dex.Dex2Asm.convertMethod(Dex2Asm.java:509)\n\tat com.googlecode.d2j.dex.Dex2Asm.convertClass(Dex2Asm.java:406)\n\tat com.googlecode.d2j.dex.Dex2Asm.convertDex(Dex2Asm.java:422)\n\tat com.googlecode.d2j.dex.Dex2jar.doTranslate(Dex2jar.java:172)\n\tat com.googlecode.d2j.dex.Dex2jar.to(Dex2jar.java:272)\n\tat com.googlecode.dex2jar.tools.Dex2jarCmd.doCommandLine(Dex2jarCmd.java:108)\n\tat com.googlecode.dex2jar.tools.BaseCmd.doMain(BaseCmd.java:288)\n\tat com.googlecode.dex2jar.tools.Dex2jarCmd.main(Dex2jarCmd.java:32)\nCaused by: java.lang.NullPointerException\n");
  }
  
  public File a()
  {
    return a.l();
  }
  
  public File a(String paramString)
  {
    return a.read(paramString);
  }
  
  public Class a(String paramString, ClassLoader paramClassLoader)
  {
    return a.a(paramString, paramClassLoader);
  }
  
  public i b()
  {
    return a;
  }
  
  public List b(String paramString)
  {
    return a.a(paramString);
  }
  
  public boolean c()
  {
    if (Build.VERSION.SDK_INT >= 29) {
      return true;
    }
    return a.f();
  }
  
  public void close()
  {
    if (Build.VERSION.SDK_INT >= 29) {
      return;
    }
    a.clear();
  }
  
  public int e()
  {
    i localI = a;
    if (localI == null) {
      return 0;
    }
    return (int)localI.g();
  }
}
