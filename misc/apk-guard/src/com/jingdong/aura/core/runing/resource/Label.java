package com.jingdong.aura.core.runing.resource;

import android.app.Application;
import android.content.res.AssetManager;
import android.content.res.Resources;
import android.os.Handler;
import android.os.Looper;
import com.jingdong.aura.core.asm.f;

public abstract class Label
{
  private static Label a;
  private static Object b = new Object();
  
  public Label() {}
  
  static Label a()
  {
    try
    {
      if (a == null) {
        if (f.n()) {
          a = new ClassWriter();
        } else {
          a = new MethodWriter();
        }
      }
      Label localLabel = a;
      return localLabel;
    }
    catch (Throwable localThrowable)
    {
      throw localThrowable;
    }
  }
  
  public static void a(Application paramApplication, Resources paramResources, String paramString)
  {
    if (f.d())
    {
      if (Thread.currentThread().getId() == Looper.getMainLooper().getThread().getId())
      {
        a().b(paramApplication, paramResources, paramString);
        return;
      }
      Object localObject = b;
      try
      {
        new Handler(Looper.getMainLooper()).post(new MonthByWeekFragment.2(paramApplication, paramResources, paramString));
        b.wait();
        return;
      }
      catch (Throwable paramApplication)
      {
        throw paramApplication;
      }
    }
    a().b(paramApplication, paramResources, paramString);
  }
  
  public static int b()
  {
    Label localLabel = a;
    if (localLabel == null) {
      return 0;
    }
    if ((localLabel instanceof ClassWriter)) {
      return 1;
    }
    if ((localLabel instanceof MethodWriter)) {
      return 2;
    }
    return -1;
  }
  
  abstract ResourcesWrapper b(AssetManager paramAssetManager, Resources paramResources);
  
  protected abstract void b(Application paramApplication, Resources paramResources, String paramString);
}
