package com.jd.lib.un.ui.ui;

import android.animation.ValueAnimator;
import android.content.Context;
import android.view.ViewGroup;
import android.widget.FrameLayout;
import com.a.a.a;
import com.a.a.e;
import com.a.a.h;
import com.a.a.j;
import com.jd.lib.un.ui.core.Switch;
import java.util.ArrayList;
import java.util.Collection;
import java.util.EnumMap;
import java.util.List;
import java.util.Map;

public final class CameraPreview
  extends Switch
{
  public static final List<a> c;
  private h a;
  private List<a> formats;
  public Logger mCamera;
  private ValueAnimator mDelayAnim;
  private int mOrientation = 0;
  private MainActivity p;
  
  static
  {
    ArrayList localArrayList = new ArrayList();
    c = localArrayList;
    localArrayList.add(a.a);
    c.add(a.b);
    c.add(a.c);
    c.add(a.d);
    c.add(a.e);
    c.add(a.f);
    c.add(a.g);
    c.add(a.h);
    c.add(a.i);
    c.add(a.j);
    c.add(a.k);
    c.add(a.l);
    c.add(a.m);
    c.add(a.n);
    c.add(a.o);
    c.add(a.p);
    c.add(a.q);
  }
  
  public CameraPreview(Context paramContext)
  {
    super(paramContext);
    initialize();
  }
  
  private static byte[] decode(byte[] paramArrayOfByte, int paramInt1, int paramInt2)
  {
    int m = paramInt1 * paramInt2;
    int n = m * 3 / 2;
    byte[] arrayOfByte = new byte[n];
    int i = 0;
    int j = 0;
    int k;
    while (i < paramInt1)
    {
      k = paramInt2 - 1;
      while (k >= 0)
      {
        arrayOfByte[j] = paramArrayOfByte[(k * paramInt1 + i)];
        j += 1;
        k -= 1;
      }
      i += 1;
    }
    i = n - 1;
    j = paramInt1 - 1;
    while (j > 0)
    {
      k = 0;
      while (k < paramInt2 / 2)
      {
        n = k * paramInt1 + m;
        arrayOfByte[i] = paramArrayOfByte[(n + j)];
        i -= 1;
        arrayOfByte[i] = paramArrayOfByte[(n + (j - 1))];
        i -= 1;
        k += 1;
      }
      j -= 2;
    }
    return arrayOfByte;
  }
  
  private void initialize()
  {
    EnumMap localEnumMap = new EnumMap(e.class);
    localEnumMap.put(e.c, getFormats());
    a = new h();
    a.a(localEnumMap);
    p = new MainActivity();
  }
  
  private static j process(byte[] paramArrayOfByte, int paramInt1, int paramInt2)
  {
    try
    {
      paramArrayOfByte = new j(paramArrayOfByte, paramInt1, paramInt2, paramInt1, paramInt2);
      return paramArrayOfByte;
    }
    catch (Exception paramArrayOfByte)
    {
      for (;;) {}
    }
    return null;
  }
  
  public final Collection getFormats()
  {
    List localList2 = formats;
    List localList1 = localList2;
    if (localList2 == null) {
      localList1 = c;
    }
    return localList1;
  }
  
  protected final void onDetachedFromWindow()
  {
    super.onDetachedFromWindow();
    ValueAnimator localValueAnimator = mDelayAnim;
    if (localValueAnimator != null) {
      localValueAnimator.cancel();
    }
  }
  
  protected final void onLayout(boolean paramBoolean, int paramInt1, int paramInt2, int paramInt3, int paramInt4)
  {
    super.onLayout(paramBoolean, paramInt1, paramInt2, paramInt3, paramInt4);
    MainActivity localMainActivity = p;
    min = (paramInt3 - paramInt1);
    b = (paramInt4 - paramInt2);
    localMainActivity.set();
  }
  
  /* Error */
  public final void onPreviewFrame(byte[] paramArrayOfByte, android.hardware.Camera paramCamera)
  {
    // Byte code:
    //   0: aload_0
    //   1: getfield 99	com/jd/lib/un/ui/ui/CameraPreview:mCamera	Lcom/jd/lib/un/ui/ui/Logger;
    //   4: ifnonnull +4 -> 8
    //   7: return
    //   8: aload_2
    //   9: invokevirtual 190	android/hardware/Camera:getParameters	()Landroid/hardware/Camera$Parameters;
    //   12: invokevirtual 196	android/hardware/Camera$Parameters:getPreviewSize	()Landroid/hardware/Camera$Size;
    //   15: astore 9
    //   17: aload 9
    //   19: getfield 201	android/hardware/Camera$Size:width	I
    //   22: istore 4
    //   24: aload 9
    //   26: getfield 204	android/hardware/Camera$Size:height	I
    //   29: istore_3
    //   30: aload 9
    //   32: getfield 201	android/hardware/Camera$Size:width	I
    //   35: istore 6
    //   37: aload 9
    //   39: getfield 204	android/hardware/Camera$Size:height	I
    //   42: istore 7
    //   44: aload_0
    //   45: invokevirtual 210	android/view/View:getContext	()Landroid/content/Context;
    //   48: ldc -44
    //   50: invokevirtual 218	android/content/Context:getSystemService	(Ljava/lang/String;)Ljava/lang/Object;
    //   53: checkcast 220	android/view/WindowManager
    //   56: invokeinterface 224 1 0
    //   61: astore 9
    //   63: new 226	android/graphics/Point
    //   66: dup
    //   67: invokespecial 227	android/graphics/Point:<init>	()V
    //   70: astore 10
    //   72: aload 9
    //   74: aload 10
    //   76: invokevirtual 233	android/view/Display:getSize	(Landroid/graphics/Point;)V
    //   79: aload 10
    //   81: getfield 236	android/graphics/Point:y	I
    //   84: istore 5
    //   86: aload 10
    //   88: getfield 239	android/graphics/Point:x	I
    //   91: istore 8
    //   93: iload 5
    //   95: iload 8
    //   97: if_icmple +9 -> 106
    //   100: iconst_1
    //   101: istore 5
    //   103: goto +6 -> 109
    //   106: iconst_0
    //   107: istore 5
    //   109: aload_0
    //   110: getfield 134	com/jd/lib/un/ui/ui/CameraPreview:p	Lcom/jd/lib/un/ui/ui/MainActivity;
    //   113: astore 9
    //   115: aload 9
    //   117: iload 6
    //   119: putfield 240	com/jd/lib/un/ui/ui/MainActivity:width	I
    //   122: aload 9
    //   124: iload 7
    //   126: putfield 241	com/jd/lib/un/ui/ui/MainActivity:height	I
    //   129: iload 5
    //   131: ifeq +27 -> 158
    //   134: aload 9
    //   136: getfield 240	com/jd/lib/un/ui/ui/MainActivity:width	I
    //   139: istore 5
    //   141: aload 9
    //   143: aload 9
    //   145: getfield 241	com/jd/lib/un/ui/ui/MainActivity:height	I
    //   148: putfield 240	com/jd/lib/un/ui/ui/MainActivity:width	I
    //   151: aload 9
    //   153: iload 5
    //   155: putfield 241	com/jd/lib/un/ui/ui/MainActivity:height	I
    //   158: aload 9
    //   160: invokevirtual 172	com/jd/lib/un/ui/ui/MainActivity:set	()V
    //   163: aload_0
    //   164: invokevirtual 210	android/view/View:getContext	()Landroid/content/Context;
    //   167: invokestatic 247	com/jd/lib/un/ui/core/DisplayUtils:getScreenOrientation	(Landroid/content/Context;)I
    //   170: istore 7
    //   172: iload 4
    //   174: istore 6
    //   176: iload_3
    //   177: istore 5
    //   179: aload_1
    //   180: astore 9
    //   182: iload 7
    //   184: iconst_1
    //   185: if_icmpne +47 -> 232
    //   188: aload_0
    //   189: invokevirtual 251	com/jd/lib/un/ui/core/Switch:getRotationCount	()I
    //   192: istore 7
    //   194: iload 7
    //   196: iconst_1
    //   197: if_icmpeq +19 -> 216
    //   200: iload 4
    //   202: istore 6
    //   204: iload_3
    //   205: istore 5
    //   207: aload_1
    //   208: astore 9
    //   210: iload 7
    //   212: iconst_3
    //   213: if_icmpne +19 -> 232
    //   216: aload_1
    //   217: iload 4
    //   219: iload_3
    //   220: invokestatic 253	com/jd/lib/un/ui/ui/CameraPreview:decode	([BII)[B
    //   223: astore 9
    //   225: iload 4
    //   227: istore 5
    //   229: iload_3
    //   230: istore 6
    //   232: aload 9
    //   234: iload 6
    //   236: iload 5
    //   238: invokestatic 255	com/jd/lib/un/ui/ui/CameraPreview:process	([BII)Lcom/a/a/j;
    //   241: astore 10
    //   243: aconst_null
    //   244: astore 9
    //   246: aconst_null
    //   247: astore_1
    //   248: aload 10
    //   250: ifnull +121 -> 371
    //   253: new 257	com/a/a/c
    //   256: dup
    //   257: new 259	com/a/a/b/j
    //   260: dup
    //   261: aload 10
    //   263: invokespecial 262	com/a/a/b/j:<init>	(Lcom/a/a/g;)V
    //   266: invokespecial 265	com/a/a/c:<init>	(Lcom/a/a/b;)V
    //   269: astore 9
    //   271: aload_0
    //   272: getfield 126	com/jd/lib/un/ui/ui/CameraPreview:a	Lcom/a/a/h;
    //   275: astore 10
    //   277: aload 10
    //   279: getfield 268	com/a/a/h:a	[Lcom/a/a/l;
    //   282: astore 11
    //   284: aload 11
    //   286: ifnonnull +9 -> 295
    //   289: aload 10
    //   291: aconst_null
    //   292: invokevirtual 129	com/a/a/h:a	(Ljava/util/Map;)V
    //   295: aload 10
    //   297: aload 9
    //   299: invokevirtual 271	com/a/a/h:a	(Lcom/a/a/c;)Lcom/a/a/n;
    //   302: astore 9
    //   304: aload_0
    //   305: getfield 126	com/jd/lib/un/ui/ui/CameraPreview:a	Lcom/a/a/h;
    //   308: astore_1
    //   309: aload_1
    //   310: invokevirtual 273	com/a/a/h:a	()V
    //   313: goto +58 -> 371
    //   316: astore_1
    //   317: aload_0
    //   318: getfield 126	com/jd/lib/un/ui/ui/CameraPreview:a	Lcom/a/a/h;
    //   321: invokevirtual 273	com/a/a/h:a	()V
    //   324: aload_1
    //   325: athrow
    //   326: aload_0
    //   327: getfield 126	com/jd/lib/un/ui/ui/CameraPreview:a	Lcom/a/a/h;
    //   330: astore 10
    //   332: aload_1
    //   333: astore 9
    //   335: aload 10
    //   337: astore_1
    //   338: goto -29 -> 309
    //   341: aload_0
    //   342: getfield 126	com/jd/lib/un/ui/ui/CameraPreview:a	Lcom/a/a/h;
    //   345: astore 10
    //   347: aload_1
    //   348: astore 9
    //   350: aload 10
    //   352: astore_1
    //   353: goto -44 -> 309
    //   356: aload_0
    //   357: getfield 126	com/jd/lib/un/ui/ui/CameraPreview:a	Lcom/a/a/h;
    //   360: astore 10
    //   362: aload_1
    //   363: astore 9
    //   365: aload 10
    //   367: astore_1
    //   368: goto -59 -> 309
    //   371: aload 9
    //   373: ifnull +30 -> 403
    //   376: new 275	android/os/Handler
    //   379: dup
    //   380: invokestatic 281	android/os/Looper:getMainLooper	()Landroid/os/Looper;
    //   383: invokespecial 284	android/os/Handler:<init>	(Landroid/os/Looper;)V
    //   386: astore_1
    //   387: aload_1
    //   388: new 286	com/jd/lib/un/ui/ui/ScanActivity$5
    //   391: dup
    //   392: aload_0
    //   393: aload 9
    //   395: invokespecial 289	com/jd/lib/un/ui/ui/ScanActivity$5:<init>	(Lcom/jd/lib/un/ui/ui/CameraPreview;Lcom/a/a/n;)V
    //   398: invokevirtual 293	android/os/Handler:post	(Ljava/lang/Runnable;)Z
    //   401: pop
    //   402: return
    //   403: aload_2
    //   404: aload_0
    //   405: invokevirtual 297	android/hardware/Camera:setOneShotPreviewCallback	(Landroid/hardware/Camera$PreviewCallback;)V
    //   408: return
    //   409: astore_1
    //   410: ldc_w 299
    //   413: aload_1
    //   414: invokevirtual 303	java/lang/Exception:toString	()Ljava/lang/String;
    //   417: aload_1
    //   418: invokestatic 308	android/util/Log:e	(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    //   421: pop
    //   422: return
    //   423: astore 9
    //   425: goto -69 -> 356
    //   428: astore 9
    //   430: goto -89 -> 341
    //   433: astore 9
    //   435: goto -109 -> 326
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	438	0	this	CameraPreview
    //   0	438	1	paramArrayOfByte	byte[]
    //   0	438	2	paramCamera	android.hardware.Camera
    //   29	201	3	i	int
    //   22	204	4	j	int
    //   84	153	5	k	int
    //   35	200	6	m	int
    //   42	172	7	n	int
    //   91	7	8	i1	int
    //   15	379	9	localObject1	Object
    //   423	1	9	localM	com.a.a.m
    //   428	1	9	localNullPointerException	NullPointerException
    //   433	1	9	localArrayIndexOutOfBoundsException	ArrayIndexOutOfBoundsException
    //   70	296	10	localObject2	Object
    //   282	3	11	arrayOfL	com.a.a.l[]
    // Exception table:
    //   from	to	target	type
    //   271	284	316	java/lang/Throwable
    //   289	295	316	java/lang/Throwable
    //   295	304	316	java/lang/Throwable
    //   8	63	409	java/lang/RuntimeException
    //   63	93	409	java/lang/RuntimeException
    //   109	129	409	java/lang/RuntimeException
    //   134	158	409	java/lang/RuntimeException
    //   158	172	409	java/lang/RuntimeException
    //   188	194	409	java/lang/RuntimeException
    //   216	225	409	java/lang/RuntimeException
    //   232	243	409	java/lang/RuntimeException
    //   253	271	409	java/lang/RuntimeException
    //   304	309	409	java/lang/RuntimeException
    //   309	313	409	java/lang/RuntimeException
    //   317	326	409	java/lang/RuntimeException
    //   326	332	409	java/lang/RuntimeException
    //   341	347	409	java/lang/RuntimeException
    //   356	362	409	java/lang/RuntimeException
    //   376	387	409	java/lang/RuntimeException
    //   387	402	409	java/lang/RuntimeException
    //   403	408	409	java/lang/RuntimeException
    //   289	295	423	com/a/a/m
    //   295	304	423	com/a/a/m
    //   271	284	428	java/lang/NullPointerException
    //   289	295	428	java/lang/NullPointerException
    //   295	304	428	java/lang/NullPointerException
    //   289	295	433	java/lang/ArrayIndexOutOfBoundsException
    //   295	304	433	java/lang/ArrayIndexOutOfBoundsException
  }
  
  public final void setFormats(List paramList)
  {
    formats = paramList;
    initialize();
  }
  
  public final void setResultHandler(Logger paramLogger)
  {
    mCamera = paramLogger;
  }
}
