package com.jd.lib.un.basewidget.widget.banner.recycle;

import android.view.View;
import android.view.ViewGroup;
import androidx.viewpager.widget.PagerAdapter;

public abstract class RecyclingPagerAdapter
  extends PagerAdapter
{
  static final int IGNORE_ITEM_VIEW_TYPE = -1;
  private final RecycleBin recycleBin;
  
  public RecyclingPagerAdapter()
  {
    this(new RecycleBin());
  }
  
  RecyclingPagerAdapter(RecycleBin paramRecycleBin)
  {
    recycleBin = paramRecycleBin;
    paramRecycleBin.setViewTypeCount(getViewTypeCount());
  }
  
  public final void destroyItem(ViewGroup paramViewGroup, int paramInt, Object paramObject)
  {
    paramObject = (View)paramObject;
    paramViewGroup.removeView(paramObject);
    int i = getItemViewType(paramInt);
    if (i != -1) {
      recycleBin.addScrapView(paramObject, paramInt, i);
    }
  }
  
  public int getItemViewType(int paramInt)
  {
    return 0;
  }
  
  public abstract View getView(int paramInt, View paramView, ViewGroup paramViewGroup);
  
  public int getViewTypeCount()
  {
    return 1;
  }
  
  public final Object instantiateItem(ViewGroup paramViewGroup, int paramInt)
  {
    int i = getItemViewType(paramInt);
    if (i != -1) {
      localView = recycleBin.getScrapView(paramInt, i);
    } else {
      localView = null;
    }
    View localView = getView(paramInt, localView, paramViewGroup);
    paramViewGroup.addView(localView);
    return localView;
  }
  
  public final boolean isViewFromObject(View paramView, Object paramObject)
  {
    return paramView == paramObject;
  }
  
  public void notifyDataSetChanged()
  {
    recycleBin.scrapActiveViews();
    super.notifyDataSetChanged();
  }
}
