package com.jd.lib.unification.video.editor;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.LinearLayout;
import androidx.recyclerview.widget.RecyclerView.Adapter;
import androidx.recyclerview.widget.RecyclerView.ViewHolder;
import com.jd.unalbumwidget.R.id;
import com.jd.unalbumwidget.R.layout;
import com.jingdong.common.widget.image.UnNetImageView;
import java.util.ArrayList;
import java.util.List;

public class VideoEditAdapter
  extends RecyclerView.Adapter
{
  private LayoutInflater inflater;
  private int itemW;
  private List<VideoEditInfo> lists = new ArrayList();
  
  public VideoEditAdapter(Context paramContext, int paramInt)
  {
    inflater = LayoutInflater.from(paramContext);
    itemW = paramInt;
  }
  
  public void addItemVideoInfo(VideoEditInfo paramVideoEditInfo)
  {
    lists.add(paramVideoEditInfo);
    notifyItemInserted(lists.size());
  }
  
  public int getItemCount()
  {
    return lists.size();
  }
  
  public void onBindViewHolder(RecyclerView.ViewHolder paramViewHolder, int paramInt)
  {
    if ((paramViewHolder instanceof EditViewHolder))
    {
      paramViewHolder = binding;
      StringBuilder localStringBuilder = new StringBuilder();
      localStringBuilder.append("file://");
      localStringBuilder.append(lists.get(paramInt)).path);
      paramViewHolder.setImage(localStringBuilder.toString());
    }
  }
  
  public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup paramViewGroup, int paramInt)
  {
    return new EditViewHolder(inflater.inflate(R.layout.lib_uni_video_item, paramViewGroup, false));
  }
  
  private final class EditViewHolder
    extends RecyclerView.ViewHolder
  {
    public UnNetImageView binding;
    public LinearLayout itemLayout;
    
    EditViewHolder(View paramView)
    {
      super();
      binding = ((UnNetImageView)paramView.findViewById(R.id.id_image));
      itemLayout = ((LinearLayout)paramView.findViewById(R.id.itemLayout));
      itemLayout.getLayoutParams().width = itemW;
      itemLayout.requestLayout();
    }
  }
}
