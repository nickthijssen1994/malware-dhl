package com.jd.lib.unification.album.adapter;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.widget.TextView;
import androidx.recyclerview.widget.RecyclerView.Adapter;
import androidx.recyclerview.widget.RecyclerView.ViewHolder;
import com.jd.lib.unification.album.entity.LocalMediaFolder;
import com.jd.unalbumwidget.R.id;
import com.jd.unalbumwidget.R.layout;
import com.jingdong.common.widget.image.UnNetImageView;
import java.util.ArrayList;
import java.util.List;

public class SelectAlbumAdapter
  extends RecyclerView.Adapter<ViewHolder>
{
  private List<LocalMediaFolder> folders = new ArrayList();
  private final Context mContext;
  private OnItemClickListener onItemClickListener;
  
  public SelectAlbumAdapter(Context paramContext, List paramList)
  {
    mContext = paramContext;
    folders = paramList;
  }
  
  public int getItemCount()
  {
    List localList = folders;
    if ((localList != null) && (localList.size() != 0)) {
      return folders.size();
    }
    return 0;
  }
  
  public void onBindViewHolder(ViewHolder paramViewHolder, int paramInt)
  {
    final LocalMediaFolder localLocalMediaFolder = (LocalMediaFolder)folders.get(paramInt);
    Object localObject = cover;
    StringBuilder localStringBuilder = new StringBuilder();
    localStringBuilder.append("file://");
    localStringBuilder.append(localLocalMediaFolder.getFirstImagePath());
    ((UnNetImageView)localObject).setImage(localStringBuilder.toString());
    localObject = name;
    localStringBuilder = new StringBuilder();
    localStringBuilder.append(localLocalMediaFolder.getName());
    localStringBuilder.append(" ");
    localStringBuilder.append(String.valueOf(localLocalMediaFolder.getImageNum()));
    ((TextView)localObject).setText(localStringBuilder.toString());
    itemView.setOnClickListener(new View.OnClickListener()
    {
      public void onClick(View paramAnonymousView)
      {
        if (onItemClickListener != null) {
          onItemClickListener.onItemClick(localLocalMediaFolder.getName(), localLocalMediaFolder.getImages());
        }
      }
    });
  }
  
  public ViewHolder onCreateViewHolder(ViewGroup paramViewGroup, int paramInt)
  {
    return new ViewHolder(LayoutInflater.from(mContext).inflate(R.layout.lib_ec_item_select_album, paramViewGroup, false));
  }
  
  public void setOnItemClickListener(OnItemClickListener paramOnItemClickListener)
  {
    onItemClickListener = paramOnItemClickListener;
  }
  
  public static abstract interface OnItemClickListener
  {
    public abstract void onItemClick(String paramString, ArrayList paramArrayList);
  }
  
  class ViewHolder
    extends RecyclerView.ViewHolder
  {
    final UnNetImageView cover;
    final TextView name;
    
    public ViewHolder(View paramView)
    {
      super();
      cover = ((UnNetImageView)paramView.findViewById(R.id.lib_ec_item_select_album_cover));
      name = ((TextView)paramView.findViewById(R.id.lib_ec_item_select_album_name));
    }
  }
}
