package com.jd.lib.unification.album.filter.video;

import android.content.Context;
import android.media.MediaPlayer;
import android.opengl.GLSurfaceView;
import com.jd.lib.unification.album.filter.filter.CommonFilter;
import com.jd.lib.unification.album.filter.filter.CommonFilterGroup;
import com.jd.lib.unification.album.filter.filter.CommonFilterRenderer;

public class VideoSurfaceView
  extends GLSurfaceView
{
  private MediaPlayer mMediaPlayer = null;
  CommonFilterRenderer mRenderer;
  
  public VideoSurfaceView(Context paramContext, MediaPlayer paramMediaPlayer, int paramInt)
  {
    super(paramContext);
    setEGLContextClientVersion(2);
    mMediaPlayer = paramMediaPlayer;
    paramContext = new CommonFilterGroup();
    paramContext.addFilter(new CommonExtTexFilter());
    paramContext.addFilter(new CommonFilter());
    mRenderer = new CommonFilterRenderer(paramContext, paramInt);
    mRenderer.setUpSurfaceTexture(mMediaPlayer);
    setRenderer(mRenderer);
  }
  
  public void setFilter(CommonFilter paramCommonFilter)
  {
    mRenderer.setFilter(paramCommonFilter);
  }
  
  public void setSourceSize(int paramInt1, int paramInt2)
  {
    mRenderer.setSourceSize(paramInt1, paramInt2);
  }
}
