package com.jd.pushsdk.keeplive.onepx;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.util.Log;

public class OnepxReceiver
  extends BroadcastReceiver
{
  private static OnepxReceiver receiver;
  
  public OnepxReceiver() {}
  
  public static void register1pxReceiver(Context paramContext)
  {
    if (receiver == null) {
      receiver = new OnepxReceiver();
    }
    paramContext.registerReceiver(receiver, new IntentFilter("android.intent.action.SCREEN_OFF"));
    paramContext.registerReceiver(receiver, new IntentFilter("android.intent.action.SCREEN_ON"));
  }
  
  public static void unregister1pxReceiver(Context paramContext)
  {
    OnepxReceiver localOnepxReceiver = receiver;
    try
    {
      paramContext.unregisterReceiver(localOnepxReceiver);
      return;
    }
    catch (Exception paramContext)
    {
      Log.e("OnepxReceiver", paramContext.toString());
    }
  }
  
  public void onReceive(Context paramContext, Intent paramIntent)
  {
    if (paramIntent.getAction().equals("android.intent.action.SCREEN_OFF")) {}
    try
    {
      paramIntent = new Intent(paramContext, KeepLiveActivity.class);
      paramIntent.addFlags(268435456);
      paramIntent.addFlags(536870912);
      paramContext.startActivity(paramIntent);
      Log.d(getClass().getName(), "1px--screen off-");
      return;
    }
    catch (Exception paramContext) {}
    if (paramIntent.getAction().equals("android.intent.action.SCREEN_ON"))
    {
      paramContext.sendBroadcast(new Intent("finish activity"));
      Log.d(getClass().getName(), "1px--screen on-");
      return;
    }
  }
}
