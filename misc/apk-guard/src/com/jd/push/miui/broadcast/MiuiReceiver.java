package com.jd.push.miui.broadcast;

import android.content.Context;
import com.jd.push.common.util.LogUtils;
import com.jd.push.common.util.PushMessageUtil;
import com.xiaomi.mipush.sdk.MiPushCommandMessage;
import com.xiaomi.mipush.sdk.MiPushMessage;
import com.xiaomi.mipush.sdk.PushMessageReceiver;
import java.util.List;

public class MiuiReceiver
  extends PushMessageReceiver
{
  public MiuiReceiver() {}
  
  public void onCommandResult(Context paramContext, MiPushCommandMessage paramMiPushCommandMessage)
  {
    Object localObject1 = LogUtils.getInstance();
    Object localObject2 = new StringBuilder();
    ((StringBuilder)localObject2).append("???????msg:");
    ((StringBuilder)localObject2).append(paramMiPushCommandMessage.toString());
    ((LogUtils)localObject1).e("====", ((StringBuilder)localObject2).toString());
    localObject2 = paramMiPushCommandMessage.getCommand();
    localObject1 = paramMiPushCommandMessage.getCommandArguments();
    if ((localObject1 != null) && (((List)localObject1).size() > 0)) {
      localObject1 = (String)((List)localObject1).get(0);
    } else {
      localObject1 = null;
    }
    if (("register".equals(localObject2)) && (paramMiPushCommandMessage.getResultCode() == 0L)) {
      PushMessageUtil.sendMsgToAppBroadcast(paramContext, 5, 5, (String)localObject1);
    }
  }
  
  public void onNotificationMessageArrived(Context paramContext, MiPushMessage paramMiPushMessage)
  {
    LogUtils.getInstance().e("Arrived", "onNotificationMessageArrived");
    PushMessageUtil.sendMsgToAppBroadcast(paramContext, 7, 5, paramMiPushMessage.getContent());
  }
  
  public void onNotificationMessageClicked(Context paramContext, MiPushMessage paramMiPushMessage)
  {
    PushMessageUtil.sendMsgBroadcast(paramContext, 6, paramMiPushMessage.getNotifyId(), paramMiPushMessage.getContent());
  }
  
  public void onReceiveMessage(Context paramContext, MiPushMessage paramMiPushMessage) {}
  
  public void onReceivePassThroughMessage(Context paramContext, MiPushMessage paramMiPushMessage)
  {
    LogUtils.getInstance().e("Receiver", "-----------MiuiReceiver------");
    PushMessageUtil.sendMsgToAppBroadcast(paramContext, 2, 5, paramMiPushMessage.toString());
  }
  
  public void onReceiveRegisterResult(Context paramContext, MiPushCommandMessage paramMiPushCommandMessage) {}
}
