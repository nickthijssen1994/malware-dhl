package com.jd.push.common.eventbus;

import com.jd.push.common.eventbus.meta.SubscriberInfoIndex;
import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class EventBusBuilder
{
  private static final ExecutorService DEFAULT_EXECUTOR_SERVICE = ;
  boolean eventInheritance = true;
  ExecutorService executorService = DEFAULT_EXECUTOR_SERVICE;
  boolean ignoreGeneratedIndex;
  boolean logNoSubscriberMessages = true;
  boolean logSubscriberExceptions = true;
  boolean sendNoSubscriberEvent = true;
  boolean sendSubscriberExceptionEvent = true;
  List<Class<?>> skipMethodVerificationForClasses;
  boolean strictMethodVerification;
  List<SubscriberInfoIndex> subscriberInfoIndexes;
  boolean throwSubscriberException;
  
  EventBusBuilder() {}
  
  public EventBusBuilder addIndex(SubscriberInfoIndex paramSubscriberInfoIndex)
  {
    if (subscriberInfoIndexes == null) {
      subscriberInfoIndexes = new ArrayList();
    }
    subscriberInfoIndexes.add(paramSubscriberInfoIndex);
    return this;
  }
  
  public EventBus build()
  {
    return new EventBus(this);
  }
  
  public EventBusBuilder eventInheritance(boolean paramBoolean)
  {
    eventInheritance = paramBoolean;
    return this;
  }
  
  public EventBusBuilder executorService(ExecutorService paramExecutorService)
  {
    executorService = paramExecutorService;
    return this;
  }
  
  public EventBusBuilder ignoreGeneratedIndex(boolean paramBoolean)
  {
    ignoreGeneratedIndex = paramBoolean;
    return this;
  }
  
  public EventBus installDefaultEventBus()
  {
    try
    {
      if (EventBus.defaultInstance == null)
      {
        EventBus.defaultInstance = build();
        EventBus localEventBus = EventBus.defaultInstance;
        return localEventBus;
      }
      throw new EventBusException("Default instance already exists. It may be only set once before it's used the first time to ensure consistent behavior.");
    }
    catch (Throwable localThrowable)
    {
      throw localThrowable;
    }
  }
  
  public EventBusBuilder logNoSubscriberMessages(boolean paramBoolean)
  {
    logNoSubscriberMessages = paramBoolean;
    return this;
  }
  
  public EventBusBuilder logSubscriberExceptions(boolean paramBoolean)
  {
    logSubscriberExceptions = paramBoolean;
    return this;
  }
  
  public EventBusBuilder sendNoSubscriberEvent(boolean paramBoolean)
  {
    sendNoSubscriberEvent = paramBoolean;
    return this;
  }
  
  public EventBusBuilder sendSubscriberExceptionEvent(boolean paramBoolean)
  {
    sendSubscriberExceptionEvent = paramBoolean;
    return this;
  }
  
  public EventBusBuilder skipMethodVerificationFor(Class paramClass)
  {
    if (skipMethodVerificationForClasses == null) {
      skipMethodVerificationForClasses = new ArrayList();
    }
    skipMethodVerificationForClasses.add(paramClass);
    return this;
  }
  
  public EventBusBuilder strictMethodVerification(boolean paramBoolean)
  {
    strictMethodVerification = paramBoolean;
    return this;
  }
  
  public EventBusBuilder throwSubscriberException(boolean paramBoolean)
  {
    throwSubscriberException = paramBoolean;
    return this;
  }
}
