package com.jd.mobile.image.ui;

import com.facebook.imageformat.ImageFormat;
import com.facebook.imageformat.ImageFormat.FormatChecker;
import com.facebook.imageformat.ImageFormatCheckerUtils;

public class ContentSource
  implements ImageFormat.FormatChecker
{
  public static final byte[] GIF = ImageFormatCheckerUtils.asciiBytes("<svg");
  
  public ContentSource() {}
  
  public ImageFormat determineFormat(byte[] paramArrayOfByte, int paramInt)
  {
    if (paramInt < getHeaderSize()) {
      return null;
    }
    if (ImageFormatCheckerUtils.startsWithPattern(paramArrayOfByte, GIF)) {
      return MediaType.BMP;
    }
    byte[][] arrayOfByte = MediaType.normalizeToken();
    int i = arrayOfByte.length;
    paramInt = 0;
    while (paramInt < i)
    {
      if (ImageFormatCheckerUtils.startsWithPattern(paramArrayOfByte, arrayOfByte[paramInt]))
      {
        int j = paramArrayOfByte.length;
        byte[] arrayOfByte1 = GIF;
        if (ImageFormatCheckerUtils.indexOfPattern(paramArrayOfByte, j, arrayOfByte1, arrayOfByte1.length) > -1) {
          return MediaType.BMP;
        }
      }
      paramInt += 1;
    }
    return null;
  }
  
  public int getHeaderSize()
  {
    return GIF.length;
  }
}
