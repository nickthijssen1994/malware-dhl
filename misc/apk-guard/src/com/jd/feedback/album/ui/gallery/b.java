package com.jd.feedback.album.ui.gallery;

import android.app.Activity;
import android.os.Build.VERSION;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.Window;
import android.widget.FrameLayout;
import android.widget.RelativeLayout;
import android.widget.TextView;
import androidx.appcompat.widget.AppCompatCheckBox;
import androidx.viewpager.widget.ViewPager;
import androidx.viewpager.widget.ViewPager.OnPageChangeListener;
import com.jd.feedback.R.color;
import com.jd.feedback.R.drawable;
import com.jd.feedback.R.id;
import com.jd.feedback.R.menu;
import com.jd.feedback.album.app.a.d;
import com.jd.feedback.album.view.Type;
import com.jd.feedback.album.xy.asm.Label;
import java.util.List;

public final class b<Data>
  extends a.d<Data>
  implements View.OnClickListener
{
  private AppCompatCheckBox a;
  private FrameLayout b;
  private Activity c;
  private MenuItem d;
  private TextView e;
  ViewPager f;
  private RelativeLayout k;
  
  public b(Activity paramActivity, com.jd.feedback.album.ui.e paramE)
  {
    super(paramActivity, paramE);
    c = paramActivity;
    f = ((ViewPager)paramActivity.findViewById(R.id.view_pager));
    k = ((RelativeLayout)paramActivity.findViewById(R.id.layout_bottom));
    e = ((TextView)paramActivity.findViewById(R.id.tv_duration));
    a = ((AppCompatCheckBox)paramActivity.findViewById(R.id.check_box));
    b = ((FrameLayout)paramActivity.findViewById(R.id.layout_layer));
    a.setOnClickListener(this);
    b.setOnClickListener(this);
  }
  
  public final void a(int paramInt)
  {
    f.setCurrentItem(paramInt);
  }
  
  public final void a(Menu paramMenu)
  {
    b.getMenuInflater().inflate(R.menu.album_menu_gallery, paramMenu);
    d = paramMenu.findItem(R.id.album_menu_finish);
  }
  
  public final void a(MenuItem paramMenuItem)
  {
    if (paramMenuItem.getItemId() == R.id.album_menu_finish) {
      ((com.jd.feedback.album.ui.e)f).b();
    }
  }
  
  public final void a(Label paramLabel, boolean paramBoolean)
  {
    Object localObject = c;
    if (Build.VERSION.SDK_INT >= 21)
    {
      localObject = ((Activity)localObject).getWindow();
      View localView = ((Window)localObject).getDecorView();
      localView.setSystemUiVisibility(localView.getSystemUiVisibility() | 0x400 | 0x100);
      ((Window)localObject).setStatusBarColor(0);
    }
    Type.create(c);
    Type.a(c, 0);
    Type.create(c, getCount(R.color.albumSheetBottom));
    f(R.drawable.album_ic_back_white);
    if (!paramBoolean)
    {
      d.setVisible(false);
      a.setVisibility(8);
    }
    else
    {
      paramLabel = c;
      a.setSupportButtonTintList(paramLabel);
      a.setTextColor(paramLabel);
    }
    f.addOnPageChangeListener((ViewPager.OnPageChangeListener)new d(this));
  }
  
  public final void a(String paramString)
  {
    d.setTitle(paramString);
  }
  
  public final void a(List paramList)
  {
    paramList = new h(this, b.getContext(), paramList);
    this$0 = new e(this);
    mCallback = new l(this);
    if (paramList.getCount() > 3) {
      f.setOffscreenPageLimit(3);
    } else if (paramList.getCount() > 2) {
      f.setOffscreenPageLimit(2);
    }
    f.setAdapter(paramList);
  }
  
  public final void a(boolean paramBoolean)
  {
    TextView localTextView = e;
    int i;
    if (paramBoolean) {
      i = 0;
    } else {
      i = 8;
    }
    localTextView.setVisibility(i);
  }
  
  public final void b(String paramString)
  {
    e.setText(paramString);
  }
  
  public final void b(boolean paramBoolean)
  {
    a.setChecked(paramBoolean);
  }
  
  public final void c(boolean paramBoolean)
  {
    FrameLayout localFrameLayout = b;
    int i;
    if (paramBoolean) {
      i = 0;
    } else {
      i = 8;
    }
    localFrameLayout.setVisibility(i);
  }
  
  public final void d(boolean paramBoolean)
  {
    RelativeLayout localRelativeLayout = k;
    int i;
    if (paramBoolean) {
      i = 0;
    } else {
      i = 8;
    }
    localRelativeLayout.setVisibility(i);
  }
  
  public final void onClick(View paramView)
  {
    if (paramView == a) {
      ((com.jd.feedback.album.ui.e)f).a();
    }
  }
}
