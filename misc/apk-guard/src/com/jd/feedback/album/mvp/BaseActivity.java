package com.jd.feedback.album.mvp;

import android.app.Activity;
import android.content.Context;
import android.content.res.Configuration;
import android.content.res.Resources;
import android.os.Build.VERSION;
import android.os.Bundle;
import androidx.appcompat.app.AppCompatActivity;
import androidx.core.app.ActivityCompat;
import androidx.core.content.PermissionChecker;
import com.jd.feedback.album.f;
import com.jd.feedback.album.h;
import java.util.ArrayList;
import java.util.List;

public class BaseActivity
  extends AppCompatActivity
  implements Object
{
  public static final String[] a = { "android.permission.CAMERA", "android.permission.RECORD_AUDIO", "android.permission.READ_EXTERNAL_STORAGE", "android.permission.WRITE_EXTERNAL_STORAGE" };
  public static final String[] b = { "android.permission.READ_EXTERNAL_STORAGE", "android.permission.WRITE_EXTERNAL_STORAGE" };
  public static final String[] c = { "android.permission.CAMERA", "android.permission.READ_EXTERNAL_STORAGE", "android.permission.WRITE_EXTERNAL_STORAGE" };
  
  public BaseActivity() {}
  
  protected final void get(String[] paramArrayOfString, int paramInt)
  {
    if (Build.VERSION.SDK_INT >= 23)
    {
      ArrayList localArrayList = new ArrayList(2);
      int j = paramArrayOfString.length;
      int i = 0;
      while (i < j)
      {
        String str = paramArrayOfString[i];
        if (PermissionChecker.checkSelfPermission((Context)this, str) != 0) {
          localArrayList.add(str);
        }
        i += 1;
      }
      if (!localArrayList.isEmpty())
      {
        paramArrayOfString = new String[localArrayList.size()];
        localArrayList.toArray(paramArrayOfString);
        ActivityCompat.requestPermissions((Activity)this, paramArrayOfString, paramInt);
        return;
      }
    }
    onOptionsItemSelected(paramInt);
  }
  
  protected void onCreate() {}
  
  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    paramBundle = alocale;
    Resources localResources = ((Context)this).getResources();
    Configuration localConfiguration = localResources.getConfiguration();
    if (Build.VERSION.SDK_INT >= 24)
    {
      localConfiguration.setLocale(paramBundle);
      ((Context)this).createConfigurationContext(localConfiguration);
      return;
    }
    locale = paramBundle;
    localResources.updateConfiguration(localConfiguration, localResources.getDisplayMetrics());
  }
  
  protected void onOptionsItemSelected(int paramInt) {}
  
  public final void onRequestPermissionsResult(int paramInt, String[] paramArrayOfString, int[] paramArrayOfInt)
  {
    int k = paramArrayOfInt.length;
    int j = 0;
    int i = 0;
    while (i < k)
    {
      if (paramArrayOfInt[i] == -1)
      {
        i = j;
        break label44;
      }
      i += 1;
    }
    i = 1;
    label44:
    if (i != 0)
    {
      onOptionsItemSelected(paramInt);
      return;
    }
    onCreate();
  }
  
  public final void setContentView()
  {
    onBackPressed();
  }
}
