package com.jd.framework.network.error;

import com.android.volley.NetworkResponse;
import com.android.volley.error.VolleyError;
import com.android.volley.toolbox.HttpHeaderParser;
import com.jd.framework.network.JDNetworkResponse;

public class JDError
  extends Exception
{
  protected boolean isDowngradeError = false;
  private String mUrl;
  public JDNetworkResponse networkResponse;
  private int statusCode = 0;
  
  public JDError()
  {
    networkResponse = null;
  }
  
  public JDError(VolleyError paramVolleyError)
  {
    super(paramVolleyError.getCause());
    networkResponse = convert2JDNetworkResponse(paramVolleyError);
    statusCode = paramVolleyError.getStatusCode();
    isDowngradeError = paramVolleyError.isDowngradeError();
    mUrl = paramVolleyError.getUrl();
  }
  
  public JDError(JDNetworkResponse paramJDNetworkResponse)
  {
    networkResponse = paramJDNetworkResponse;
  }
  
  public JDError(String paramString)
  {
    super(paramString);
    networkResponse = null;
  }
  
  public JDError(String paramString, Throwable paramThrowable)
  {
    super(paramString, paramThrowable);
    networkResponse = null;
  }
  
  public JDError(Throwable paramThrowable)
  {
    super(paramThrowable);
    networkResponse = null;
    mUrl = null;
  }
  
  public JDError(Throwable paramThrowable, String paramString)
  {
    super(paramThrowable);
    networkResponse = null;
    mUrl = paramString;
  }
  
  public JDNetworkResponse convert2JDNetworkResponse(VolleyError paramVolleyError)
  {
    NetworkResponse localNetworkResponse;
    if ((paramVolleyError != null) && (networkResponse != null))
    {
      localNetworkResponse = networkResponse;
      str = "";
    }
    try
    {
      byte[] arrayOfByte = data;
      paramVolleyError = str;
      if (arrayOfByte != null)
      {
        paramVolleyError = headers;
        if (paramVolleyError != null) {
          paramVolleyError = new String(data, HttpHeaderParser.parseCharset(headers, "utf-8"));
        } else {
          paramVolleyError = new String(data, "utf-8");
        }
      }
    }
    catch (Throwable paramVolleyError)
    {
      for (;;)
      {
        paramVolleyError = str;
      }
    }
    return new JDNetworkResponse(statusCode, headers, paramVolleyError);
    return null;
  }
  
  public int getStatusCode()
  {
    return statusCode;
  }
  
  public String getUrl()
  {
    return mUrl;
  }
  
  public boolean isDowngradeError()
  {
    return isDowngradeError;
  }
  
  public void setUrl(String paramString)
  {
    mUrl = paramString;
  }
}
