package com.jd.android.sdk.coreinfo.util;

import android.content.pm.PackageManager;
import android.os.Build.VERSION;
import android.os.IBinder;
import android.telephony.TelephonyManager;
import android.text.TextUtils;
import java.lang.reflect.Method;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public final class Context
{
  /* Error */
  private static String a(android.content.Context paramContext)
  {
    // Byte code:
    //   0: ldc 12
    //   2: astore_3
    //   3: ldc 14
    //   5: invokestatic 20	java/lang/Class:forName	(Ljava/lang/String;)Ljava/lang/Class;
    //   8: ldc 22
    //   10: iconst_1
    //   11: anewarray 16	java/lang/Class
    //   14: dup
    //   15: iconst_0
    //   16: ldc 24
    //   18: aastore
    //   19: invokevirtual 28	java/lang/Class:getDeclaredMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   22: astore_2
    //   23: aload_2
    //   24: iconst_1
    //   25: invokevirtual 34	java/lang/reflect/Method:setAccessible	(Z)V
    //   28: aload_2
    //   29: aconst_null
    //   30: iconst_1
    //   31: anewarray 4	java/lang/Object
    //   34: dup
    //   35: iconst_0
    //   36: ldc 36
    //   38: aastore
    //   39: invokevirtual 40	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   42: checkcast 42	android/os/IBinder
    //   45: astore_2
    //   46: ldc 44
    //   48: invokestatic 20	java/lang/Class:forName	(Ljava/lang/String;)Ljava/lang/Class;
    //   51: ldc 46
    //   53: iconst_1
    //   54: anewarray 16	java/lang/Class
    //   57: dup
    //   58: iconst_0
    //   59: ldc 42
    //   61: aastore
    //   62: invokevirtual 28	java/lang/Class:getDeclaredMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   65: astore 4
    //   67: aload 4
    //   69: iconst_1
    //   70: invokevirtual 34	java/lang/reflect/Method:setAccessible	(Z)V
    //   73: aload 4
    //   75: aconst_null
    //   76: iconst_1
    //   77: anewarray 4	java/lang/Object
    //   80: dup
    //   81: iconst_0
    //   82: aload_2
    //   83: aastore
    //   84: invokevirtual 40	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   87: astore 4
    //   89: aload 4
    //   91: invokevirtual 50	java/lang/Object:getClass	()Ljava/lang/Class;
    //   94: astore_2
    //   95: aload_2
    //   96: ldc 52
    //   98: iconst_1
    //   99: anewarray 16	java/lang/Class
    //   102: dup
    //   103: iconst_0
    //   104: ldc 24
    //   106: aastore
    //   107: invokevirtual 28	java/lang/Class:getDeclaredMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   110: astore 5
    //   112: aload_3
    //   113: astore_2
    //   114: aload 5
    //   116: ifnull +29 -> 145
    //   119: aload_0
    //   120: invokevirtual 58	android/content/Context:getPackageName	()Ljava/lang/String;
    //   123: astore_0
    //   124: aload 5
    //   126: aload 4
    //   128: iconst_1
    //   129: anewarray 4	java/lang/Object
    //   132: dup
    //   133: iconst_0
    //   134: aload_0
    //   135: aastore
    //   136: invokevirtual 40	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   139: astore_0
    //   140: aload_0
    //   141: checkcast 24	java/lang/String
    //   144: astore_2
    //   145: aload_2
    //   146: invokestatic 62	com/jd/android/sdk/coreinfo/util/Context:get	(Ljava/lang/String;)Z
    //   149: istore_1
    //   150: aload_2
    //   151: astore_0
    //   152: iload_1
    //   153: ifne +38 -> 191
    //   156: aload 4
    //   158: invokevirtual 50	java/lang/Object:getClass	()Ljava/lang/Class;
    //   161: ldc 52
    //   163: iconst_0
    //   164: anewarray 16	java/lang/Class
    //   167: invokevirtual 28	java/lang/Class:getDeclaredMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   170: astore_3
    //   171: aload_2
    //   172: astore_0
    //   173: aload_3
    //   174: ifnull +17 -> 191
    //   177: aload_3
    //   178: aload 4
    //   180: iconst_0
    //   181: anewarray 4	java/lang/Object
    //   184: invokevirtual 40	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   187: checkcast 24	java/lang/String
    //   190: astore_0
    //   191: aload_0
    //   192: areturn
    //   193: astore_0
    //   194: ldc 12
    //   196: areturn
    //   197: astore_0
    //   198: aload_3
    //   199: astore_2
    //   200: goto -55 -> 145
    //   203: astore_0
    //   204: ldc 12
    //   206: areturn
    //   207: astore_0
    //   208: aload_2
    //   209: areturn
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	210	0	paramContext	android.content.Context
    //   149	4	1	bool	boolean
    //   22	187	2	localObject1	Object
    //   2	197	3	localObject2	Object
    //   65	114	4	localObject3	Object
    //   110	15	5	localMethod	Method
    // Exception table:
    //   from	to	target	type
    //   3	89	193	java/lang/Throwable
    //   89	95	197	java/lang/Exception
    //   95	112	197	java/lang/Exception
    //   119	124	197	java/lang/Exception
    //   124	140	197	java/lang/Exception
    //   89	95	203	java/lang/Throwable
    //   95	112	203	java/lang/Throwable
    //   119	124	203	java/lang/Throwable
    //   124	140	203	java/lang/Throwable
    //   140	145	203	java/lang/Throwable
    //   145	150	207	java/lang/Throwable
    //   156	171	207	java/lang/Throwable
    //   177	191	207	java/lang/Throwable
  }
  
  public static String get(android.content.Context paramContext)
  {
    Object localObject3 = "";
    Object localObject1;
    if (paramContext != null)
    {
      Object localObject2 = localObject3;
      try
      {
        localObject1 = paramContext.getPackageManager();
        if (localObject1 != null)
        {
          localObject2 = localObject3;
          int i = ((PackageManager)localObject1).checkPermission("android.permission.READ_PHONE_STATE", paramContext.getPackageName());
          if (i == 0)
          {
            localObject2 = localObject3;
            i = Build.VERSION.SDK_INT;
            localObject1 = localObject3;
            if (i < 28)
            {
              localObject2 = localObject3;
              localObject1 = getValue(paramContext);
              localObject3 = localObject1;
              localObject2 = localObject3;
              bool = get((String)localObject1);
              localObject1 = localObject3;
              if (!bool)
              {
                localObject2 = localObject3;
                localObject1 = getInstance(paramContext);
                localObject3 = localObject1;
                localObject2 = localObject3;
                bool = get((String)localObject1);
                localObject1 = localObject3;
                if (!bool)
                {
                  localObject2 = localObject3;
                  localObject1 = a(paramContext);
                  localObject3 = localObject1;
                  localObject2 = localObject3;
                  bool = get((String)localObject1);
                  localObject1 = localObject3;
                  if (!bool)
                  {
                    localObject2 = localObject3;
                    localObject3 = initialize(paramContext);
                    localObject1 = localObject3;
                    localObject2 = localObject1;
                    bool = get((String)localObject3);
                    if (!bool) {
                      localObject1 = "";
                    }
                  }
                }
              }
            }
            localObject2 = localObject1;
            boolean bool = TextUtils.isEmpty((CharSequence)localObject1);
            if (!bool) {
              break label221;
            }
            localObject2 = localObject1;
            paramContext = (TelephonyManager)paramContext.getSystemService("phone");
            if (paramContext == null) {
              break label221;
            }
            localObject2 = localObject1;
            paramContext = paramContext.getSubscriberId();
            if (paramContext != null) {
              return paramContext;
            }
            return "";
          }
        }
      }
      catch (Throwable paramContext)
      {
        return localObject2;
      }
    }
    return "";
    label221:
    return localObject1;
    return paramContext;
  }
  
  private static boolean get(String paramString)
  {
    try
    {
      boolean bool = TextUtils.isEmpty(paramString);
      if (!bool)
      {
        bool = Pattern.compile("^[-\\+]?[\\d]*$").matcher(paramString).matches();
        return bool;
      }
    }
    catch (Throwable paramString) {}
    return false;
  }
  
  private static String getInstance(android.content.Context paramContext)
  {
    Object localObject3 = "";
    try
    {
      Object localObject1 = Class.forName("android.os.ServiceManager").getDeclaredMethod("getService", new Class[] { String.class });
      ((Method)localObject1).setAccessible(true);
      IBinder localIBinder = (IBinder)((Method)localObject1).invoke(null, new Object[] { "iphonesubinfo" });
      Class localClass = Class.forName("com.android.internal.telephony.IPhoneSubInfo$Stub");
      localObject1 = localClass.getDeclaredMethod("asInterface", new Class[] { IBinder.class });
      ((Method)localObject1).setAccessible(true);
      Object localObject4 = ((Method)localObject1).invoke(null, new Object[] { localIBinder });
      try
      {
        Method localMethod = localObject4.getClass().getDeclaredMethod("getSubscriberId", new Class[] { String.class });
        localObject1 = localObject3;
        if (localMethod != null) {
          localObject1 = com.jd.android.sdk.coreinfo.c.Context.get(paramContext.getPackageName(), localIBinder, com.jd.android.sdk.coreinfo.c.Context.create(localClass), com.jd.android.sdk.coreinfo.c.Context.get(localObject4, "TRANSACTION_getSubscriberId"));
        }
      }
      catch (Throwable localThrowable1)
      {
        paramContext = (android.content.Context)localObject3;
      }
      Object localObject2;
      boolean bool;
      return paramContext;
    }
    catch (Throwable paramContext)
    {
      try
      {
        localThrowable1.printStackTrace();
        localObject2 = localObject3;
        paramContext = (android.content.Context)localObject2;
        bool = get((String)localObject2);
        paramContext = (android.content.Context)localObject2;
        if (bool) {
          return paramContext;
        }
        paramContext = (android.content.Context)localObject2;
        localObject3 = localObject4.getClass().getDeclaredMethod("getSubscriberId", new Class[0]);
        paramContext = (android.content.Context)localObject2;
        if (localObject3 == null) {
          return paramContext;
        }
        paramContext = (android.content.Context)localObject2;
        localObject2 = com.jd.android.sdk.coreinfo.c.Context.get("", localIBinder, com.jd.android.sdk.coreinfo.c.Context.create(localClass), com.jd.android.sdk.coreinfo.c.Context.get(localObject4, "TRANSACTION_getSubscriberId"));
        return localObject2;
      }
      catch (Throwable localThrowable2) {}
      paramContext = paramContext;
      return "";
    }
  }
  
  /* Error */
  private static String getValue(android.content.Context paramContext)
  {
    // Byte code:
    //   0: ldc 12
    //   2: astore_3
    //   3: ldc 44
    //   5: invokestatic 20	java/lang/Class:forName	(Ljava/lang/String;)Ljava/lang/Class;
    //   8: ldc -122
    //   10: invokevirtual 148	java/lang/Class:getDeclaredField	(Ljava/lang/String;)Ljava/lang/reflect/Field;
    //   13: astore 4
    //   15: aload 4
    //   17: ifnull +104 -> 121
    //   20: aload 4
    //   22: iconst_1
    //   23: invokevirtual 151	java/lang/reflect/Field:setAccessible	(Z)V
    //   26: aload 4
    //   28: aconst_null
    //   29: invokevirtual 155	java/lang/reflect/Field:getInt	(Ljava/lang/Object;)I
    //   32: istore_1
    //   33: new 157	java/lang/StringBuilder
    //   36: dup
    //   37: ldc -97
    //   39: invokespecial 163	java/lang/StringBuilder:<init>	(Ljava/lang/String;)V
    //   42: astore 4
    //   44: aload 4
    //   46: iload_1
    //   47: invokevirtual 167	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   50: pop
    //   51: aload 4
    //   53: ldc -87
    //   55: invokevirtual 172	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   58: pop
    //   59: aload 4
    //   61: aload_0
    //   62: invokevirtual 58	android/content/Context:getPackageName	()Ljava/lang/String;
    //   65: invokevirtual 172	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   68: pop
    //   69: aload 4
    //   71: invokevirtual 175	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   74: invokestatic 180	com/jd/android/sdk/coreinfo/c/TextUtils:get	(Ljava/lang/String;)Ljava/lang/String;
    //   77: invokestatic 183	com/jd/android/sdk/coreinfo/c/Context:decode	(Ljava/lang/String;)Ljava/lang/String;
    //   80: astore_0
    //   81: aload_0
    //   82: invokestatic 62	com/jd/android/sdk/coreinfo/util/Context:get	(Ljava/lang/String;)Z
    //   85: istore_2
    //   86: iload_2
    //   87: ifne +37 -> 124
    //   90: ldc -97
    //   92: iload_1
    //   93: invokestatic 187	java/lang/String:valueOf	(I)Ljava/lang/String;
    //   96: invokevirtual 190	java/lang/String:concat	(Ljava/lang/String;)Ljava/lang/String;
    //   99: invokestatic 180	com/jd/android/sdk/coreinfo/c/TextUtils:get	(Ljava/lang/String;)Ljava/lang/String;
    //   102: invokestatic 183	com/jd/android/sdk/coreinfo/c/Context:decode	(Ljava/lang/String;)Ljava/lang/String;
    //   105: astore_3
    //   106: aload_3
    //   107: areturn
    //   108: astore_0
    //   109: ldc 12
    //   111: areturn
    //   112: astore_0
    //   113: aload_3
    //   114: astore_0
    //   115: goto -34 -> 81
    //   118: astore_3
    //   119: aload_0
    //   120: areturn
    //   121: ldc 12
    //   123: areturn
    //   124: aload_0
    //   125: areturn
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	126	0	paramContext	android.content.Context
    //   32	61	1	i	int
    //   85	2	2	bool	boolean
    //   2	112	3	str	String
    //   118	1	3	localThrowable	Throwable
    //   13	57	4	localObject	Object
    // Exception table:
    //   from	to	target	type
    //   3	15	108	java/lang/Throwable
    //   20	33	108	java/lang/Throwable
    //   33	81	112	java/lang/Throwable
    //   81	86	118	java/lang/Throwable
    //   90	106	118	java/lang/Throwable
  }
  
  private static String initialize(android.content.Context paramContext)
  {
    localObject2 = "";
    try
    {
      Object localObject1 = (TelephonyManager)paramContext.getSystemService("phone");
      Object localObject3 = TelephonyManager.class.getDeclaredMethod("getSubscriberInfo", new Class[0]);
      ((Method)localObject3).setAccessible(true);
      localObject3 = ((Method)localObject3).invoke(localObject1, new Object[0]);
      Method localMethod;
      boolean bool;
      return localObject1;
    }
    catch (Throwable paramContext)
    {
      for (;;)
      {
        try
        {
          localMethod = localObject3.getClass().getDeclaredMethod("getSubscriberId", new Class[] { String.class });
          localObject1 = localObject2;
          if (localMethod != null) {
            localObject1 = (String)localMethod.invoke(localObject3, new Object[] { paramContext.getPackageName() });
          }
        }
        catch (Throwable paramContext)
        {
          localObject1 = localObject2;
          continue;
        }
        try
        {
          bool = get((String)localObject1);
          paramContext = (android.content.Context)localObject1;
          if (!bool)
          {
            localObject2 = localObject3.getClass().getDeclaredMethod("getSubscriberId", new Class[0]);
            paramContext = (android.content.Context)localObject1;
            if (localObject2 != null) {
              paramContext = (String)((Method)localObject2).invoke(localObject3, new Object[0]);
            }
          }
          return paramContext;
        }
        catch (Throwable paramContext) {}
      }
      paramContext = paramContext;
      return "";
    }
  }
}
