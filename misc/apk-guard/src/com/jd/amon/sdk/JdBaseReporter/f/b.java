package com.jd.amon.sdk.JdBaseReporter.f;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.content.pm.PackageInfo;
import android.content.pm.PackageItemInfo;
import android.content.pm.PackageManager;
import android.os.BaseBundle;
import android.text.TextUtils;
import com.jd.amon.sdk.JdBaseReporter.a;

public class b
{
  private static boolean a;
  private static boolean b;
  private static String c;
  private static int versionCode;
  
  static boolean a()
  {
    boolean bool2 = true;
    boolean bool1 = bool2;
    try
    {
      Object localObject = a.a().f().getApplicationContext();
      bool1 = bool2;
      localObject = ((Context)localObject).getPackageManager().getApplicationInfo(((Context)localObject).getPackageName(), 128);
      localObject = metaData;
      bool1 = bool2;
      boolean bool3 = ((BaseBundle)localObject).getBoolean("shooter_report_online", true);
      bool2 = bool3;
      bool1 = bool2;
      localObject = new StringBuilder();
      bool1 = bool2;
      ((StringBuilder)localObject).append("isOnline");
      bool1 = bool2;
      ((StringBuilder)localObject).append(bool3);
      bool1 = bool2;
      e.a(((StringBuilder)localObject).toString());
      return bool3;
    }
    catch (Exception localException)
    {
      StringBuilder localStringBuilder = new StringBuilder();
      localStringBuilder.append("isOnline Exception ");
      localStringBuilder.append(localException.getMessage());
      e.a(localStringBuilder.toString());
    }
    return bool1;
  }
  
  public static boolean b()
  {
    if (!a)
    {
      b = onOptionsItemSelected();
      a = true;
    }
    return b;
  }
  
  public static String c()
  {
    if (TextUtils.isEmpty(c))
    {
      Object localObject = getPackageInfo();
      if (localObject == null) {
        localObject = "";
      } else {
        localObject = versionName;
      }
      c = (String)localObject;
    }
    return c;
  }
  
  private static PackageInfo getPackageInfo()
  {
    try
    {
      Object localObject = a.a().f().getApplicationContext();
      localObject = ((Context)localObject).getPackageManager().getPackageInfo(((Context)localObject).getPackageName(), 0);
      return localObject;
    }
    catch (Exception localException)
    {
      for (;;) {}
    }
    return null;
  }
  
  public static int onCreate()
  {
    if (versionCode == 0)
    {
      PackageInfo localPackageInfo = getPackageInfo();
      int i;
      if (localPackageInfo == null) {
        i = 0;
      } else {
        i = versionCode;
      }
      versionCode = i;
    }
    return versionCode;
  }
  
  private static boolean onOptionsItemSelected()
  {
    try
    {
      SharedPreferences localSharedPreferences = a.a().f().getApplicationContext().getSharedPreferences("shooter_strategyInfo", 0);
      boolean bool = localSharedPreferences.contains("newUserFlag");
      if (bool) {
        return false;
      }
      localSharedPreferences.edit().putInt("newUserFlag", 1).apply();
      return true;
    }
    catch (Throwable localThrowable) {}
    return true;
  }
}
