package com.jd.libs.hybrid.preload.upgrade;

import android.database.Cursor;
import androidx.room.DatabaseConfiguration;
import androidx.room.InvalidationTracker;
import androidx.room.RoomDatabase;
import androidx.room.RoomOpenHelper;
import androidx.sqlite.db.SupportSQLiteDatabase;
import androidx.sqlite.db.SupportSQLiteOpenHelper;
import androidx.sqlite.db.SupportSQLiteOpenHelper.Callback;
import androidx.sqlite.db.SupportSQLiteOpenHelper.Configuration;
import androidx.sqlite.db.SupportSQLiteOpenHelper.Configuration.Builder;
import androidx.sqlite.db.SupportSQLiteOpenHelper.Factory;
import com.jd.libs.hybrid.preload.upgrade.signature.a;
import com.jd.libs.hybrid.preload.upgrade.signature.b;

public final class PreloadDatabase_Impl
  extends PreloadDatabase
{
  private volatile a j;
  
  public PreloadDatabase_Impl() {}
  
  public final a a()
  {
    if (j != null) {
      return j;
    }
    try
    {
      if (j == null) {
        j = new b(this);
      }
      a localA = j;
      return localA;
    }
    catch (Throwable localThrowable)
    {
      throw localThrowable;
    }
  }
  
  public final void clearAllTables()
  {
    super.assertNotMainThread();
    SupportSQLiteDatabase localSupportSQLiteDatabase = super.getOpenHelper().getWritableDatabase();
    try
    {
      super.beginTransaction();
      localSupportSQLiteDatabase.execSQL("DELETE FROM `HybridPreloadInfo`");
      super.setTransactionSuccessful();
      super.endTransaction();
      localSupportSQLiteDatabase.query("PRAGMA wal_checkpoint(FULL)").close();
      if (!localSupportSQLiteDatabase.inTransaction())
      {
        localSupportSQLiteDatabase.execSQL("VACUUM");
        return;
      }
    }
    catch (Throwable localThrowable)
    {
      super.endTransaction();
      localSupportSQLiteDatabase.query("PRAGMA wal_checkpoint(FULL)").close();
      if (!localSupportSQLiteDatabase.inTransaction()) {
        localSupportSQLiteDatabase.execSQL("VACUUM");
      }
      throw localThrowable;
    }
  }
  
  protected final InvalidationTracker createInvalidationTracker()
  {
    return new InvalidationTracker(this, new String[] { "HybridPreloadInfo" });
  }
  
  protected final SupportSQLiteOpenHelper createOpenHelper(DatabaseConfiguration paramDatabaseConfiguration)
  {
    Object localObject = new RoomOpenHelper(paramDatabaseConfiguration, new PreloadDatabase_Impl.1(this), "02db638ec98c2a7528df29cc2d0a10a0", "137dcbd1c8a4d06d62a83c3e7e040c23");
    localObject = SupportSQLiteOpenHelper.Configuration.builder(context).name(name).callback((SupportSQLiteOpenHelper.Callback)localObject).build();
    return sqliteOpenHelperFactory.create((SupportSQLiteOpenHelper.Configuration)localObject);
  }
}
