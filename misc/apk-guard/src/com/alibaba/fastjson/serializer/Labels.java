package com.alibaba.fastjson.serializer;

import java.util.Arrays;

public class Labels
{
  public Labels() {}
  
  public static LabelFilter excludes(String... paramVarArgs)
  {
    return new DefaultLabelFilter(null, paramVarArgs);
  }
  
  public static LabelFilter includes(String... paramVarArgs)
  {
    return new DefaultLabelFilter(paramVarArgs, null);
  }
  
  private static class DefaultLabelFilter
    implements LabelFilter
  {
    private String[] excludes;
    private String[] includes;
    
    public DefaultLabelFilter(String[] paramArrayOfString1, String[] paramArrayOfString2)
    {
      if (paramArrayOfString1 != null)
      {
        includes = new String[paramArrayOfString1.length];
        System.arraycopy(paramArrayOfString1, 0, includes, 0, paramArrayOfString1.length);
        Arrays.sort(includes);
      }
      if (paramArrayOfString2 != null)
      {
        excludes = new String[paramArrayOfString2.length];
        System.arraycopy(paramArrayOfString2, 0, excludes, 0, paramArrayOfString2.length);
        Arrays.sort(excludes);
      }
    }
    
    public boolean apply(String paramString)
    {
      String[] arrayOfString = excludes;
      if ((arrayOfString != null) && (Arrays.binarySearch(arrayOfString, paramString) >= 0)) {
        return false;
      }
      arrayOfString = includes;
      if (arrayOfString != null) {
        return Arrays.binarySearch(arrayOfString, paramString) >= 0;
      }
      return true;
    }
  }
}
