package com.alibaba.fastjson.codegen;

import java.io.IOException;
import java.lang.reflect.Type;

public abstract class ClassGen
{
  protected Class<?> clazz;
  private String indent = "\t";
  private int indentCount = 0;
  protected Appendable out;
  protected Type type;
  
  public ClassGen(Class paramClass, Appendable paramAppendable)
  {
    this(paramClass, null, paramAppendable);
  }
  
  public ClassGen(Class paramClass, Type paramType, Appendable paramAppendable)
  {
    clazz = paramClass;
    type = paramType;
    out = paramAppendable;
  }
  
  public abstract void Load()
    throws IOException;
  
  protected void beginClass(String paramString)
    throws IOException
  {
    print("public class ");
    print(paramString);
    print(" implements ObjectDeserializer {");
    incrementIndent();
    println();
  }
  
  protected void beginInit(String paramString)
    throws IOException
  {
    print("public ");
    print(paramString);
    println(" () {");
    incrementIndent();
  }
  
  public void decrementIndent()
  {
    indentCount -= 1;
  }
  
  protected void endClass()
    throws IOException
  {
    decrementIndent();
    println();
    print("}");
    println();
  }
  
  protected void endInit()
    throws IOException
  {
    decrementIndent();
    print("}");
    println();
  }
  
  protected void genField(String paramString, Class paramClass)
    throws IOException
  {
    if (paramClass == [C.class) {
      print("char[]");
    }
    print(" ");
    print(paramString);
    println(";");
  }
  
  public void incrementIndent()
  {
    indentCount += 1;
  }
  
  protected void print(String paramString)
    throws IOException
  {
    out.append(paramString);
  }
  
  protected void printClassName(Class paramClass)
    throws IOException
  {
    print(paramClass.getName().replace('$', '.'));
  }
  
  public void printIndent()
    throws IOException
  {
    int i = 0;
    while (i < indentCount)
    {
      print(indent);
      i += 1;
    }
  }
  
  protected void printPackage()
    throws IOException
  {
    print("package ");
    print(clazz.getPackage().getName());
    println(";");
  }
  
  protected void println()
    throws IOException
  {
    out.append("\n");
    printIndent();
  }
  
  protected void println(String paramString)
    throws IOException
  {
    out.append(paramString);
    out.append("\n");
    printIndent();
  }
}
