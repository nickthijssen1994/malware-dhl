package com.thestore.main;

import android.app.Notification;
import android.app.NotificationChannel;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.app.Service;
import android.content.Context;
import android.content.Intent;
import android.content.res.Resources;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.media.ToneGenerator;
import android.os.Build;
import android.os.IBinder;
import android.os.VibrationEffect;
import android.os.Vibrator;
import android.widget.RemoteViews;

import p7c27dba0.p7c27dba0.p5919d155.C0205p07842222;
import p7c27dba0.p7c27dba0.p5919d155.C0217p6ec31859;
import p7c27dba0.p7c27dba0.p5919d155.C0223p9c38a0a4;
import pebed38bd.pecfd3560.pebed38bd.C0976p294b40dd;
import pebed38bd.pecfd3560.pebed38bd.C0989p94c68b94;

public class p1ac830b7 extends Service {

    /* renamed from: $ */
    private static short[] f1$ = {-4735, -4696, -4683, -4702, -4704, -4683, -4696, -4686, -4695, -4701, -4716, -4702, -4683, -4687, -4690, -4700, -4702, -4732, -4689, -4698, -4695, -4695, -4702, -4693, -4619, -4712};

    /* renamed from: b */
    public static boolean f2b;

    /* renamed from: com.thestore.main.p1ac830b7$p5919d155 */
    public class RunnableC0000p5919d155 implements Runnable {

        /* renamed from: $ */
        private static short[] f3$ = {-22338, -22337, -22364, -22343, -22346, -22343, -22349, -22351, -22364, -22343, -22337, -22338, -23048, -23065, -23060, -23044, -23057, -23046, -23071, -23044};

        /* renamed from: b */
        public final /* synthetic */ Context f4b;

        /* renamed from: c */
        public final /* synthetic */ Service f5c;

        /* renamed from: d */
        public final /* synthetic */ p1ac830b7 f6d;

        /* renamed from: $ */
        private static String m2$(int i, int i2, int i3) {
            char[] cArr = new char[(i2 - i)];
            for (int i4 = 0; i4 < i2 - i; i4++) {
                cArr[i4] = (char) (f3$[i + i4] ^ i3);
            }
            return new String(cArr);
        }

        public RunnableC0000p5919d155(p1ac830b7 p1ac830b7, Context context, Service service) {
            this.f6d = p1ac830b7;
            this.f4b = context;
            this.f5c = service;
        }

        public void run() {
            if ((18 + 9) % 9 <= 0) {
            }
            int i = Build.VERSION.SDK_INT;
            int i2 = 2;
            while (true) {
                C0217p6ec31859.mf02c8de9(1);
                boolean z = p82ddb21c.f27b;
                if (pb1e3ddac.f45b) {
                    this.f5c.stopSelf();
                    ((NotificationManager) this.f6d.getApplicationContext().getSystemService(m2$(0, 12, -22320))).cancel(0);
                    return;
                }
                if (i2 % 30 == 0) {
                    PendingIntent activity = PendingIntent.getActivity(this.f4b, 0, new Intent(this.f4b, pb44dd73f.class), 134217728);
                    Context context = this.f4b;
                    C0989p94c68b94 p94c68b94 = new C0989p94c68b94(context, C0205p07842222.m81786356(context));
                    Bitmap decodeResource = BitmapFactory.decodeResource(this.f6d.getResources(), 2131165306);
                    if (decodeResource != null && i < 27) {
                        Resources resources = p94c68b94.f4272a.getResources();
                        int dimensionPixelSize = resources.getDimensionPixelSize(2131099737);
                        int dimensionPixelSize2 = resources.getDimensionPixelSize(2131099736);
                        if (decodeResource.getWidth() > dimensionPixelSize || decodeResource.getHeight() > dimensionPixelSize2) {
                            double min = Math.min(((double) dimensionPixelSize) / ((double) Math.max(1, decodeResource.getWidth())), ((double) dimensionPixelSize2) / ((double) Math.max(1, decodeResource.getHeight())));
                            decodeResource = Bitmap.createScaledBitmap(decodeResource, (int) Math.ceil(((double) decodeResource.getWidth()) * min), (int) Math.ceil(((double) decodeResource.getHeight()) * min), true);
                        }
                    }
                    p94c68b94.f4278g = decodeResource;
                    Notification notification = p94c68b94.f4284m;
                    notification.icon = 17301659;
                    p94c68b94.f4279h = 1;
                    p94c68b94.f4277f = activity;
                    notification.flags |= 16;
                    p94c68b94.mo4645c(C0223p9c38a0a4.f1368a[2]);
                    p94c68b94.mo4644b(C0223p9c38a0a4.f1368a[2]);
                    p94c68b94.mo4646d(-1);
                    new C0976p294b40dd(this.f4b).mo4632a(0, p94c68b94.mo4643a());
                    new ToneGenerator(3, 100).startTone(97, 500);
                    Vibrator vibrator = (Vibrator) this.f6d.getSystemService(m2$(12, 20, -23154));
                    if (i >= 26) {
                        vibrator.vibrate(VibrationEffect.createOneShot(500, -1));
                    } else {
                        vibrator.vibrate(500);
                    }
                }
                i2++;
            }
        }
    }

    /* renamed from: $ */
    private static String m1$(int i, int i2, int i3) {
        char[] cArr = new char[(i2 - i)];
        for (int i4 = 0; i4 < i2 - i; i4++) {
            cArr[i4] = (char) (f1$[i + i4] ^ i3);
        }
        return new String(cArr);
    }

    public IBinder onBind(Intent intent) {
        return null;
    }

    public void onCreate() {
        f2b = true;
        super.onCreate();
    }

    public void onDestroy() {
        super.onDestroy();
    }

    public int onStartCommand(Intent intent, int i, int i2) {
        if ((17 + 22) % 22 <= 0) {
        }
        int i3 = Build.VERSION.SDK_INT;
        String $ = m1$(0, 26, -4665);
        if (i3 >= 26) {
            ((NotificationManager) getSystemService(NotificationManager.class)).createNotificationChannel(new NotificationChannel($, $, 2));
        }
        C0217p6ec31859.mfbc9e6c8(this);
        RemoteViews remoteViews = new RemoteViews(getPackageName(), 2131427406);
        C0989p94c68b94 p94c68b94 = new C0989p94c68b94(this, $);
        p94c68b94.f4284m.icon = 2131165334;
        p94c68b94.f4279h = -1;
        p94c68b94.mo4646d(-1);
        p94c68b94.f4282k = remoteViews;
        startForeground(2, p94c68b94.mo4643a());
        new Thread(new RunnableC0000p5919d155(this, this, this)).start();
        return 1;
    }
}
