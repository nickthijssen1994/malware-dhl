{
  "name": "Mask",
  "graph": {
    "unpremultiplyTexture": {
      "inputs": {
        "input": "inputs:texture.value"
      },
      "kernel": "Unpremultiply"
    },
    "cast_amount": {
      "inputs": {
        "input": "params:hue.value"
      },
      "kernel": "Cast"
    },
    "effect": {
      "inputs": {
        "hueAdjust": "cast_amount.output",
        "input": "unpremultiplyTexture.output"
      },
      "kernel": "HueEffect"
    },
    "sourceShape": {
      "kernel": "ShapeOf",
      "inputs": {
        "input": "inputs:input_image.value"
      }
    },
    "emptyColor": {
      "kernel": "ARGB_8888",
      "set-inputs": {
        "value": [
          0,
          0,
          0,
          0
        ]
      }
    },
    "emptyImage": {
      "kernel": "SolidColor",
      "inputs": {
        "color": "emptyColor.value",
        "size": "sourceShape.size"
      }
    },
    "idle": {
      "kernel": "Idle",
      "inputs": {
        "image": "emptyImage.output"
      }
    },
    "mesh": {
      "inputs": {
        "input": "idle.output",
        "image": "effect.output",
        "model_matrix": "inputs:input_buffer.value",
        "blend_mode": {
          "value": 30
        },
        "disable_culling": {
          "value": 1
        }
      },
      "kernel": "TempMesh"
    },
    "unpremultiplyMesh": {
      "inputs": {
        "input": "mesh.output"
      },
      "kernel": "Unpremultiply"
    },
    "psblend": {
      "kernel": "PSBlend",
      "inputs": {
        "blend_mode": "params:blend.value",
        "top": "unpremultiplyMesh.output",
        "bottom": "inputs:input_image.value"
      }
    },
    "premultiplyBlend": {
      "inputs": {
        "input": "psblend.output"
      },
      "kernel": "Premultiply"
    },
    "invertFade": {
      "kernel": "-",
      "inputs": {
        "x": {
          "value": 100
        },
        "y": "params:fade.value"
      }
    },
    "cache": {
      "kernel": "Image",
      "inputs": {
        "value": "premultiplyBlend.output"
      }
    },
    "fade": {
      "kernel": "Fade",
      "inputs": {
        "top": "cache.value",
        "bottom": "inputs:input_image.value",
        "fade": "params:fade.value"
      }
    },
    "fadeCache": {
      "kernel": "Image",
      "inputs": {
        "value": "fade.output"
      }
    }
  },
  "inputs": [
    {
      "name": "input_buffer",
      "type": "bufferFloat"
    },
    {
      "name": "input_image",
      "type": "image"
    },
    {
      "name": "texture",
      "type": "image"
    }
  ],
  "outputs": [
    {
      "name": "output_image",
      "type": "image",
      "value": "fadeCache.value"
    }
  ],
  "params": [
    {
      "name": "blend",
      "type": "enum",
      "value": 0,
      "values": [
        "Normal",
        "Lighten",
        "Darken",
        "Multiply",
        "Average",
        "Add",
        "Subtract",
        "Difference",
        "Negation",
        "Screen",
        "Exclusion",
        "Overlay",
        "SoftLight",
        "HardLight",
        "ColorDodge",
        "ColorBurn",
        "LinearDodge",
        "LinearBurn",
        "LinearLight",
        "VividLight",
        "PinLight",
        "HardMix",
        "Reflect",
        "Glow",
        "Phoenix",
        "Alpha"
      ]
    },
    {
      "min_max": [
        0,
        100
      ],
      "name": "fade",
      "type": "int",
      "value": 0
    },
    {
      "min_max": [
        0,
        360
      ],
      "name": "hue",
      "type": "int",
      "value": 0
    }
  ]
}