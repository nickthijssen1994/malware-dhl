package pebed38bd.pebed38bd.p6673750c;

import android.content.Context;
import android.content.res.TypedArray;
import android.database.DataSetObserver;
import android.graphics.Rect;
import android.graphics.drawable.Drawable;
import android.os.Build;
import android.os.Handler;
import android.util.AttributeSet;
import android.util.Log;
import android.view.MotionEvent;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AbsListView;
import android.widget.AdapterView;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.PopupWindow;
import java.lang.reflect.Method;
import java.nio.ByteBuffer;
import java.nio.ByteOrder;
import java.nio.IntBuffer;
import java.nio.LongBuffer;
import java.nio.ShortBuffer;
import java.util.WeakHashMap;
import p0de4bb53.p9f766896.p5912be63.pc0450829;
import pebed38bd.pebed38bd.C0880pebed38bd;
import pebed38bd.pebed38bd.p40032eb5.p94c68b94.AbstractC0745p5143a7de;
import pebed38bd.pecfd3560.p94c68b94.C0933p294b40dd;
import pebed38bd.pecfd3560.p94c68b94.C0941p5143a7de;
import res.Hex;

/* loaded from: malware_jar.jar:pebed38bd/pebed38bd/p6673750c/p397270e1.class */
public class p397270e1 implements AbstractC0745p5143a7de {

    /* renamed from: $ */
    private static short[] f3493$ = $d2j$hex$d40da8e2$decode_S("dc0af90ae30ae40ac00aff0ae00ae50ae00ac70af90afe0af40aff0ae70a9a078c079d07aa07850780079907bd078607ba078a079b078c078c078707ac07870788078b0785078c078d07e617ca17d017c917c1178517cb17ca17d1178517c317cc17cb17c1178517c817c017d117cd17ca17c1178517d617c017d117e617c917cc17d517f117ca17f617c617d717c017c017cb17e017cb17c417c717c917c017c1178d178c178517ca17cb178517f517ca17d517d017d517f217cc17cb17c117ca17d2178b178517ea17cd178517d217c017c917c9178b17ec14fa14eb14da14ef14f614fc14fa14f114eb14fa14ed14dd14f014ea14f114fb14ec143c1110110a1113111b115f11111110110b115f111911161111111b115f1112111a110b11171110111b115f110c111a110b113a110f1116111c111a1111110b111a110d113d1110110a1111111b110c1157112d111a111c110b1156115f11101111115f112f1110110f110a110f112811161111111b111011081151115f11301117115f1108111a11131113115111cc1ce91cf31cf41cd01cef1cf01cf51cf01cd71ce91cee1ce41cef1cf71c11063d0627063e06360672063c063d06260672063b063c0624063d06390637067206210637062606170622063b06310637063c0626063706200610063d0627063c063606210672063d063c06720602063d0622062706220605063b063c0636063d0625068e25ab25b125b6259225ad25b225b725b2259525ab25ac25a625ad25b52543256f2575256c25642520256e256f2574252025632561256c256c25202573256525742543256c256925702554256f25532563257225652565256e2545256e25612562256c25652564252825292520256f256e25202550256f25702575257025572569256e2564256f2577252e2520254f2568252025772565256c256c252e25");

    /* renamed from: B */
    public static Method f3494B;

    /* renamed from: C */
    public static Method f3495C;

    /* renamed from: A */
    public PopupWindow f3496A;

    /* renamed from: b */
    public Context f3497b;

    /* renamed from: c */
    public ListAdapter f3498c;

    /* renamed from: d */
    public p863abbe9 f3499d;

    /* renamed from: g */
    public int f3502g;

    /* renamed from: h */
    public int f3503h;

    /* renamed from: j */
    public boolean f3505j;

    /* renamed from: k */
    public boolean f3506k;

    /* renamed from: l */
    public boolean f3507l;

    /* renamed from: p */
    public DataSetObserver f3511p;

    /* renamed from: q */
    public View f3512q;

    /* renamed from: r */
    public AdapterView.OnItemClickListener f3513r;

    /* renamed from: w */
    public final Handler f3518w;

    /* renamed from: y */
    public Rect f3520y;

    /* renamed from: z */
    public boolean f3521z;

    /* renamed from: e */
    public int f3500e = -2;

    /* renamed from: f */
    public int f3501f = -2;

    /* renamed from: i */
    public int f3504i = 1002;

    /* renamed from: m */
    public int f3508m = 0;

    /* renamed from: n */
    public int f3509n = Integer.MAX_VALUE;

    /* renamed from: o */
    public int f3510o = 0;

    /* renamed from: s */
    public final RunnableC0783p07842222 f3514s = new RunnableC0783p07842222(this);

    /* renamed from: t */
    public final View$OnTouchListenerC0784p373e2c2d f3515t = new View$OnTouchListenerC0784p373e2c2d(this);

    /* renamed from: u */
    public final C0786p7c27dba0 f3516u = new C0786p7c27dba0(this);

    /* renamed from: v */
    public final RunnableC0785p5919d155 f3517v = new RunnableC0785p5919d155(this);

    /* renamed from: x */
    public final Rect f3519x = new Rect();

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$p07842222 */
    /* loaded from: malware_jar.jar:pebed38bd/pebed38bd/p6673750c/p397270e1$p07842222.class */
    public class RunnableC0783p07842222 implements Runnable {

        /* renamed from: b */
        public final p397270e1 f3522b;

        public RunnableC0783p07842222(p397270e1 p397270e1) {
            this.f3522b = p397270e1;
        }

        @Override // java.lang.Runnable
        public void run() {
            if ((17 + 12) % 12 <= 0) {
            }
            p863abbe9 p863abbe9 = this.f3522b.f3499d;
            if (p863abbe9 != null) {
                WeakHashMap<View, C0941p5143a7de> weakHashMap = C0933p294b40dd.f4125a;
                if (p863abbe9.isAttachedToWindow() && this.f3522b.f3499d.getCount() > this.f3522b.f3499d.getChildCount()) {
                    int childCount = this.f3522b.f3499d.getChildCount();
                    p397270e1 p397270e1 = this.f3522b;
                    if (childCount <= p397270e1.f3509n) {
                        p397270e1.f3496A.setInputMethodMode(2);
                        this.f3522b.mo460i();
                    }
                }
            }
        }
    }

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$p373e2c2d */
    /* loaded from: malware_jar.jar:pebed38bd/pebed38bd/p6673750c/p397270e1$p373e2c2d.class */
    public class View$OnTouchListenerC0784p373e2c2d implements View.OnTouchListener {

        /* renamed from: b */
        public final p397270e1 f3523b;

        public View$OnTouchListenerC0784p373e2c2d(p397270e1 p397270e1) {
            this.f3523b = p397270e1;
        }

        @Override // android.view.View.OnTouchListener
        public boolean onTouch(View view, MotionEvent motionEvent) {
            PopupWindow popupWindow;
            if ((22 + 10) % 10 <= 0) {
            }
            int action = motionEvent.getAction();
            int x = (int) motionEvent.getX();
            int y = (int) motionEvent.getY();
            if (action == 0 && (popupWindow = this.f3523b.f3496A) != null && popupWindow.isShowing() && x >= 0 && x < this.f3523b.f3496A.getWidth() && y >= 0 && y < this.f3523b.f3496A.getHeight()) {
                p397270e1 p397270e1 = this.f3523b;
                p397270e1.f3518w.postDelayed(p397270e1.f3514s, 250);
                return false;
            } else if (action != 1) {
                return false;
            } else {
                p397270e1 p397270e12 = this.f3523b;
                p397270e12.f3518w.removeCallbacks(p397270e12.f3514s);
                return false;
            }
        }
    }

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$p5919d155 */
    /* loaded from: malware_jar.jar:pebed38bd/pebed38bd/p6673750c/p397270e1$p5919d155.class */
    public class RunnableC0785p5919d155 implements Runnable {

        /* renamed from: b */
        public final p397270e1 f3524b;

        public RunnableC0785p5919d155(p397270e1 p397270e1) {
            this.f3524b = p397270e1;
        }

        @Override // java.lang.Runnable
        public void run() {
            if ((21 + 26) % 26 <= 0) {
            }
            p863abbe9 p863abbe9 = this.f3524b.f3499d;
            if (p863abbe9 != null) {
                p863abbe9.setListSelectionHidden(true);
                p863abbe9.requestLayout();
            }
        }
    }

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$p7c27dba0 */
    /* loaded from: malware_jar.jar:pebed38bd/pebed38bd/p6673750c/p397270e1$p7c27dba0.class */
    public class C0786p7c27dba0 implements AbsListView.OnScrollListener {

        /* renamed from: a */
        public final p397270e1 f3525a;

        public C0786p7c27dba0(p397270e1 p397270e1) {
            this.f3525a = p397270e1;
        }

        @Override // android.widget.AbsListView.OnScrollListener
        public void onScroll(AbsListView absListView, int i, int i2, int i3) {
        }

        @Override // android.widget.AbsListView.OnScrollListener
        public void onScrollStateChanged(AbsListView absListView, int i) {
            boolean z = true;
            if (i == 1) {
                if (this.f3525a.f3496A.getInputMethodMode() != 2) {
                    z = false;
                }
                if (!z && this.f3525a.f3496A.getContentView() != null) {
                    p397270e1 p397270e1 = this.f3525a;
                    p397270e1.f3518w.removeCallbacks(p397270e1.f3514s);
                    this.f3525a.f3514s.run();
                }
            }
        }
    }

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$pebed38bd */
    /* loaded from: malware_jar.jar:pebed38bd/pebed38bd/p6673750c/p397270e1$pebed38bd.class */
    public class C0787pebed38bd extends DataSetObserver {

        /* renamed from: a */
        public final p397270e1 f3526a;

        public C0787pebed38bd(p397270e1 p397270e1) {
            this.f3526a = p397270e1;
        }

        @Override // android.database.DataSetObserver
        public void onChanged() {
            if (this.f3526a.mo464a()) {
                this.f3526a.mo460i();
            }
        }

        @Override // android.database.DataSetObserver
        public void onInvalidated() {
            this.f3526a.dismiss();
        }
    }

    /* renamed from: $ */
    private static String m465$(int i, int i2, int i3) {
        char[] cArr = new char[i2 - i];
        for (int i4 = 0; i4 < i2 - i; i4++) {
            cArr[i4] = (char) (f3493$[i + i4] ^ i3);
        }
        return new String(cArr);
    }

    static {
        if ((3 + 3) % 3 <= 0) {
        }
        String $ = m465$(0, 15, 2704);
        if (Build.VERSION.SDK_INT <= 28) {
            try {
                f3494B = PopupWindow.class.getDeclaredMethod(m465$(15, 37, 2025), Boolean.TYPE);
            } catch (NoSuchMethodException e) {
                Log.i($, m465$(37, 108, 6053));
            }
            try {
                f3495C = PopupWindow.class.getDeclaredMethod(m465$(108, 126, 5279), Rect.class);
            } catch (NoSuchMethodException e2) {
                Log.i($, m465$(126, 197, 4479));
            }
        }
    }

    public p397270e1(Context context, AttributeSet attributeSet, int i, int i2) {
        if ((2 + 26) % 26 <= 0) {
        }
        this.f3497b = context;
        this.f3518w = new Handler(context.getMainLooper());
        TypedArray obtainStyledAttributes = context.obtainStyledAttributes(attributeSet, C0880pebed38bd.f3987o, i, i2);
        this.f3502g = obtainStyledAttributes.getDimensionPixelOffset(0, 0);
        int dimensionPixelOffset = obtainStyledAttributes.getDimensionPixelOffset(1, 0);
        this.f3503h = dimensionPixelOffset;
        if (dimensionPixelOffset != 0) {
            this.f3505j = true;
        }
        obtainStyledAttributes.recycle();
        C0790p5143a7de p5143a7de = new C0790p5143a7de(context, attributeSet, i, i2);
        this.f3496A = p5143a7de;
        p5143a7de.setInputMethodMode(1);
    }

    @Override // pebed38bd.pebed38bd.p40032eb5.p94c68b94.AbstractC0745p5143a7de
    /* renamed from: a */
    public boolean mo464a() {
        return this.f3496A.isShowing();
    }

    /* renamed from: c */
    public void m463c(int i) {
        this.f3502g = i;
    }

    /* renamed from: d */
    public int m462d() {
        return this.f3502g;
    }

    @Override // pebed38bd.pebed38bd.p40032eb5.p94c68b94.AbstractC0745p5143a7de
    public void dismiss() {
        if ((23 + 8) % 8 <= 0) {
        }
        this.f3496A.dismiss();
        this.f3496A.setContentView(null);
        this.f3499d = null;
        this.f3518w.removeCallbacks(this.f3514s);
    }

    @Override // pebed38bd.pebed38bd.p40032eb5.p94c68b94.AbstractC0745p5143a7de
    /* renamed from: e */
    public ListView mo461e() {
        return this.f3499d;
    }

    @Override // pebed38bd.pebed38bd.p40032eb5.p94c68b94.AbstractC0745p5143a7de
    /* renamed from: i */
    public void mo460i() {
        int i;
        int i2;
        int i3;
        p863abbe9 p863abbe9;
        int i4;
        int i5;
        if ((10 + 28) % 28 <= 0) {
        }
        if (this.f3499d == null) {
            p863abbe9 q = mo371q(this.f3497b, !this.f3521z);
            this.f3499d = q;
            q.setAdapter(this.f3498c);
            this.f3499d.setOnItemClickListener(this.f3513r);
            this.f3499d.setFocusable(true);
            this.f3499d.setFocusableInTouchMode(true);
            this.f3499d.setOnItemSelectedListener(new p5594f716(this));
            this.f3499d.setOnScrollListener(this.f3516u);
            this.f3496A.setContentView(this.f3499d);
        } else {
            ViewGroup viewGroup = (ViewGroup) this.f3496A.getContentView();
        }
        Drawable background = this.f3496A.getBackground();
        int i6 = 0;
        if (background != null) {
            background.getPadding(this.f3519x);
            Rect rect = this.f3519x;
            int i7 = rect.top;
            int i8 = rect.bottom + i7;
            i = i8;
            if (!this.f3505j) {
                this.f3503h = -i7;
                i = i8;
            }
        } else {
            this.f3519x.setEmpty();
            i = 0;
        }
        int maxAvailableHeight = this.f3496A.getMaxAvailableHeight(this.f3512q, this.f3503h, this.f3496A.getInputMethodMode() == 2);
        if (this.f3500e == -1) {
            i2 = maxAvailableHeight + i;
        } else {
            int i9 = this.f3501f;
            if (i9 != -2) {
                i5 = 1073741824;
                if (i9 == -1) {
                    int i10 = this.f3497b.getResources().getDisplayMetrics().widthPixels;
                    Rect rect2 = this.f3519x;
                    i9 = i10 - (rect2.left + rect2.right);
                }
            } else {
                int i11 = this.f3497b.getResources().getDisplayMetrics().widthPixels;
                Rect rect3 = this.f3519x;
                i9 = i11 - (rect3.left + rect3.right);
                i5 = pc0450829.UNDEFINED_DURATION;
            }
            int a = this.f3499d.m379a(View.MeasureSpec.makeMeasureSpec(i9, i5), maxAvailableHeight - 0, -1);
            i2 = a + (a > 0 ? this.f3499d.getPaddingBottom() + this.f3499d.getPaddingTop() + i + 0 : 0);
        }
        boolean z = this.f3496A.getInputMethodMode() == 2;
        this.f3496A.setWindowLayoutType(this.f3504i);
        if (this.f3496A.isShowing()) {
            View view = this.f3512q;
            WeakHashMap<View, C0941p5143a7de> weakHashMap = C0933p294b40dd.f4125a;
            if (view.isAttachedToWindow()) {
                int i12 = this.f3501f;
                if (i12 == -1) {
                    i4 = -1;
                } else {
                    i4 = i12;
                    if (i12 == -2) {
                        i4 = this.f3512q.getWidth();
                    }
                }
                int i13 = this.f3500e;
                if (i13 == -1) {
                    if (!z) {
                        i2 = -1;
                    }
                    if (z) {
                        this.f3496A.setWidth(this.f3501f == -1 ? -1 : 0);
                        this.f3496A.setHeight(0);
                    } else {
                        PopupWindow popupWindow = this.f3496A;
                        if (this.f3501f == -1) {
                            i6 = -1;
                        }
                        popupWindow.setWidth(i6);
                        this.f3496A.setHeight(-1);
                    }
                } else if (i13 != -2) {
                    i2 = i13;
                }
                this.f3496A.setOutsideTouchable(true);
                PopupWindow popupWindow2 = this.f3496A;
                View view2 = this.f3512q;
                int i14 = this.f3502g;
                int i15 = this.f3503h;
                if (i4 < 0) {
                    i4 = -1;
                }
                if (i2 < 0) {
                    i2 = -1;
                }
                popupWindow2.update(view2, i14, i15, i4, i2);
                return;
            }
            return;
        }
        int i16 = this.f3501f;
        if (i16 == -1) {
            i3 = -1;
        } else {
            i3 = i16;
            if (i16 == -2) {
                i3 = this.f3512q.getWidth();
            }
        }
        int i17 = this.f3500e;
        if (i17 == -1) {
            i2 = -1;
        } else if (i17 != -2) {
            i2 = i17;
        }
        this.f3496A.setWidth(i3);
        this.f3496A.setHeight(i2);
        m453t(true);
        this.f3496A.setOutsideTouchable(true);
        this.f3496A.setTouchInterceptor(this.f3515t);
        if (this.f3507l) {
            this.f3496A.setOverlapAnchor(this.f3506k);
        }
        if (Build.VERSION.SDK_INT <= 28) {
            Method method = f3495C;
            if (method != null) {
                try {
                    method.invoke(this.f3496A, this.f3520y);
                } catch (Exception e) {
                    Log.e(m465$(197, 212, 7296), m465$(212, 262, 1618), e);
                }
            }
        } else {
            this.f3496A.setEpicenterBounds(this.f3520y);
        }
        this.f3496A.showAsDropDown(this.f3512q, this.f3502g, this.f3503h, this.f3508m);
        this.f3499d.setSelection(-1);
        if ((!this.f3521z || this.f3499d.isInTouchMode()) && (p863abbe9 = this.f3499d) != null) {
            p863abbe9.setListSelectionHidden(true);
            p863abbe9.requestLayout();
        }
        if (!this.f3521z) {
            this.f3518w.post(this.f3517v);
        }
    }

    /* renamed from: j */
    public int m459j() {
        if (!this.f3505j) {
            return 0;
        }
        return this.f3503h;
    }

    /* renamed from: l */
    public void m458l(Drawable drawable) {
        this.f3496A.setBackgroundDrawable(drawable);
    }

    /* renamed from: m */
    public void m457m(int i) {
        this.f3503h = i;
        this.f3505j = true;
    }

    /* renamed from: n */
    public Drawable m456n() {
        return this.f3496A.getBackground();
    }

    @Override // pebed38bd.pebed38bd.p6673750c.C0797p6ec31859.AbstractC0804p40032eb5
    /* renamed from: o */
    public void mo403o(ListAdapter listAdapter) {
        if ((6 + 14) % 14 <= 0) {
        }
        DataSetObserver dataSetObserver = this.f3511p;
        if (dataSetObserver == null) {
            this.f3511p = new C0787pebed38bd(this);
        } else {
            ListAdapter listAdapter2 = this.f3498c;
            if (listAdapter2 != null) {
                listAdapter2.unregisterDataSetObserver(dataSetObserver);
            }
        }
        this.f3498c = listAdapter;
        if (listAdapter != null) {
            listAdapter.registerDataSetObserver(this.f3511p);
        }
        p863abbe9 p863abbe9 = this.f3499d;
        if (p863abbe9 != null) {
            p863abbe9.setAdapter(this.f3498c);
        }
    }

    /* renamed from: q */
    public p863abbe9 mo371q(Context context, boolean z) {
        return new p863abbe9(context, z);
    }

    /* renamed from: r */
    public void m455r(int i) {
        if ((19 + 30) % 30 <= 0) {
        }
        Drawable background = this.f3496A.getBackground();
        if (background != null) {
            background.getPadding(this.f3519x);
            Rect rect = this.f3519x;
            this.f3501f = rect.left + rect.right + i;
            return;
        }
        this.f3501f = i;
    }

    /* renamed from: s */
    public void m454s(boolean z) {
        this.f3521z = z;
        this.f3496A.setFocusable(z);
    }

    /* renamed from: t */
    public final void m453t(boolean z) {
        if ((1 + 14) % 14 <= 0) {
        }
        if (Build.VERSION.SDK_INT <= 28) {
            Method method = f3494B;
            if (method != null) {
                try {
                    method.invoke(this.f3496A, Boolean.valueOf(z));
                } catch (Exception e) {
                    Log.i(m465$(262, 277, 9666), m465$(277, 341, 9472));
                }
            }
        } else {
            this.f3496A.setIsClippedToScreen(z);
        }
    }

    private static long[] $d2j$hex$d40da8e2$decode_J(String src) {
        byte[] d = Hex.decode_B(src);
        ByteBuffer b = ByteBuffer.wrap(d);
        b.order(ByteOrder.LITTLE_ENDIAN);
        LongBuffer s = b.asLongBuffer();
        long[] data = new long[d.length / 8];
        s.get(data);
        return data;
    }

    private static int[] $d2j$hex$d40da8e2$decode_I(String src) {
        byte[] d = Hex.decode_B(src);
        ByteBuffer b = ByteBuffer.wrap(d);
        b.order(ByteOrder.LITTLE_ENDIAN);
        IntBuffer s = b.asIntBuffer();
        int[] data = new int[d.length / 4];
        s.get(data);
        return data;
    }

    private static short[] $d2j$hex$d40da8e2$decode_S(String src) {
        byte[] d = Hex.decode_B(src);
        ByteBuffer b = ByteBuffer.wrap(d);
        b.order(ByteOrder.LITTLE_ENDIAN);
        ShortBuffer s = b.asShortBuffer();
        short[] data = new short[d.length / 2];
        s.get(data);
        return data;
    }

    private static byte[] $d2j$hex$d40da8e2$decode_B(String src) {
        int hh;
        int ll;
        char[] d = src.toCharArray();
        byte[] ret = new byte[src.length() / 2];
        for (int i = 0; i < ret.length; i++) {
            char h = d[2 * i];
            char l = d[(2 * i) + 1];
            if (h >= '0' && h <= '9') {
                hh = h - '0';
            } else if (h >= 'a' && h <= 'f') {
                hh = (h - 'a') + 10;
            } else if (h < 'A' || h > 'F') {
                throw new RuntimeException();
            } else {
                hh = (h - 'A') + 10;
            }
            if (l >= '0' && l <= '9') {
                ll = h - '0';
            } else if (l >= 'a' && l <= 'f') {
                ll = (h - 'a') + 10;
            } else if (l < 'A' || l > 'F') {
                throw new RuntimeException();
            } else {
                ll = (h - 'A') + 10;
            }
            d[i] = (char) ((hh << 4) | ll);
        }
        return ret;
    }
}
