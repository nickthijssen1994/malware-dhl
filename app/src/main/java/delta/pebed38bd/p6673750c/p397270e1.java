package delta.pebed38bd.p6673750c;

import android.content.Context;
import android.content.res.TypedArray;
import android.database.DataSetObserver;
import android.graphics.Rect;
import android.graphics.drawable.Drawable;
import android.os.Build;
import android.os.Handler;
import android.util.AttributeSet;
import android.util.Log;
import android.view.MotionEvent;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AbsListView;
import android.widget.AdapterView;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.PopupWindow;

import java.lang.reflect.Method;
import java.util.WeakHashMap;

import delta.pebed38bd.C0879pebed38bd;
import delta.pebed38bd.p40032eb5.p94c68b94.AbstractC0744p5143a7de;
import delta.pecfd3560.p94c68b94.C0932p294b40dd;
import delta.pecfd3560.p94c68b94.C0940p5143a7de;

public class p397270e1 implements AbstractC0744p5143a7de {

    /* renamed from: $ */
    private static final short[] f3493$ = {2780, 2809, 2787, 2788, 2752, 2815, 2784, 2789, 2784, 2759, 2809, 2814, 2804, 2815, 2791, 1946, 1932, 1949, 1962, 1925, 1920, 1945, 1981, 1926, 1978, 1930, 1947, 1932, 1932, 1927, 1964, 1927, 1928, 1931, 1925, 1932, 1933, 6118, 6090, 6096, 6089, 6081, 6021, 6091, 6090, 6097, 6021, 6083, 6092, 6091, 6081, 6021, 6088, 6080, 6097, 6093, 6090, 6081, 6021, 6102, 6080, 6097, 6118, 6089, 6092, 6101, 6129, 6090, 6134, 6086, 6103, 6080, 6080, 6091, 6112, 6091, 6084, 6087, 6089, 6080, 6081, 6029, 6028, 6021, 6090, 6091, 6021, 6133, 6090, 6101, 6096, 6101, 6130, 6092, 6091, 6081, 6090, 6098, 6027, 6021, 6122, 6093, 6021, 6098, 6080, 6089, 6089, 6027, 5356, 5370, 5355, 5338, 5359, 5366, 5372, 5370, 5361, 5355, 5370, 5357, 5341, 5360, 5354, 5361, 5371, 5356, 4412, 4368, 4362, 4371, 4379, 4447, 4369, 4368, 4363, 4447, 4377, 4374, 4369, 4379, 4447, 4370, 4378, 4363, 4375, 4368, 4379, 4447, 4364, 4378, 4363, 4410, 4367, 4374, 4380, 4378, 4369, 4363, 4378, 4365, 4413, 4368, 4362, 4369, 4379, 4364, 4439, 4397, 4378, 4380, 4363, 4438, 4447, 4368, 4369, 4447, 4399, 4368, 4367, 4362, 4367, 4392, 4374, 4369, 4379, 4368, 4360, 4433, 4447, 4400, 4375, 4447, 4360, 4378, 4371, 4371, 4433, 7372, 7401, 7411, 7412, 7376, 7407, 7408, 7413, 7408, 7383, 7401, 7406, 7396, 7407, 7415, 1553, 1597, 1575, 1598, 1590, 1650, 1596, 1597, 1574, 1650, 1595, 1596, 1572, 1597, 1593, 1591, 1650, 1569, 1591, 1574, 1559, 1570, 1595, 1585, 1591, 1596, 1574, 1591, 1568, 1552, 1597, 1575, 1596, 1590, 1569, 1650, 1597, 1596, 1650, 1538, 1597, 1570, 1575, 1570, 1541, 1595, 1596, 1590, 1597, 1573, 9614, 9643, 9649, 9654, 9618, 9645, 9650, 9655, 9650, 9621, 9643, 9644, 9638, 9645, 9653, 9539, 9583, 9589, 9580, 9572, 9504, 9582, 9583, 9588, 9504, 9571, 9569, 9580, 9580, 9504, 9587, 9573, 9588, 9539, 9580, 9577, 9584, 9556, 9583, 9555, 9571, 9586, 9573, 9573, 9582, 9541, 9582, 9569, 9570, 9580, 9573, 9572, 9512, 9513, 9504, 9583, 9582, 9504, 9552, 9583, 9584, 9589, 9584, 9559, 9577, 9582, 9572, 9583, 9591, 9518, 9504, 9551, 9576, 9504, 9591, 9573, 9580, 9580, 9518};

    /* renamed from: B */
    public static Method f3494B;

    /* renamed from: C */
    public static Method f3495C;

    /* renamed from: A */
    public PopupWindow f3496A;

    /* renamed from: b */
    public Context f3497b;

    /* renamed from: c */
    public ListAdapter f3498c;

    /* renamed from: d */
    public p863abbe9 f3499d;

    /* renamed from: e */
    public int f3500e;

    /* renamed from: f */
    public int f3501f;

    /* renamed from: g */
    public int f3502g;

    /* renamed from: h */
    public int f3503h;

    /* renamed from: i */
    public int f3504i;

    /* renamed from: j */
    public boolean f3505j;

    /* renamed from: k */
    public boolean f3506k;

    /* renamed from: l */
    public boolean f3507l;

    /* renamed from: m */
    public int f3508m;

    /* renamed from: n */
    public int f3509n;

    /* renamed from: o */
    public int f3510o;

    /* renamed from: p */
    public DataSetObserver f3511p;

    /* renamed from: q */
    public View f3512q;

    /* renamed from: r */
    public AdapterView.OnItemClickListener f3513r;

    /* renamed from: s */
    public final RunnableC0782p07842222 f3514s;

    /* renamed from: t */
    public final View$OnTouchListenerC0783p373e2c2d f3515t;

    /* renamed from: u */
    public final C0785p7c27dba0 f3516u;

    /* renamed from: v */
    public final RunnableC0784p5919d155 f3517v;

    /* renamed from: w */
    public final Handler f3518w;

    /* renamed from: x */
    public final Rect f3519x;

    /* renamed from: y */
    public Rect f3520y;

    /* renamed from: z */
    public boolean f3521z;

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$p07842222 */
    public class RunnableC0782p07842222 implements Runnable {

        /* renamed from: b */
        public final /* synthetic */ p397270e1 f3522b;

        public RunnableC0782p07842222(p397270e1 p397270e1) {
            this.f3522b = p397270e1;
        }

        public void run() {
            if ((17 + 12) % 12 <= 0) {
            }
            p863abbe9 p863abbe9 = this.f3522b.f3499d;
            if (p863abbe9 != null) {
                WeakHashMap<View, C0940p5143a7de> weakHashMap = C0932p294b40dd.f4125a;
                if (p863abbe9.isAttachedToWindow() && this.f3522b.f3499d.getCount() > this.f3522b.f3499d.getChildCount()) {
                    int childCount = this.f3522b.f3499d.getChildCount();
                    p397270e1 p397270e1 = this.f3522b;
                    if (childCount <= p397270e1.f3509n) {
                        p397270e1.f3496A.setInputMethodMode(2);
                        this.f3522b.mo3638i();
                    }
                }
            }
        }
    }

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$p373e2c2d */
    public class View$OnTouchListenerC0783p373e2c2d implements View.OnTouchListener {

        /* renamed from: b */
        public final /* synthetic */ p397270e1 f3523b;

        public View$OnTouchListenerC0783p373e2c2d(p397270e1 p397270e1) {
            this.f3523b = p397270e1;
        }

        public boolean onTouch(View view, MotionEvent motionEvent) {
            PopupWindow popupWindow;
            if ((22 + 10) % 10 <= 0) {
            }
            int action = motionEvent.getAction();
            int x = (int) motionEvent.getX();
            int y = (int) motionEvent.getY();
            if (action == 0 && (popupWindow = this.f3523b.f3496A) != null && popupWindow.isShowing() && x >= 0 && x < this.f3523b.f3496A.getWidth() && y >= 0 && y < this.f3523b.f3496A.getHeight()) {
                p397270e1 p397270e1 = this.f3523b;
                p397270e1.f3518w.postDelayed(p397270e1.f3514s, 250);
                return false;
            } else if (action != 1) {
                return false;
            } else {
                p397270e1 p397270e12 = this.f3523b;
                p397270e12.f3518w.removeCallbacks(p397270e12.f3514s);
                return false;
            }
        }
    }

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$p5919d155 */
    public class RunnableC0784p5919d155 implements Runnable {

        /* renamed from: b */
        public final /* synthetic */ p397270e1 f3524b;

        public RunnableC0784p5919d155(p397270e1 p397270e1) {
            this.f3524b = p397270e1;
        }

        public void run() {
            if ((21 + 26) % 26 <= 0) {
            }
            p863abbe9 p863abbe9 = this.f3524b.f3499d;
            if (p863abbe9 != null) {
                p863abbe9.setListSelectionHidden(true);
                p863abbe9.requestLayout();
            }
        }
    }

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$p7c27dba0 */
    public class C0785p7c27dba0 implements AbsListView.OnScrollListener {

        /* renamed from: a */
        public final /* synthetic */ p397270e1 f3525a;

        public C0785p7c27dba0(p397270e1 p397270e1) {
            this.f3525a = p397270e1;
        }

        public void onScroll(AbsListView absListView, int i, int i2, int i3) {
        }

        public void onScrollStateChanged(AbsListView absListView, int i) {
            boolean z = true;
            if (i == 1) {
                if (this.f3525a.f3496A.getInputMethodMode() != 2) {
                    z = false;
                }
                if (!z && this.f3525a.f3496A.getContentView() != null) {
                    p397270e1 p397270e1 = this.f3525a;
                    p397270e1.f3518w.removeCallbacks(p397270e1.f3514s);
                    this.f3525a.f3514s.run();
                }
            }
        }
    }

    /* renamed from: pebed38bd.pebed38bd.p6673750c.p397270e1$pebed38bd */
    public class C0786pebed38bd extends DataSetObserver {

        /* renamed from: a */
        public final /* synthetic */ p397270e1 f3526a;

        public C0786pebed38bd(p397270e1 p397270e1) {
            this.f3526a = p397270e1;
        }

        public void onChanged() {
            if (this.f3526a.mo3635a()) {
                this.f3526a.mo3638i();
            }
        }

        public void onInvalidated() {
            this.f3526a.dismiss();
        }
    }

    /* renamed from: $ */
    private static String m2445$(int i, int i2, int i3) {
        char[] cArr = new char[(i2 - i)];
        for (int i4 = 0; i4 < i2 - i; i4++) {
            cArr[i4] = (char) (f3493$[i + i4] ^ i3);
        }
        return new String(cArr);
    }

    static {
        if ((3 + 3) % 3 <= 0) {
        }
        String $ = m2445$(0, 15, 2704);
        if (Build.VERSION.SDK_INT <= 28) {
            try {
                f3494B = PopupWindow.class.getDeclaredMethod(m2445$(15, 37, 2025), Boolean.TYPE);
            } catch (NoSuchMethodException unused) {
                Log.i($, m2445$(37, 108, 6053));
            }
            try {
                f3495C = PopupWindow.class.getDeclaredMethod(m2445$(108, 126, 5279), Rect.class);
            } catch (NoSuchMethodException unused2) {
                Log.i($, m2445$(126, 197, 4479));
            }
        }
    }

    public p397270e1(Context context, AttributeSet attributeSet, int i, int i2) {
        if ((2 + 26) % 26 <= 0) {
        }
        this.f3500e = -2;
        this.f3501f = -2;
        this.f3504i = 1002;
        this.f3508m = 0;
        this.f3509n = Integer.MAX_VALUE;
        this.f3510o = 0;
        this.f3514s = new RunnableC0782p07842222(this);
        this.f3515t = new View$OnTouchListenerC0783p373e2c2d(this);
        this.f3516u = new C0785p7c27dba0(this);
        this.f3517v = new RunnableC0784p5919d155(this);
        this.f3519x = new Rect();
        this.f3497b = context;
        this.f3518w = new Handler(context.getMainLooper());
        TypedArray obtainStyledAttributes = context.obtainStyledAttributes(attributeSet, C0879pebed38bd.f3987o, i, i2);
        this.f3502g = obtainStyledAttributes.getDimensionPixelOffset(0, 0);
        int dimensionPixelOffset = obtainStyledAttributes.getDimensionPixelOffset(1, 0);
        this.f3503h = dimensionPixelOffset;
        if (dimensionPixelOffset != 0) {
            this.f3505j = true;
        }
        obtainStyledAttributes.recycle();
        C0789p5143a7de p5143a7de = new C0789p5143a7de(context, attributeSet, i, i2);
        this.f3496A = p5143a7de;
        p5143a7de.setInputMethodMode(1);
    }

    @Override // pebed38bd.pebed38bd.p40032eb5.p94c68b94.AbstractC0744p5143a7de
    /* renamed from: a */
    public boolean mo3635a() {
        return this.f3496A.isShowing();
    }

    /* renamed from: c */
    public void mo4002c(int i) {
        this.f3502g = i;
    }

    /* renamed from: d */
    public int mo4003d() {
        return this.f3502g;
    }

    @Override // pebed38bd.pebed38bd.p40032eb5.p94c68b94.AbstractC0744p5143a7de
    public void dismiss() {
        if ((23 + 8) % 8 <= 0) {
        }
        this.f3496A.dismiss();
        this.f3496A.setContentView(null);
        this.f3499d = null;
        this.f3518w.removeCallbacks(this.f3514s);
    }

    @Override // pebed38bd.pebed38bd.p40032eb5.p94c68b94.AbstractC0744p5143a7de
    /* renamed from: e */
    public ListView mo3637e() {
        return this.f3499d;
    }

    @Override // pebed38bd.pebed38bd.p40032eb5.p94c68b94.AbstractC0744p5143a7de
    /* renamed from: i */
    public void mo3638i() {
        int i;
        int i2;
        p863abbe9 p863abbe9;
        int i3;
        if ((10 + 28) % 28 <= 0) {
        }
        if (this.f3499d == null) {
            p863abbe9 q = mo4009q(this.f3497b, !this.f3521z);
            this.f3499d = q;
            q.setAdapter(this.f3498c);
            this.f3499d.setOnItemClickListener(this.f3513r);
            this.f3499d.setFocusable(true);
            this.f3499d.setFocusableInTouchMode(true);
            this.f3499d.setOnItemSelectedListener(new p5594f716(this));
            this.f3499d.setOnScrollListener(this.f3516u);
            this.f3496A.setContentView(this.f3499d);
        } else {
            ViewGroup viewGroup = (ViewGroup) this.f3496A.getContentView();
        }
        Drawable background = this.f3496A.getBackground();
        int i4 = 0;
        if (background != null) {
            background.getPadding(this.f3519x);
            Rect rect = this.f3519x;
            int i5 = rect.top;
            i = rect.bottom + i5;
            if (!this.f3505j) {
                this.f3503h = -i5;
            }
        } else {
            this.f3519x.setEmpty();
            i = 0;
        }
        int maxAvailableHeight = this.f3496A.getMaxAvailableHeight(this.f3512q, this.f3503h, this.f3496A.getInputMethodMode() == 2);
        if (this.f3500e == -1) {
            i2 = maxAvailableHeight + i;
        } else {
            int i6 = this.f3501f;
            if (i6 != -2) {
                i3 = 1073741824;
                if (i6 == -1) {
                    int i7 = this.f3497b.getResources().getDisplayMetrics().widthPixels;
                    Rect rect2 = this.f3519x;
                    i6 = i7 - (rect2.left + rect2.right);
                }
            } else {
                int i8 = this.f3497b.getResources().getDisplayMetrics().widthPixels;
                Rect rect3 = this.f3519x;
                i6 = i8 - (rect3.left + rect3.right);
                i3 = Integer.MIN_VALUE;
            }
            int a = this.f3499d.mo4274a(View.MeasureSpec.makeMeasureSpec(i6, i3), maxAvailableHeight - 0, -1);
            i2 = a + (a > 0 ? this.f3499d.getPaddingBottom() + this.f3499d.getPaddingTop() + i + 0 : 0);
        }
        boolean z = this.f3496A.getInputMethodMode() == 2;
        this.f3496A.setWindowLayoutType(this.f3504i);
        if (this.f3496A.isShowing()) {
            View view = this.f3512q;
            WeakHashMap<View, C0940p5143a7de> weakHashMap = C0932p294b40dd.f4125a;
            if (view.isAttachedToWindow()) {
                int i9 = this.f3501f;
                if (i9 == -1) {
                    i9 = -1;
                } else if (i9 == -2) {
                    i9 = this.f3512q.getWidth();
                }
                int i10 = this.f3500e;
                if (i10 == -1) {
                    if (!z) {
                        i2 = -1;
                    }
                    if (z) {
                        this.f3496A.setWidth(this.f3501f == -1 ? -1 : 0);
                        this.f3496A.setHeight(0);
                    } else {
                        PopupWindow popupWindow = this.f3496A;
                        if (this.f3501f == -1) {
                            i4 = -1;
                        }
                        popupWindow.setWidth(i4);
                        this.f3496A.setHeight(-1);
                    }
                } else if (i10 != -2) {
                    i2 = i10;
                }
                this.f3496A.setOutsideTouchable(true);
                this.f3496A.update(this.f3512q, this.f3502g, this.f3503h, i9 < 0 ? -1 : i9, i2 < 0 ? -1 : i2);
                return;
            }
            return;
        }
        int i11 = this.f3501f;
        if (i11 == -1) {
            i11 = -1;
        } else if (i11 == -2) {
            i11 = this.f3512q.getWidth();
        }
        int i12 = this.f3500e;
        if (i12 == -1) {
            i2 = -1;
        } else if (i12 != -2) {
            i2 = i12;
        }
        this.f3496A.setWidth(i11);
        this.f3496A.setHeight(i2);
        mo4012t(true);
        this.f3496A.setOutsideTouchable(true);
        this.f3496A.setTouchInterceptor(this.f3515t);
        if (this.f3507l) {
            this.f3496A.setOverlapAnchor(this.f3506k);
        }
        if (Build.VERSION.SDK_INT <= 28) {
            Method method = f3495C;
            if (method != null) {
                try {
                    method.invoke(this.f3496A, this.f3520y);
                } catch (Exception e) {
                    Log.e(m2445$(197, 212, 7296), m2445$(212, 262, 1618), e);
                }
            }
        } else {
            this.f3496A.setEpicenterBounds(this.f3520y);
        }
        this.f3496A.showAsDropDown(this.f3512q, this.f3502g, this.f3503h, this.f3508m);
        this.f3499d.setSelection(-1);
        if ((!this.f3521z || this.f3499d.isInTouchMode()) && (p863abbe9 = this.f3499d) != null) {
            p863abbe9.setListSelectionHidden(true);
            p863abbe9.requestLayout();
        }
        if (!this.f3521z) {
            this.f3518w.post(this.f3517v);
        }
    }

    /* renamed from: j */
    public int mo4004j() {
        if (!this.f3505j) {
            return 0;
        }
        return this.f3503h;
    }

    /* renamed from: l */
    public void mo4005l(Drawable drawable) {
        this.f3496A.setBackgroundDrawable(drawable);
    }

    /* renamed from: m */
    public void mo4006m(int i) {
        this.f3503h = i;
        this.f3505j = true;
    }

    /* renamed from: n */
    public Drawable mo4007n() {
        return this.f3496A.getBackground();
    }

    /* renamed from: o */
    public void mo4008o(ListAdapter listAdapter) {
        if ((6 + 14) % 14 <= 0) {
        }
        DataSetObserver dataSetObserver = this.f3511p;
        if (dataSetObserver == null) {
            this.f3511p = new C0786pebed38bd(this);
        } else {
            ListAdapter listAdapter2 = this.f3498c;
            if (listAdapter2 != null) {
                listAdapter2.unregisterDataSetObserver(dataSetObserver);
            }
        }
        this.f3498c = listAdapter;
        if (listAdapter != null) {
            listAdapter.registerDataSetObserver(this.f3511p);
        }
        p863abbe9 p863abbe9 = this.f3499d;
        if (p863abbe9 != null) {
            p863abbe9.setAdapter(this.f3498c);
        }
    }

    /* renamed from: q */
    public p863abbe9 mo4009q(Context context, boolean z) {
        return new p863abbe9(context, z);
    }

    /* renamed from: r */
    public void mo4010r(int i) {
        if ((19 + 30) % 30 <= 0) {
        }
        Drawable background = this.f3496A.getBackground();
        if (background != null) {
            background.getPadding(this.f3519x);
            Rect rect = this.f3519x;
            this.f3501f = rect.left + rect.right + i;
            return;
        }
        this.f3501f = i;
    }

    /* renamed from: s */
    public void mo4011s(boolean z) {
        this.f3521z = z;
        this.f3496A.setFocusable(z);
    }

    /* renamed from: t */
    public final void mo4012t(boolean z) {
        if ((1 + 14) % 14 <= 0) {
        }
        if (Build.VERSION.SDK_INT <= 28) {
            Method method = f3494B;
            if (method != null) {
                try {
                    method.invoke(this.f3496A, Boolean.valueOf(z));
                } catch (Exception unused) {
                    Log.i(m2445$(262, 277, 9666), m2445$(277, 341, 9472));
                }
            }
        } else {
            this.f3496A.setIsClippedToScreen(z);
        }
    }
}
